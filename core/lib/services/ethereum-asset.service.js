'use strict';var a34_0x1c7b01=a34_0x13c2;(function(_0x2084c9,_0x1e9b7b){var _0x15a125=a34_0x13c2,_0x42f08e=_0x2084c9();while(!![]){try{var _0x53e139=parseInt(_0x15a125(0x2bb))/0x1+-parseInt(_0x15a125(0x2be))/0x2+parseInt(_0x15a125(0x2d9))/0x3+parseInt(_0x15a125(0x24b))/0x4*(parseInt(_0x15a125(0x293))/0x5)+parseInt(_0x15a125(0x29c))/0x6+-parseInt(_0x15a125(0x24f))/0x7*(parseInt(_0x15a125(0x2a2))/0x8)+-parseInt(_0x15a125(0x242))/0x9*(parseInt(_0x15a125(0x2f9))/0xa);if(_0x53e139===_0x1e9b7b)break;else _0x42f08e['push'](_0x42f08e['shift']());}catch(_0x3a93ae){_0x42f08e['push'](_0x42f08e['shift']());}}}(a34_0x3059,0xd0c05));function a34_0x13c2(_0x19ea92,_0x5e6f27){var _0x30596f=a34_0x3059();return a34_0x13c2=function(_0x13c25d,_0x40337f){_0x13c25d=_0x13c25d-0x1ed;var _0x517ff7=_0x30596f[_0x13c25d];return _0x517ff7;},a34_0x13c2(_0x19ea92,_0x5e6f27);}var __awaiter=this&&this['__awaiter']||function(_0x7538dc,_0x2ba4b8,_0x508aa6,_0x41aa58){function _0x57cc5a(_0x5dfccb){return _0x5dfccb instanceof _0x508aa6?_0x5dfccb:new _0x508aa6(function(_0x334c80){_0x334c80(_0x5dfccb);});}return new(_0x508aa6||(_0x508aa6=Promise))(function(_0x929eaf,_0x45fd15){var _0x578bd5=a34_0x13c2;function _0x2048a6(_0x483e6c){try{_0x536a2a(_0x41aa58['next'](_0x483e6c));}catch(_0x10a90f){_0x45fd15(_0x10a90f);}}function _0x44693d(_0x475b07){var _0x3db746=a34_0x13c2;try{_0x536a2a(_0x41aa58[_0x3db746(0x216)](_0x475b07));}catch(_0x29f8b9){_0x45fd15(_0x29f8b9);}}function _0x536a2a(_0x266b84){var _0x222f7e=a34_0x13c2;_0x266b84[_0x222f7e(0x2bf)]?_0x929eaf(_0x266b84[_0x222f7e(0x263)]):_0x57cc5a(_0x266b84[_0x222f7e(0x263)])[_0x222f7e(0x217)](_0x2048a6,_0x44693d);}_0x536a2a((_0x41aa58=_0x41aa58['apply'](_0x7538dc,_0x2ba4b8||[]))[_0x578bd5(0x27a)]());});},__generator=this&&this[a34_0x1c7b01(0x239)]||function(_0x25aab4,_0xa6ab6c){var _0x2de15c=a34_0x1c7b01,_0x38a069={'label':0x0,'sent':function(){if(_0x30df7b[0x0]&0x1)throw _0x30df7b[0x1];return _0x30df7b[0x1];},'trys':[],'ops':[]},_0x31edf2,_0x71ade4,_0x30df7b,_0x133059;return _0x133059={'next':_0x1e15c6(0x0),'throw':_0x1e15c6(0x1),'return':_0x1e15c6(0x2)},typeof Symbol===_0x2de15c(0x28f)&&(_0x133059[Symbol[_0x2de15c(0x246)]]=function(){return this;}),_0x133059;function _0x1e15c6(_0x540ef3){return function(_0x587eee){return _0x1463f0([_0x540ef3,_0x587eee]);};}function _0x1463f0(_0x515c39){var _0x5a6cd1=_0x2de15c;if(_0x31edf2)throw new TypeError(_0x5a6cd1(0x2ad));while(_0x38a069)try{if(_0x31edf2=0x1,_0x71ade4&&(_0x30df7b=_0x515c39[0x0]&0x2?_0x71ade4[_0x5a6cd1(0x308)]:_0x515c39[0x0]?_0x71ade4[_0x5a6cd1(0x216)]||((_0x30df7b=_0x71ade4[_0x5a6cd1(0x308)])&&_0x30df7b[_0x5a6cd1(0x2c4)](_0x71ade4),0x0):_0x71ade4[_0x5a6cd1(0x27a)])&&!(_0x30df7b=_0x30df7b['call'](_0x71ade4,_0x515c39[0x1]))[_0x5a6cd1(0x2bf)])return _0x30df7b;if(_0x71ade4=0x0,_0x30df7b)_0x515c39=[_0x515c39[0x0]&0x2,_0x30df7b['value']];switch(_0x515c39[0x0]){case 0x0:case 0x1:_0x30df7b=_0x515c39;break;case 0x4:_0x38a069[_0x5a6cd1(0x273)]++;return{'value':_0x515c39[0x1],'done':![]};case 0x5:_0x38a069['label']++,_0x71ade4=_0x515c39[0x1],_0x515c39=[0x0];continue;case 0x7:_0x515c39=_0x38a069['ops']['pop'](),_0x38a069['trys']['pop']();continue;default:if(!(_0x30df7b=_0x38a069[_0x5a6cd1(0x2b6)],_0x30df7b=_0x30df7b[_0x5a6cd1(0x28d)]>0x0&&_0x30df7b[_0x30df7b[_0x5a6cd1(0x28d)]-0x1])&&(_0x515c39[0x0]===0x6||_0x515c39[0x0]===0x2)){_0x38a069=0x0;continue;}if(_0x515c39[0x0]===0x3&&(!_0x30df7b||_0x515c39[0x1]>_0x30df7b[0x0]&&_0x515c39[0x1]<_0x30df7b[0x3])){_0x38a069['label']=_0x515c39[0x1];break;}if(_0x515c39[0x0]===0x6&&_0x38a069[_0x5a6cd1(0x273)]<_0x30df7b[0x1]){_0x38a069[_0x5a6cd1(0x273)]=_0x30df7b[0x1],_0x30df7b=_0x515c39;break;}if(_0x30df7b&&_0x38a069[_0x5a6cd1(0x273)]<_0x30df7b[0x2]){_0x38a069[_0x5a6cd1(0x273)]=_0x30df7b[0x2],_0x38a069[_0x5a6cd1(0x295)][_0x5a6cd1(0x26d)](_0x515c39);break;}if(_0x30df7b[0x2])_0x38a069[_0x5a6cd1(0x295)][_0x5a6cd1(0x2b5)]();_0x38a069[_0x5a6cd1(0x2b6)][_0x5a6cd1(0x2b5)]();continue;}_0x515c39=_0xa6ab6c[_0x5a6cd1(0x2c4)](_0x25aab4,_0x38a069);}catch(_0xbc16b6){_0x515c39=[0x6,_0xbc16b6],_0x71ade4=0x0;}finally{_0x31edf2=_0x30df7b=0x0;}if(_0x515c39[0x0]&0x5)throw _0x515c39[0x1];return{'value':_0x515c39[0x0]?_0x515c39[0x1]:void 0x0,'done':!![]};}},__asyncValues=this&&this['__asyncValues']||function(_0x3435ac){var _0x3c0595=a34_0x1c7b01;if(!Symbol[_0x3c0595(0x2e3)])throw new TypeError(_0x3c0595(0x25d));var _0x53107d=_0x3435ac[Symbol[_0x3c0595(0x2e3)]],_0x5ec20e;return _0x53107d?_0x53107d[_0x3c0595(0x2c4)](_0x3435ac):(_0x3435ac=typeof __values===_0x3c0595(0x28f)?__values(_0x3435ac):_0x3435ac[Symbol[_0x3c0595(0x246)]](),_0x5ec20e={},_0x4c7499(_0x3c0595(0x27a)),_0x4c7499(_0x3c0595(0x216)),_0x4c7499(_0x3c0595(0x308)),_0x5ec20e[Symbol[_0x3c0595(0x2e3)]]=function(){return this;},_0x5ec20e);function _0x4c7499(_0x340fc7){_0x5ec20e[_0x340fc7]=_0x3435ac[_0x340fc7]&&function(_0x32b320){return new Promise(function(_0xf5d45e,_0x38c685){var _0x3efd1d=a34_0x13c2;_0x32b320=_0x3435ac[_0x340fc7](_0x32b320),_0x17cdcc(_0xf5d45e,_0x38c685,_0x32b320[_0x3efd1d(0x2bf)],_0x32b320['value']);});};}function _0x17cdcc(_0x292c1a,_0x35c6c8,_0x46cf5f,_0x568ef7){var _0x3eedb3=_0x3c0595;Promise[_0x3eedb3(0x277)](_0x568ef7)[_0x3eedb3(0x217)](function(_0x6f67ae){_0x292c1a({'value':_0x6f67ae,'done':_0x46cf5f});},_0x35c6c8);}},__spreadArrays=this&&this[a34_0x1c7b01(0x1f2)]||function(){var _0x12e231=a34_0x1c7b01;for(var _0x1abd4e=0x0,_0x38d110=0x0,_0xe37476=arguments[_0x12e231(0x28d)];_0x38d110<_0xe37476;_0x38d110++)_0x1abd4e+=arguments[_0x38d110][_0x12e231(0x28d)];for(var _0x2df912=Array(_0x1abd4e),_0x31132=0x0,_0x38d110=0x0;_0x38d110<_0xe37476;_0x38d110++)for(var _0x3905a5=arguments[_0x38d110],_0x58e533=0x0,_0x45817b=_0x3905a5[_0x12e231(0x28d)];_0x58e533<_0x45817b;_0x58e533++,_0x31132++)_0x2df912[_0x31132]=_0x3905a5[_0x58e533];return _0x2df912;},__importDefault=this&&this[a34_0x1c7b01(0x26f)]||function(_0x51f973){var _0x4794c6=a34_0x1c7b01;return _0x51f973&&_0x51f973[_0x4794c6(0x2ef)]?_0x51f973:{'default':_0x51f973};};Object[a34_0x1c7b01(0x262)](exports,a34_0x1c7b01(0x2ef),{'value':!![]}),exports[a34_0x1c7b01(0x30d)]=void 0x0;var readonly_data_property_permission_exception_1=require(a34_0x1c7b01(0x27b)),interfaces_1=require('../interfaces/interfaces'),proof_signature_data_class_1=require('../classes/proof-signature-data.class'),verifiable_credential_class_1=require(a34_0x1c7b01(0x268)),verifiable_presentation_class_1=require('../classes/verifiable-presentation.class'),proof_class_1=require(a34_0x1c7b01(0x294)),data_property_exist_exception_1=require(a34_0x1c7b01(0x2c9)),missing_data_property_permission_exception_1=require(a34_0x1c7b01(0x22e)),data_property_empty_exception_1=require('../exceptions/data-property-empty.exception'),missing_data_property_exception_1=require(a34_0x1c7b01(0x220)),winston_1=require('winston'),asset_helper_service_1=require(a34_0x1c7b01(0x27f)),did_resolver_1=require(a34_0x1c7b01(0x2a1)),ethr_did_resolver_1=require(a34_0x1c7b01(0x205)),ethers_1=require(a34_0x1c7b01(0x2b4)),ethr_did_1=require(a34_0x1c7b01(0x232)),ensjs_1=__importDefault(require(a34_0x1c7b01(0x224))),invalid_address_exception_1=require('../exceptions/invalid-address.exception'),invalid_did_syntax_exception_1=require('../exceptions/invalid-did-syntax.exception'),invalid_asset_type_exception_1=require(a34_0x1c7b01(0x257)),__1=require('..'),did_update_forbidded_exception_1=require(a34_0x1c7b01(0x251)),invalid_signer_exception_1=require(a34_0x1c7b01(0x23a)),ens_unauthorized_exception_1=require(a34_0x1c7b01(0x314)),ipfs_http_client_1=require('ipfs-http-client'),experimental_1=require(a34_0x1c7b01(0x276)),bs58=require(a34_0x1c7b01(0x24e)),ASSET_CONTRACT=require('../../artifacts/contracts/Asset.sol/Asset.json'),DID_REGISTRY_CONTRACT=require(a34_0x1c7b01(0x249)),ATTESTATION_REGISTRY_CONTRACT=require('../../artifacts/contracts/AttestationRegistry.sol/AttestationRegistry.json'),ENS_INTERFACE=require(a34_0x1c7b01(0x2b7)),ENS_RESOLVER_INTERFACE=require(a34_0x1c7b01(0x2a7)),ZERO_ADDRESS='0x0000000000000000000000000000000000000000',ZERO_HASH=a34_0x1c7b01(0x2fc),EthereumAssetService=(function(){var _0x44288b=a34_0x1c7b01;function _0xcf0fe7(_0x252b6e){var _0x47bde5=a34_0x13c2,_0x3d481b=this;this[_0x47bde5(0x307)]=_0x252b6e,this['proofSignatureType']=_0x47bde5(0x21a),this[_0x47bde5(0x30c)]={'ipfs':{'host':this[_0x47bde5(0x307)][_0x47bde5(0x2b1)](_0x47bde5(0x25f)),'port':this[_0x47bde5(0x307)][_0x47bde5(0x228)]('ipfsPort',_0x47bde5(0x2ff)),'protocol':this[_0x47bde5(0x307)][_0x47bde5(0x228)]('ipfsProtocol',_0x47bde5(0x25e)),'path':this[_0x47bde5(0x307)][_0x47bde5(0x228)](_0x47bde5(0x241),'/api/v0')},'web3Provider':this['config']['getOrThrow'](_0x47bde5(0x265)),'chainId':this['config'][_0x47bde5(0x2b1)](_0x47bde5(0x2c3)),'networkName':this[_0x47bde5(0x307)][_0x47bde5(0x2b1)](_0x47bde5(0x30e)),'accountAddress':this['config'][_0x47bde5(0x2b1)](_0x47bde5(0x2e4)),'accountPrivateKey':this[_0x47bde5(0x307)][_0x47bde5(0x2b1)]('accountPrivateKey'),'didRegistryAddress':this['config'][_0x47bde5(0x2b1)](_0x47bde5(0x2ce)),'attestationRegistryAddress':this[_0x47bde5(0x307)][_0x47bde5(0x2b1)]('attestationRegistryAddress'),'ensAddress':this[_0x47bde5(0x307)][_0x47bde5(0x2b1)]('ensAddress'),'didDefaultValidity':this[_0x47bde5(0x307)][_0x47bde5(0x228)](_0x47bde5(0x2ab),'31536000000'),'resolverName':this['config'][_0x47bde5(0x228)]('resolverName',_0x47bde5(0x305)),'gasLimit':Number(this[_0x47bde5(0x307)][_0x47bde5(0x228)](_0x47bde5(0x2fa),_0x47bde5(0x288)))},this[_0x47bde5(0x270)]={'gasLimit':this[_0x47bde5(0x30c)][_0x47bde5(0x2fa)]?Number(this[_0x47bde5(0x30c)][_0x47bde5(0x2fa)]):undefined},this[_0x47bde5(0x318)]=winston_1[_0x47bde5(0x258)][_0x47bde5(0x2ee)](function(_0x169d7d){var _0x4086ed=_0x47bde5,_0x21f001=_0x169d7d[_0x4086ed(0x2da)],_0x1eadd7=_0x169d7d[_0x4086ed(0x21d)],_0x42c727=_0x169d7d[_0x4086ed(0x273)],_0x41108d=_0x169d7d[_0x4086ed(0x23c)];return _0x41108d+'\x20['+_0x42c727+']\x20'+_0x21f001+':\x20'+_0x1eadd7;}),this['loggerOptions']={'transports':new winston_1[(_0x47bde5(0x2ea))][(_0x47bde5(0x286))]({'level':process['env'][_0x47bde5(0x2e0)]||_0x47bde5(0x21c)}),'format':winston_1[_0x47bde5(0x258)][_0x47bde5(0x2b8)](winston_1[_0x47bde5(0x258)][_0x47bde5(0x273)]({'label':_0xcf0fe7[_0x47bde5(0x25b)]}),winston_1['format']['timestamp'](),winston_1['format'][_0x47bde5(0x2e9)](),this['loggerFormat'])},this[_0x47bde5(0x278)]=winston_1[_0x47bde5(0x1f4)](this[_0x47bde5(0x2ed)]),this['emptybytes32']=ethers_1[_0x47bde5(0x2b4)]['constants'][_0x47bde5(0x256)],this[_0x47bde5(0x218)]=function(_0x1b9d32,_0x413a63,_0x121a1c){return new Promise(function(_0xf90099){return __awaiter(_0x3d481b,void 0x0,void 0x0,function(){var _0x51bb5f,_0x53fe9b=this;return __generator(this,function(_0x5e8645){var _0x54e240=a34_0x13c2;switch(_0x5e8645[_0x54e240(0x273)]){case 0x0:this['logger']['debug']('verify\x20signature\x20'+_0x121a1c+_0x54e240(0x201)+_0x413a63+_0x54e240(0x22a)+_0x1b9d32);return[0x4,this['getSignersFromDocument'](_0x1b9d32)];case 0x1:_0x51bb5f=_0x5e8645[_0x54e240(0x2ae)](),_0x51bb5f[_0x54e240(0x244)](function(_0x475714){var _0x52d439=_0x54e240,_0xb09e42,_0x617082=(_0xb09e42=_0x475714[_0x52d439(0x30b)])===null||_0xb09e42===void 0x0?void 0x0:_0xb09e42['substr'](0x0,0x2a);_0xf90099(_0x53fe9b[_0x52d439(0x2f7)](_0x617082,_0x413a63,_0x121a1c));});return[0x2];}});});});},this[_0x47bde5(0x287)]=new asset_helper_service_1[(_0x47bde5(0x2db))]();}return _0xcf0fe7['prototype'][_0x44288b(0x2d6)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1c203f,_0x4195d3,_0x58de74,_0x291d10,_0xd69d83,_0xa2505,_0x381499,_0x1db8e6=this;return __generator(this,function(_0x31a437){var _0x3c3a62=a34_0x13c2;return this['logger'][_0x3c3a62(0x21c)](_0x3c3a62(0x297)),_0x1c203f=ipfs_http_client_1[_0x3c3a62(0x285)]({'host':this[_0x3c3a62(0x30c)][_0x3c3a62(0x310)][_0x3c3a62(0x1ed)],'port':Number(this[_0x3c3a62(0x30c)][_0x3c3a62(0x310)][_0x3c3a62(0x20b)]),'protocol':this[_0x3c3a62(0x30c)][_0x3c3a62(0x310)][_0x3c3a62(0x2d0)],'apiPath':this[_0x3c3a62(0x30c)][_0x3c3a62(0x310)][_0x3c3a62(0x223)],'timeout':0x7d0}),this['runtimeConfig'][_0x3c3a62(0x265)]['startsWith']('ws')?(this[_0x3c3a62(0x278)][_0x3c3a62(0x2a0)](_0x3c3a62(0x254)),_0x4195d3=new ethers_1[(_0x3c3a62(0x2b4))]['providers'][(_0x3c3a62(0x29d))](this[_0x3c3a62(0x30c)][_0x3c3a62(0x265)]),_0x4195d3[_0x3c3a62(0x227)][_0x3c3a62(0x300)](_0x3c3a62(0x1fe),function(_0x38e697){return __awaiter(_0x1db8e6,void 0x0,void 0x0,function(){return __generator(this,function(_0x424342){var _0x5d0c99=a34_0x13c2;switch(_0x424342[_0x5d0c99(0x273)]){case 0x0:this[_0x5d0c99(0x278)][_0x5d0c99(0x21c)]('Web\x20Socket:\x20trying\x20to\x20reconnect'),_0x4195d3['_websocket'][_0x5d0c99(0x28e)]();return[0x4,new Promise(function(_0x22c2c1){return setTimeout(_0x22c2c1,0x1388);})];case 0x1:_0x424342[_0x5d0c99(0x2ae)](),this[_0x5d0c99(0x2d6)]();return[0x2];}});});}),_0x4195d3['_websocket'][_0x3c3a62(0x300)](_0x3c3a62(0x23f),function(_0x48ccba){return __awaiter(_0x1db8e6,void 0x0,void 0x0,function(){return __generator(this,function(_0x4fbf94){var _0x59a033=a34_0x13c2;return this[_0x59a033(0x278)][_0x59a033(0x23f)]('WebSocket:\x20connection\x20lost:\x20'+_0x48ccba),[0x2];});});})):(this[_0x3c3a62(0x278)][_0x3c3a62(0x2a0)](_0x3c3a62(0x235)),_0x4195d3=new ethers_1['ethers']['providers'][(_0x3c3a62(0x211))](this['runtimeConfig'][_0x3c3a62(0x265)])),_0x58de74=new ethers_1[(_0x3c3a62(0x2b4))][(_0x3c3a62(0x312))](this[_0x3c3a62(0x30c)]['accountPrivateKey']),_0x291d10=new experimental_1[(_0x3c3a62(0x261))](_0x58de74[_0x3c3a62(0x207)](_0x4195d3)),this[_0x3c3a62(0x278)][_0x3c3a62(0x21c)](_0x3c3a62(0x236)),_0xd69d83=new ensjs_1[(_0x3c3a62(0x2cb))]({'provider':_0x4195d3,'ensAddress':this[_0x3c3a62(0x30c)][_0x3c3a62(0x316)]}),_0xa2505={'networks':[{'name':this[_0x3c3a62(0x30c)][_0x3c3a62(0x30e)],'registry':this['runtimeConfig']['didRegistryAddress'],'provider':_0x4195d3,'chainId':this[_0x3c3a62(0x30c)][_0x3c3a62(0x2c3)]}]},_0x381499=ethr_did_resolver_1['getResolver'](_0xa2505),this[_0x3c3a62(0x301)]={'ipfsClient':_0x1c203f,'nonceManager':_0x291d10,'provider':_0x4195d3,'ens':_0xd69d83,'ethrDidResolver':_0x381499},this[_0x3c3a62(0x278)][_0x3c3a62(0x21c)](_0x3c3a62(0x282)+this['runtime']['nonceManager'][_0x3c3a62(0x271)][_0x3c3a62(0x290)]),[0x2];});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x225)]=function(_0x1ace27,_0x8e20df,_0x519555,_0x30ecb9){return __awaiter(this,void 0x0,void 0x0,function(){var _0x21a1fe;return __generator(this,function(_0x121e55){var _0x33755a=a34_0x13c2;switch(_0x121e55['label']){case 0x0:this[_0x33755a(0x278)][_0x33755a(0x21c)](_0x33755a(0x2dc)+_0x1ace27+_0x33755a(0x20f)+_0x519555),_0x21a1fe='';if(!(_0x30ecb9&&_0x519555&&_0x519555==='account'))return[0x3,0x1];_0x21a1fe=this[_0x33755a(0x2c8)](_0x30ecb9);return[0x3,0x3];case 0x1:this[_0x33755a(0x278)]['info'](_0x33755a(0x240));return[0x4,this['createDataAndContractAsset'](_0x1ace27,_0x8e20df,_0x519555)];case 0x2:_0x21a1fe=_0x121e55[_0x33755a(0x2ae)](),_0x121e55[_0x33755a(0x273)]=0x3;case 0x3:this[_0x33755a(0x278)][_0x33755a(0x21c)](_0x33755a(0x21f)+_0x21a1fe);return[0x2,_0x21a1fe];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x2c8)]=function(_0x4be4dc){var _0x118566=_0x44288b;return this[_0x118566(0x243)](_0x4be4dc);},_0xcf0fe7[_0x44288b(0x209)]['createDataAndContractAsset']=function(_0x3efd6f,_0x2acc37,_0x53403d){return __awaiter(this,void 0x0,void 0x0,function(){var _0xc398e,_0x431918,_0x10fa57,_0x1aa2d5,_0x1318ba,_0x5eb3ce,_0x4e4441,_0x595a1f,_0x3af7c0,_0x528dd7,_0x3931e0,_0x5ea17b,_0x1791c5;return __generator(this,function(_0x11a507){var _0x570ad4=a34_0x13c2;switch(_0x11a507['label']){case 0x0:_0x2acc37[_0x570ad4(0x25b)]=_0x3efd6f,_0xc398e=new ethers_1[(_0x570ad4(0x2b4))][(_0x570ad4(0x231))](ASSET_CONTRACT[_0x570ad4(0x2fd)],ASSET_CONTRACT['bytecode'],this[_0x570ad4(0x301)][_0x570ad4(0x2a4)]),_0x431918=[],_0x10fa57=[],_0x1aa2d5=_0x570ad4(0x2de);if(_0x53403d&&_0x53403d===_0x570ad4(0x1ee)&&!_0x2acc37[_0x570ad4(0x2e8)](_0x1aa2d5))throw new missing_data_property_exception_1[(_0x570ad4(0x259))](_0x1aa2d5);_0x1318ba=[];for(_0x5eb3ce in _0x2acc37)_0x1318ba['push'](_0x5eb3ce);_0x4e4441=0x0,_0x11a507[_0x570ad4(0x273)]=0x1;case 0x1:if(!(_0x4e4441<_0x1318ba[_0x570ad4(0x28d)]))return[0x3,0x4];_0x595a1f=_0x1318ba[_0x4e4441];if(!_0x2acc37[_0x570ad4(0x2e8)](_0x595a1f))return[0x3,0x3];_0x3af7c0=ethers_1[_0x570ad4(0x2b4)][_0x570ad4(0x2e2)]['id'](_0x595a1f),_0x528dd7=JSON[_0x570ad4(0x279)](_0x2acc37[_0x595a1f]);return[0x4,this[_0x570ad4(0x301)][_0x570ad4(0x2f1)][_0x570ad4(0x234)](Buffer[_0x570ad4(0x315)](_0x528dd7))];case 0x2:_0x3931e0=_0x11a507[_0x570ad4(0x2ae)](),_0x431918[_0x570ad4(0x26d)](_0x3af7c0),_0x10fa57['push'](this[_0x570ad4(0x1fb)](String(_0x3931e0[_0x570ad4(0x2a9)]))),_0x11a507['label']=0x3;case 0x3:_0x4e4441++;return[0x3,0x1];case 0x4:this[_0x570ad4(0x278)][_0x570ad4(0x21c)](_0x570ad4(0x2ca));return[0x4,_0xc398e[_0x570ad4(0x313)](this['runtimeConfig']['didRegistryAddress'],_0x431918,_0x10fa57,this['transactionOptions'])];case 0x5:_0x5ea17b=_0x11a507[_0x570ad4(0x2ae)]();return[0x4,_0x5ea17b['deployed']()];case 0x6:_0x11a507[_0x570ad4(0x2ae)](),_0x1791c5=_0x5ea17b[_0x570ad4(0x290)],this['logger'][_0x570ad4(0x2a0)](_0x570ad4(0x280)+_0x1791c5);return[0x2,this['convertAddressToDid'](_0x1791c5)];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x304)]=function(_0x403f7f,_0x236304,_0x9629c4){return __awaiter(this,void 0x0,void 0x0,function(){var _0x56656b,_0x301dc4,_0xea77d,_0x5b097c,_0x3892c9,_0x5a75fa,_0x5a5c87,_0x4a053f;return __generator(this,function(_0x110c4d){var _0x5cb6ec=a34_0x13c2;switch(_0x110c4d['label']){case 0x0:_0x56656b=this[_0x5cb6ec(0x226)](_0x403f7f),_0x301dc4=_0x9629c4['map'](function(_0x55d51c){var _0x11525b=_0x5cb6ec;return ethers_1[_0x11525b(0x2b4)][_0x11525b(0x2e2)]['id'](_0x55d51c);}),_0xea77d=new ethers_1[(_0x5cb6ec(0x2b4))][(_0x5cb6ec(0x2fe))](_0x56656b,ASSET_CONTRACT[_0x5cb6ec(0x2fd)],this[_0x5cb6ec(0x301)][_0x5cb6ec(0x2a4)]),(_0x5b097c=0x0,_0x3892c9=_0x236304),_0x110c4d[_0x5cb6ec(0x273)]=0x1;case 0x1:if(!(_0x5b097c<_0x3892c9[_0x5cb6ec(0x28d)]))return[0x3,0x5];_0x5a75fa=_0x3892c9[_0x5b097c],_0x5a5c87=this[_0x5cb6ec(0x226)](_0x5a75fa),this[_0x5cb6ec(0x278)][_0x5cb6ec(0x21c)]('give\x20address\x20'+_0x5a5c87+_0x5cb6ec(0x24a)+_0x5a75fa+_0x5cb6ec(0x222)+_0x9629c4['join']()+_0x5cb6ec(0x2cd)+_0x56656b);return[0x4,_0xea77d[_0x5cb6ec(0x2c0)](_0x301dc4,_0x5a5c87,this[_0x5cb6ec(0x270)])];case 0x2:_0x4a053f=_0x110c4d[_0x5cb6ec(0x2ae)]();return[0x4,_0x4a053f['wait']()];case 0x3:_0x110c4d[_0x5cb6ec(0x2ae)](),_0x110c4d[_0x5cb6ec(0x273)]=0x4;case 0x4:_0x5b097c++;return[0x3,0x1];case 0x5:return[0x2];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x230)]=function(_0x528e60,_0x5bb06f){return __awaiter(this,void 0x0,void 0x0,function(){var _0xd8e881,_0x17a5bd,_0x15f9e2,_0x40ce09,_0xc921e4,_0x49a73b,_0x3f7738,_0x2de48f=this;return __generator(this,function(_0x262f99){var _0x1ee3df=a34_0x13c2;switch(_0x262f99[_0x1ee3df(0x273)]){case 0x0:return[0x4,this['getAddressOfEthrDid'](_0x528e60)];case 0x1:_0xd8e881=_0x262f99[_0x1ee3df(0x2ae)](),_0x17a5bd=new ethers_1[(_0x1ee3df(0x2b4))][(_0x1ee3df(0x2fe))](_0xd8e881,ASSET_CONTRACT[_0x1ee3df(0x2fd)],this[_0x1ee3df(0x301)][_0x1ee3df(0x2f2)]),_0x15f9e2=ethers_1['ethers']['utils']['id'](_0x5bb06f),_0x40ce09=[];return[0x4,_0x17a5bd['getRoleMemberCount'](_0x15f9e2)];case 0x2:_0xc921e4=_0x262f99[_0x1ee3df(0x2ae)](),_0x49a73b=0x0,_0x262f99['label']=0x3;case 0x3:if(!(_0x49a73b<_0xc921e4))return[0x3,0x6];return[0x4,_0x17a5bd[_0x1ee3df(0x29f)](_0x15f9e2,_0x49a73b)];case 0x4:_0x3f7738=_0x262f99[_0x1ee3df(0x2ae)](),_0x40ce09['push'](_0x3f7738),_0x262f99[_0x1ee3df(0x273)]=0x5;case 0x5:_0x49a73b++;return[0x3,0x3];case 0x6:this[_0x1ee3df(0x278)][_0x1ee3df(0x21c)](_0x1ee3df(0x2fb)+JSON[_0x1ee3df(0x279)](_0x40ce09));return[0x2,_0x40ce09[_0x1ee3df(0x260)](function(_0x12f740){var _0x21524f=_0x1ee3df;return _0x2de48f[_0x21524f(0x243)](_0x12f740);})];}});});},_0xcf0fe7[_0x44288b(0x209)]['getDataProperty']=function(_0xd71f1e,_0xfa058a,_0x400d24){return __awaiter(this,void 0x0,void 0x0,function(){var _0x228bb3,_0x5268ce,_0x5c8ec5,_0x596725,_0x33d7fc,_0x21e59f,_0x12ac78;return __generator(this,function(_0x56c62d){var _0xa29690=a34_0x13c2;switch(_0x56c62d['label']){case 0x0:this['logger'][_0xa29690(0x2a0)](_0xa29690(0x21e)+_0xfa058a+_0xa29690(0x237)+_0xd71f1e);return[0x4,this['isContract'](_0xd71f1e)];case 0x1:_0x228bb3=_0x56c62d[_0xa29690(0x2ae)]();if(_0x400d24&&_0x400d24===_0xa29690(0x2b9)||!_0x228bb3)return[0x2,null];if(_0x400d24&&_0x400d24===_0xa29690(0x2b9)&&_0x228bb3)throw new invalid_asset_type_exception_1[(_0xa29690(0x27c))](_0x400d24,_0xd71f1e);_0x5268ce=this[_0xa29690(0x226)](_0xd71f1e),this[_0xa29690(0x278)][_0xa29690(0x2a0)](_0xa29690(0x27d)+_0x5268ce),_0x5c8ec5=new ethers_1[(_0xa29690(0x2b4))][(_0xa29690(0x2fe))](_0x5268ce,ASSET_CONTRACT[_0xa29690(0x2fd)],this[_0xa29690(0x301)][_0xa29690(0x2f2)]),_0x596725=ethers_1['ethers'][_0xa29690(0x2e2)]['id'](_0xfa058a);return[0x4,_0x5c8ec5[_0xa29690(0x253)](_0x596725)];case 0x2:_0x33d7fc=_0x56c62d[_0xa29690(0x2ae)]();if(_0x33d7fc===this[_0xa29690(0x306)])return[0x2,null];_0x21e59f=this[_0xa29690(0x2c7)](_0x33d7fc);return[0x4,this[_0xa29690(0x299)](_0x21e59f)];case 0x3:_0x12ac78=_0x56c62d[_0xa29690(0x2ae)](),this[_0xa29690(0x278)]['debug'](_0xa29690(0x267)+JSON['stringify'](_0x12ac78));return[0x2,_0x12ac78?_0x12ac78:null];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x28c)]=function(_0x55a457,_0x3cce4e,_0x54eba4,_0x4a4d9c,_0x442d96){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2a1586,_0x5589a6,_0x243933,_0x3b484e,_0x24be7a,_0x17e03c,_0x18d05a,_0x12adf0,_0x518f34,_0x1783c4;return __generator(this,function(_0x5876e3){var _0x4141aa=a34_0x13c2;switch(_0x5876e3['label']){case 0x0:this['logger']['debug'](_0x4141aa(0x22c)+_0x3cce4e+_0x4141aa(0x22d)+_0x54eba4+_0x4141aa(0x309)+_0x55a457);return[0x4,this[_0x4141aa(0x25c)](_0x55a457)];case 0x1:_0x2a1586=_0x5876e3[_0x4141aa(0x2ae)]();if(!_0x2a1586)throw new invalid_did_syntax_exception_1['InvalidDIDSyntaxException'](_0x55a457);return[0x4,this[_0x4141aa(0x2e1)](_0x55a457)];case 0x2:_0x5589a6=_0x5876e3[_0x4141aa(0x2ae)]();if(!_0x5589a6)throw new __1[(_0x4141aa(0x29e))](_0x55a457);_0x243933=this[_0x4141aa(0x226)](_0x55a457),_0x3b484e=new ethers_1[(_0x4141aa(0x2b4))]['Contract'](_0x243933,ASSET_CONTRACT[_0x4141aa(0x2fd)],this[_0x4141aa(0x301)]['nonceManager']);return[0x4,_0x3b484e['hasRole'](ethers_1['ethers']['utils']['id'](interfaces_1[_0x4141aa(0x2c5)][_0x4141aa(0x2df)]),this[_0x4141aa(0x301)]['nonceManager'][_0x4141aa(0x271)][_0x4141aa(0x290)])];case 0x3:_0x24be7a=_0x5876e3[_0x4141aa(0x2ae)](),this[_0x4141aa(0x278)][_0x4141aa(0x2a0)](_0x4141aa(0x2eb)+_0x24be7a);if(!_0x24be7a)throw new missing_data_property_permission_exception_1[(_0x4141aa(0x1f5))](this[_0x4141aa(0x243)](this[_0x4141aa(0x301)][_0x4141aa(0x266)]['address']),_0x3cce4e);_0x17e03c=ethers_1[_0x4141aa(0x2b4)]['utils']['id'](_0x3cce4e);return[0x4,_0x3b484e[_0x4141aa(0x253)](_0x17e03c)];case 0x4:_0x18d05a=_0x5876e3[_0x4141aa(0x2ae)]();if(_0x18d05a!==this[_0x4141aa(0x306)])throw new data_property_exist_exception_1[(_0x4141aa(0x2a8))](_0x55a457,_0x3cce4e);_0x12adf0=JSON[_0x4141aa(0x279)](_0x54eba4);return[0x4,this[_0x4141aa(0x301)]['ipfsClient'][_0x4141aa(0x234)](Buffer[_0x4141aa(0x315)](_0x12adf0))];case 0x5:_0x518f34=_0x5876e3[_0x4141aa(0x2ae)]();return[0x4,_0x3b484e['createData'](_0x17e03c,this[_0x4141aa(0x1fb)](String(_0x518f34[_0x4141aa(0x2a9)])),_0x442d96,this[_0x4141aa(0x270)])];case 0x6:_0x1783c4=_0x5876e3[_0x4141aa(0x2ae)]();return[0x4,_0x1783c4[_0x4141aa(0x2bc)]()];case 0x7:_0x5876e3[_0x4141aa(0x2ae)](),this[_0x4141aa(0x278)][_0x4141aa(0x2a0)](_0x4141aa(0x2cf)+_0x3cce4e+'\x20has\x20been\x20created\x20for\x20assetDID\x20'+_0x55a457);return[0x2];}});});},_0xcf0fe7['prototype']['resolveName']=function(_0x4c35f9){return __awaiter(this,void 0x0,void 0x0,function(){var _0x30ef04;return __generator(this,function(_0x53e325){var _0x54172d=a34_0x13c2;switch(_0x53e325[_0x54172d(0x273)]){case 0x0:this[_0x54172d(0x278)][_0x54172d(0x2a0)]('resolve\x20the\x20name\x20'+_0x4c35f9);return[0x4,this['runtime']['ens']['name'](_0x4c35f9)[_0x54172d(0x26a)]()];case 0x1:_0x30ef04=_0x53e325['sent'](),this[_0x54172d(0x278)]['debug'](_0x54172d(0x20e)+_0x30ef04);if(_0x30ef04===ZERO_ADDRESS)return[0x2,null];return[0x2,this[_0x54172d(0x243)](_0x30ef04)];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x283)]=function(_0x3f59bc,_0x248418){return __awaiter(this,void 0x0,void 0x0,function(){var _0x404bda,_0x9faa79,_0x515d4a,_0x45f5c6,_0x5b3cf6,_0xda6144,_0x524a01,_0xbe959,_0x44bd56,_0x2c7a47,_0x2cc5df,_0x58f98a,_0x3bbf17,_0x485925,_0x5366e1,_0x2e416a,_0xb313bb,_0x138f37,_0x545cca,_0x524a01,_0x2b35f5,_0x5f5c06,_0xbe959,_0x44bd56,_0x2babe1,_0x47226b,_0x5bf234,_0x58f98a,_0x485925,_0x5366e1,_0x3f34e3,_0x2903b6,_0x1cd212;return __generator(this,function(_0x255d6a){var _0x4d3178=a34_0x13c2;switch(_0x255d6a['label']){case 0x0:return[0x4,this[_0x4d3178(0x25c)](_0x248418)];case 0x1:_0x404bda=_0x255d6a['sent']();if(!_0x404bda)throw new invalid_did_syntax_exception_1['InvalidDIDSyntaxException'](_0x248418);this[_0x4d3178(0x278)][_0x4d3178(0x2a0)](_0x4d3178(0x2c1)),_0x9faa79=new ethers_1[(_0x4d3178(0x2b4))][(_0x4d3178(0x2fe))](this[_0x4d3178(0x30c)][_0x4d3178(0x316)],ENS_INTERFACE[_0x4d3178(0x2fd)],this['runtime']['nonceManager']);return[0x4,this['runtime'][_0x4d3178(0x212)][_0x4d3178(0x25b)](this[_0x4d3178(0x30c)][_0x4d3178(0x2d2)])[_0x4d3178(0x26a)]()];case 0x2:_0x515d4a=_0x255d6a[_0x4d3178(0x2ae)](),_0x45f5c6=new ethers_1[(_0x4d3178(0x2b4))][(_0x4d3178(0x2fe))](_0x515d4a,ENS_RESOLVER_INTERFACE[_0x4d3178(0x2fd)],this[_0x4d3178(0x301)][_0x4d3178(0x2a4)]),_0x3f59bc=_0x3f59bc[_0x4d3178(0x1fc)](),this[_0x4d3178(0x278)]['debug'](_0x4d3178(0x248)+_0x3f59bc+_0x4d3178(0x2f8)+_0x248418),_0x5b3cf6=this[_0x4d3178(0x226)](_0x248418),_0xda6144=_0x3f59bc[_0x4d3178(0x2b0)]('.');if(!(_0xda6144['length']===0x1))return[0x3,0x8];_0x524a01=_0xda6144[0x0];return[0x4,_0x9faa79['owner'](ZERO_HASH,this[_0x4d3178(0x270)])];case 0x3:_0xbe959=_0x255d6a['sent'](),_0x44bd56=_0xbe959===this[_0x4d3178(0x30c)]['accountAddress'],_0x2c7a47=_0xbe959===ZERO_ADDRESS;if(!_0x44bd56&&!_0x2c7a47)throw new ens_unauthorized_exception_1[(_0x4d3178(0x1f6))](_0x524a01);this[_0x4d3178(0x278)][_0x4d3178(0x2a0)]('register\x20node:\x20'+_0x524a01),_0x2cc5df=this['labelhash'](_0x524a01);return[0x4,_0x9faa79['setSubnodeOwner'](ZERO_HASH,_0x2cc5df,this[_0x4d3178(0x30c)][_0x4d3178(0x2e4)],this[_0x4d3178(0x270)])];case 0x4:_0x58f98a=_0x255d6a[_0x4d3178(0x2ae)](),_0x3bbf17=ethers_1['ethers'][_0x4d3178(0x2e2)][_0x4d3178(0x29b)](_0x524a01);return[0x4,_0x9faa79['setResolver'](_0x3bbf17,_0x515d4a,this[_0x4d3178(0x270)])];case 0x5:_0x485925=_0x255d6a[_0x4d3178(0x2ae)]();return[0x4,_0x45f5c6[_0x4d3178(0x2af)](_0x3bbf17,_0x5b3cf6,this[_0x4d3178(0x270)])];case 0x6:_0x5366e1=_0x255d6a[_0x4d3178(0x2ae)](),_0xb313bb=(_0x2e416a=Promise)[_0x4d3178(0x264)],_0x138f37=[_0x58f98a,_0x485925];return[0x4,_0x5366e1[_0x4d3178(0x2bc)]()];case 0x7:_0xb313bb[_0x4d3178(0x21b)](_0x2e416a,[_0x138f37[_0x4d3178(0x2c6)]([_0x255d6a['sent']()])]);return[0x3,0xe];case 0x8:_0x545cca=_0xda6144[0x0],_0x524a01=_0xda6144['slice'](0x1)[_0x4d3178(0x250)]('.'),_0x2b35f5=_0x545cca+'.'+_0x524a01,_0x5f5c06=ethers_1['ethers'][_0x4d3178(0x2e2)][_0x4d3178(0x29b)](_0x524a01);return[0x4,_0x9faa79['owner'](_0x5f5c06)];case 0x9:_0xbe959=_0x255d6a[_0x4d3178(0x2ae)](),_0x44bd56=_0xbe959===ethers_1[_0x4d3178(0x2b4)][_0x4d3178(0x2e2)][_0x4d3178(0x26a)](this[_0x4d3178(0x30c)]['accountAddress']),_0x2babe1=_0xbe959!==ZERO_ADDRESS;if(!_0x2babe1)throw new __1['EnsMissingParentOwner'](_0x524a01);else{if(_0x2babe1&&!_0x44bd56)throw new ens_unauthorized_exception_1[(_0x4d3178(0x1f6))](_0x524a01,_0x545cca);}this[_0x4d3178(0x278)][_0x4d3178(0x2a0)](_0x4d3178(0x1f0)+_0x2b35f5+_0x4d3178(0x2d7)+_0x524a01),_0x47226b=this[_0x4d3178(0x2f5)](_0x545cca),_0x5bf234=ethers_1[_0x4d3178(0x2b4)][_0x4d3178(0x2e2)][_0x4d3178(0x29b)](_0x2b35f5);return[0x4,_0x9faa79[_0x4d3178(0x29a)](_0x5f5c06,_0x47226b,this[_0x4d3178(0x30c)][_0x4d3178(0x2e4)],this['transactionOptions'])];case 0xa:_0x58f98a=_0x255d6a[_0x4d3178(0x2ae)]();return[0x4,_0x9faa79[_0x4d3178(0x206)](_0x5bf234,_0x515d4a,this[_0x4d3178(0x270)])];case 0xb:_0x485925=_0x255d6a[_0x4d3178(0x2ae)]();return[0x4,_0x45f5c6[_0x4d3178(0x2af)](_0x5bf234,_0x5b3cf6,this[_0x4d3178(0x270)])];case 0xc:_0x5366e1=_0x255d6a['sent'](),_0x2903b6=(_0x3f34e3=Promise)[_0x4d3178(0x264)],_0x1cd212=[_0x58f98a,_0x485925];return[0x4,_0x5366e1['wait']()];case 0xd:_0x2903b6[_0x4d3178(0x21b)](_0x3f34e3,[_0x1cd212['concat']([_0x255d6a['sent']()])]),_0x255d6a['label']=0xe;case 0xe:return[0x2];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x2f5)]=function(_0x50cfa8){var _0x489cd2=_0x44288b;return ethers_1[_0x489cd2(0x2b4)]['utils']['keccak256'](ethers_1[_0x489cd2(0x2b4)][_0x489cd2(0x2e2)][_0x489cd2(0x233)](_0x50cfa8));},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x2f7)]=function(_0x379045,_0x1fb0e8,_0x5dd6b1){var _0x50e323=_0x44288b;try{this['logger']['debug']('Verify\x20Message\x20'+_0x1fb0e8+_0x50e323(0x303)+_0x5dd6b1);var _0x3323ad=ethers_1['ethers']['utils'][_0x50e323(0x23b)](_0x1fb0e8,_0x5dd6b1);return this[_0x50e323(0x278)][_0x50e323(0x2a0)](_0x50e323(0x20a)+(_0x379045===_0x3323ad)),_0x379045===_0x3323ad;}catch(_0x1dfb00){return this[_0x50e323(0x278)][_0x50e323(0x2a0)](_0x50e323(0x221)),this[_0x50e323(0x278)][_0x50e323(0x2a0)](_0x1dfb00),![];}},_0xcf0fe7['prototype'][_0x44288b(0x274)]=function(_0x312cb4){return __awaiter(this,void 0x0,void 0x0,function(){var _0x127486,_0x369611,_0x11daf6,_0x35c98b,_0x1e555f,_0x36aade,_0x3f744f;return __generator(this,function(_0xbd4cd9){var _0x12f0af=a34_0x13c2;switch(_0xbd4cd9[_0x12f0af(0x273)]){case 0x0:this[_0x12f0af(0x278)][_0x12f0af(0x21c)](_0x12f0af(0x2e5)+_0x312cb4);return[0x4,this[_0x12f0af(0x2e1)](_0x312cb4)];case 0x1:_0x369611=_0xbd4cd9[_0x12f0af(0x2ae)](),this[_0x12f0af(0x278)][_0x12f0af(0x2a0)]('isContract:\x20'+_0x369611);if(!_0x369611)return[0x3,0x3];_0x11daf6=this[_0x12f0af(0x226)](_0x312cb4),_0x35c98b=new ethers_1[(_0x12f0af(0x2b4))][(_0x12f0af(0x2fe))](_0x11daf6,ASSET_CONTRACT[_0x12f0af(0x2fd)],this[_0x12f0af(0x301)]['provider']);return[0x4,_0x35c98b[_0x12f0af(0x2dd)]()];case 0x2:_0x1e555f=_0xbd4cd9[_0x12f0af(0x2ae)](),this[_0x12f0af(0x278)][_0x12f0af(0x21c)](_0x12f0af(0x272)+_0x1e555f),_0x127486=this[_0x12f0af(0x243)](_0x1e555f);return[0x3,0x5];case 0x3:_0x36aade=new ethr_did_1['EthrDID']({'identifier':this['getAddressOfEthrDid'](_0x312cb4),'provider':this[_0x12f0af(0x301)][_0x12f0af(0x2f2)],'chainNameOrId':this['runtimeConfig'][_0x12f0af(0x2c3)],'registry':this[_0x12f0af(0x30c)][_0x12f0af(0x2ce)]});return[0x4,_0x36aade[_0x12f0af(0x311)]()];case 0x4:_0x3f744f=_0xbd4cd9[_0x12f0af(0x2ae)](),_0x127486=this[_0x12f0af(0x243)](_0x3f744f),_0xbd4cd9[_0x12f0af(0x273)]=0x5;case 0x5:this[_0x12f0af(0x278)][_0x12f0af(0x21c)](_0x12f0af(0x1f9)+_0x127486+_0x12f0af(0x289)+_0x312cb4);return[0x2,_0x127486];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x26c)]=function(_0x28c06e){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x2b0912){var _0x2093ea=a34_0x13c2;return[0x2,this[_0x2093ea(0x301)]['nonceManager']['signMessage'](_0x28c06e)];});});},_0xcf0fe7['prototype'][_0x44288b(0x25c)]=function(_0x5c8722){return __awaiter(this,void 0x0,void 0x0,function(){var _0x11287d,_0x3b7078;return __generator(this,function(_0x22dc7b){var _0x1a469c=a34_0x13c2;_0x11287d=new RegExp('^did:ethr:(\x5cb'+this['runtimeConfig'][_0x1a469c(0x30e)]+_0x1a469c(0x2d3)+this[_0x1a469c(0x30c)][_0x1a469c(0x2c3)]+_0x1a469c(0x27e),'g'),_0x3b7078=_0x11287d[_0x1a469c(0x30a)](_0x5c8722);if(_0x3b7078)try{this[_0x1a469c(0x226)](_0x5c8722);}catch(_0x5dced4){return[0x2,Promise[_0x1a469c(0x277)](![])];}return[0x2,Promise['resolve'](_0x3b7078)];});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x252)]=function(_0x205656){return __awaiter(this,void 0x0,void 0x0,function(){var _0xda0e05,_0x156075,_0x267a80,_0x10d06c;return __generator(this,function(_0x2b01a0){var _0x2d0579=a34_0x13c2;switch(_0x2b01a0[_0x2d0579(0x273)]){case 0x0:return[0x4,this[_0x2d0579(0x25c)](_0x205656)];case 0x1:_0xda0e05=_0x2b01a0[_0x2d0579(0x2ae)]();if(!_0xda0e05)throw new invalid_did_syntax_exception_1[(_0x2d0579(0x1ef))](_0x205656);_0x2b01a0['label']=0x2;case 0x2:_0x2b01a0['trys']['push']([0x2,0x4,,0x5]),_0x156075=new did_resolver_1[(_0x2d0579(0x25a))](this[_0x2d0579(0x301)]['ethrDidResolver']);return[0x4,_0x156075[_0x2d0579(0x277)](_0x205656)];case 0x3:_0x267a80=_0x2b01a0[_0x2d0579(0x2ae)]();if(_0x267a80['didDocument'])return[0x2,_0x267a80['didDocument']];return[0x3,0x5];case 0x4:_0x10d06c=_0x2b01a0[_0x2d0579(0x2ae)](),this['logger'][_0x2d0579(0x23f)]('Error:\x20getDIDDocument\x20'+(_0x10d06c===null||_0x10d06c===void 0x0?void 0x0:_0x10d06c[_0x2d0579(0x21d)]));return[0x3,0x5];case 0x5:throw new __1['UnresolvableDIDException'](_0x205656);}});});},_0xcf0fe7[_0x44288b(0x209)]['setDIDDocument']=function(_0x4db2fe){return __awaiter(this,void 0x0,void 0x0,function(){var _0x58e2ff,_0x1f75cd,_0x367e8e,_0x36e927,_0x377845,_0x4ac693,_0x63ea67,_0x5bfd78,_0xeefc1b;return __generator(this,function(_0x27383a){var _0x379a3c=a34_0x13c2;switch(_0x27383a[_0x379a3c(0x273)]){case 0x0:return[0x4,this[_0x379a3c(0x2b2)](_0x4db2fe)];case 0x1:_0x58e2ff=_0x27383a[_0x379a3c(0x2ae)]();if(!_0x58e2ff)throw new did_update_forbidded_exception_1[(_0x379a3c(0x2cc))]();return[0x4,this['getDIDDocument'](_0x4db2fe['id'])];case 0x2:_0x1f75cd=_0x27383a[_0x379a3c(0x2ae)](),_0x367e8e=_0x4db2fe['service']?__spreadArrays(_0x4db2fe[_0x379a3c(0x23d)]):[],_0x36e927=_0x1f75cd['service']?__spreadArrays(_0x1f75cd[_0x379a3c(0x23d)]):[],_0x377845=_0x4db2fe['service']?_0x367e8e[_0x379a3c(0x229)](function(_0xf5609e){var _0x1c93cb=_0x379a3c;return!_0x36e927[_0x1c93cb(0x28b)](function(_0x52b070){var _0x28e9a4=_0x1c93cb;return _0x52b070&&_0xf5609e[_0x28e9a4(0x1fd)]===_0x52b070[_0x28e9a4(0x1fd)];});}):[],this['logger']['debug'](_0x379a3c(0x2bd)+JSON[_0x379a3c(0x279)](_0x377845)),_0x4ac693=_0x1f75cd[_0x379a3c(0x23d)]?_0x36e927[_0x379a3c(0x229)](function(_0x2085cf){var _0x365599=_0x379a3c;return!_0x367e8e[_0x365599(0x28b)](function(_0x112691){var _0x22e73e=_0x365599;return _0x112691&&_0x2085cf[_0x22e73e(0x1fd)]===_0x112691[_0x22e73e(0x1fd)];});}):[],this['logger'][_0x379a3c(0x2a0)](_0x379a3c(0x200)+JSON['stringify'](_0x4ac693)),_0x63ea67=this[_0x379a3c(0x226)](_0x4db2fe['id']);return[0x4,this[_0x379a3c(0x2e1)](_0x63ea67)];case 0x3:if(!_0x27383a[_0x379a3c(0x2ae)]())return[0x3,0x6];_0x5bfd78=new ethers_1['ethers']['Contract'](_0x63ea67,ASSET_CONTRACT[_0x379a3c(0x2fd)],this['runtime'][_0x379a3c(0x2a4)]);return[0x4,this[_0x379a3c(0x2ac)](_0x63ea67,_0x377845,_0x5bfd78)];case 0x4:_0x27383a[_0x379a3c(0x2ae)]();return[0x4,this[_0x379a3c(0x23e)](_0x63ea67,_0x4ac693,_0x5bfd78)];case 0x5:_0x27383a[_0x379a3c(0x2ae)]();return[0x3,0x9];case 0x6:_0xeefc1b=new ethers_1[(_0x379a3c(0x2b4))]['Contract'](this[_0x379a3c(0x30c)]['didRegistryAddress'],DID_REGISTRY_CONTRACT[_0x379a3c(0x2fd)],this[_0x379a3c(0x301)][_0x379a3c(0x2a4)]);return[0x4,this[_0x379a3c(0x2ac)](_0x63ea67,_0x377845,_0xeefc1b)];case 0x7:_0x27383a['sent']();return[0x4,this[_0x379a3c(0x23e)](_0x63ea67,_0x4ac693,_0xeefc1b)];case 0x8:_0x27383a['sent'](),_0x27383a[_0x379a3c(0x273)]=0x9;case 0x9:return[0x2];}});});},_0xcf0fe7[_0x44288b(0x209)]['addServicesToDIDDoc']=function(_0x566b1c,_0x18ef72,_0x247377){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3809f7,_0x49a2cb,_0x57e10b,_0xb0d20a,_0x32693d,_0x563466;return __generator(this,function(_0x26eced){var _0x3977ca=a34_0x13c2;switch(_0x26eced['label']){case 0x0:this[_0x3977ca(0x278)][_0x3977ca(0x2a0)](_0x3977ca(0x213)+JSON[_0x3977ca(0x279)](_0x18ef72)),(_0x3809f7=0x0,_0x49a2cb=_0x18ef72),_0x26eced[_0x3977ca(0x273)]=0x1;case 0x1:if(!(_0x3809f7<_0x49a2cb[_0x3977ca(0x28d)]))return[0x3,0x5];_0x57e10b=_0x49a2cb[_0x3809f7],_0xb0d20a=ethers_1[_0x3977ca(0x2b4)][_0x3977ca(0x2e2)][_0x3977ca(0x2aa)](_0x3977ca(0x2e7)+_0x57e10b[_0x3977ca(0x1fd)]),_0x32693d=ethers_1['ethers'][_0x3977ca(0x2e2)]['toUtf8Bytes'](_0x57e10b[_0x3977ca(0x1f1)]);return[0x4,_0x247377[_0x3977ca(0x26b)](_0x566b1c,_0xb0d20a,_0x32693d,ethers_1[_0x3977ca(0x2b4)][_0x3977ca(0x2e6)][_0x3977ca(0x315)](this['runtimeConfig'][_0x3977ca(0x2ab)]),this[_0x3977ca(0x270)])];case 0x2:_0x563466=_0x26eced['sent']();return[0x4,_0x563466[_0x3977ca(0x2bc)]()];case 0x3:_0x26eced[_0x3977ca(0x2ae)](),_0x26eced[_0x3977ca(0x273)]=0x4;case 0x4:_0x3809f7++;return[0x3,0x1];case 0x5:return[0x2];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x23e)]=function(_0x135974,_0x4619b0,_0x42b036){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2e11de,_0x16a65c,_0xf017f0,_0x555788,_0x54318b,_0x144c0a;return __generator(this,function(_0x4942d9){var _0x214b8c=a34_0x13c2;switch(_0x4942d9[_0x214b8c(0x273)]){case 0x0:_0x2e11de=0x0,_0x16a65c=_0x4619b0,_0x4942d9[_0x214b8c(0x273)]=0x1;case 0x1:if(!(_0x2e11de<_0x16a65c[_0x214b8c(0x28d)]))return[0x3,0x5];_0xf017f0=_0x16a65c[_0x2e11de],_0x555788=ethers_1['ethers']['utils']['formatBytes32String']('did/svc/'+_0xf017f0[_0x214b8c(0x1fd)]),_0x54318b=ethers_1[_0x214b8c(0x2b4)][_0x214b8c(0x2e2)][_0x214b8c(0x233)](_0xf017f0[_0x214b8c(0x1f1)]);return[0x4,_0x42b036[_0x214b8c(0x2d8)](_0x135974,_0x555788,_0x54318b,this[_0x214b8c(0x270)])];case 0x2:_0x144c0a=_0x4942d9['sent']();return[0x4,_0x144c0a['wait']()];case 0x3:_0x4942d9[_0x214b8c(0x2ae)](),_0x4942d9[_0x214b8c(0x273)]=0x4;case 0x4:_0x2e11de++;return[0x3,0x1];case 0x5:return[0x2];}});});},_0xcf0fe7['prototype'][_0x44288b(0x317)]=function(_0x38b78d,_0x2f8383,_0x2b4718,_0x2f01be){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2eea4b,_0x488ece,_0x35bdef,_0x1a511e,_0x52ffed,_0x1f701c,_0x59b4f6,_0x444f27,_0x579ec6;return __generator(this,function(_0x40873e){var _0x1f447e=a34_0x13c2;switch(_0x40873e[_0x1f447e(0x273)]){case 0x0:_0x2eea4b=new proof_signature_data_class_1['LinkedDataProofSignatureData'](_0x2f8383,_0x2b4718?_0x2b4718:_0x1f447e(0x2d5),_0x2f01be),_0x488ece=this[_0x1f447e(0x243)](this['runtimeConfig'][_0x1f447e(0x2e4)]);return[0x4,this[_0x1f447e(0x245)](_0x488ece)];case 0x1:_0x35bdef=_0x40873e['sent'](),_0x1a511e=new Date()[_0x1f447e(0x24c)]();return[0x4,this['signMessage'](JSON['stringify'](_0x2eea4b))];case 0x2:_0x52ffed=_0x40873e[_0x1f447e(0x2ae)](),_0x1f701c=new proof_class_1[(_0x1f447e(0x2d1))](this[_0x1f447e(0x1f3)],_0x2b4718?_0x2b4718:_0x1f447e(0x2d5),_0x35bdef['id'],_0x1a511e,_0x52ffed),_0x59b4f6=new Date()[_0x1f447e(0x24c)](),_0x444f27=['VerifiableCredential'],_0x38b78d[_0x1f447e(0x244)](function(_0x3501e7){var _0x5b1f2d=_0x1f447e;_0x444f27[_0x5b1f2d(0x26d)](_0x3501e7);}),_0x579ec6=new verifiable_credential_class_1['VerifiableCredential'](_0x444f27,_0x2f8383,_0x488ece,_0x59b4f6,_0x1f701c,_0x2f01be);return[0x2,Object[_0x1f447e(0x238)]({'@context':['https://www.w3.org/2018/credentials/v1',_0x1f447e(0x20c),_0x1f447e(0x2f4)]},_0x579ec6)];}});});},_0xcf0fe7['prototype'][_0x44288b(0x2a6)]=function(_0x4dc858,_0x37819b,_0x35aa82){return __awaiter(this,void 0x0,void 0x0,function(){var _0x10a7c3,_0x550da6,_0x21719a,_0x4ed70a,_0x5f14c6,_0x2c58f1,_0x55d5de;return __generator(this,function(_0x4aafe7){var _0x425c8e=a34_0x13c2;switch(_0x4aafe7[_0x425c8e(0x273)]){case 0x0:_0x10a7c3=this[_0x425c8e(0x243)](this[_0x425c8e(0x30c)]['accountAddress']);return[0x4,this[_0x425c8e(0x245)](_0x10a7c3)];case 0x1:_0x550da6=_0x4aafe7[_0x425c8e(0x2ae)](),_0x21719a=new Date()[_0x425c8e(0x24c)]();return[0x4,this[_0x425c8e(0x26c)](JSON[_0x425c8e(0x279)](_0x4dc858))];case 0x2:_0x4ed70a=_0x4aafe7['sent'](),_0x5f14c6=new proof_class_1['LinkedDataProof'](this[_0x425c8e(0x1f3)],_0x37819b?_0x37819b:'authentication',_0x550da6['id'],_0x21719a,_0x4ed70a),_0x2c58f1=[_0x425c8e(0x2ec)],_0x55d5de=new verifiable_presentation_class_1[(_0x425c8e(0x2ec))](_0x2c58f1,_0x4dc858,_0x5f14c6,_0x35aa82);return[0x2,Object[_0x425c8e(0x238)]({'@context':[_0x425c8e(0x219)]},_0x55d5de)];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x291)]=function(_0x368fd9){return __awaiter(this,void 0x0,void 0x0,function(){var _0x256692;return __generator(this,function(_0x2eeb1a){var _0x324461=a34_0x13c2;switch(_0x2eeb1a[_0x324461(0x273)]){case 0x0:return[0x4,this[_0x324461(0x287)][_0x324461(0x2a3)](_0x368fd9,this['verifySignature'],_0x324461(0x2f3))];case 0x1:_0x256692=_0x2eeb1a[_0x324461(0x2ae)]();if(_0x256692)return[0x2,_0x368fd9];return[0x2,undefined];}});});},_0xcf0fe7['prototype'][_0x44288b(0x2ba)]=function(_0x11843d,_0x27208a){return __awaiter(this,void 0x0,void 0x0,function(){var _0x403386,_0x2041ed,_0x551009=this;return __generator(this,function(_0x58f66d){var _0x214b37=a34_0x13c2;switch(_0x58f66d[_0x214b37(0x273)]){case 0x0:return[0x4,this[_0x214b37(0x287)][_0x214b37(0x247)](_0x11843d,_0x27208a,this[_0x214b37(0x218)],_0x214b37(0x2f3))];case 0x1:_0x403386=_0x58f66d['sent']();if(!_0x403386)return[0x2,[]];typeof _0x27208a===_0x214b37(0x30f)?_0x2041ed=this[_0x214b37(0x287)]['extractVerifiableCredentialsFromString'](_0x27208a):_0x2041ed=_0x27208a[_0x214b37(0x2f6)];return[0x2,_0x2041ed[_0x214b37(0x229)](function(_0x774f94){var _0x4b1574=_0x214b37;return _0x551009['assetHelperService'][_0x4b1574(0x2a3)](_0x774f94,_0x551009[_0x4b1574(0x218)],_0x4b1574(0x2f3));})];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x203)]=function(_0x23769){return __awaiter(this,void 0x0,void 0x0,function(){var _0x39393a,_0x4636db;return __generator(this,function(_0x47b60c){var _0x54b1f1=a34_0x13c2;switch(_0x47b60c['label']){case 0x0:return[0x4,this[_0x54b1f1(0x252)](_0x23769)];case 0x1:_0x39393a=_0x47b60c[_0x54b1f1(0x2ae)](),_0x4636db=[];try{_0x39393a&&_0x39393a[_0x54b1f1(0x20d)]&&_0x39393a[_0x54b1f1(0x20d)][_0x54b1f1(0x244)](function(_0x2f2c7a){var _0x16ff39=_0x54b1f1;_0x4636db[_0x16ff39(0x26d)](_0x2f2c7a);}),this[_0x54b1f1(0x278)][_0x54b1f1(0x2a0)](_0x54b1f1(0x255)+JSON[_0x54b1f1(0x279)](_0x39393a));}catch(_0x121599){this[_0x54b1f1(0x278)][_0x54b1f1(0x23f)](_0x54b1f1(0x1fa)+_0x121599);throw new Error(_0x54b1f1(0x1ff));}return[0x2,_0x4636db];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x24d)]=function(_0x559e5d,_0x47de3d,_0x338603,_0x4b5233){return __awaiter(this,void 0x0,void 0x0,function(){var _0x68c593,_0x48e29e,_0xa4ce44,_0x3078b0,_0x62e790,_0x2de400,_0x12c34b,_0x99b564,_0x201a44,_0x4d3c03;return __generator(this,function(_0x5e4343){var _0x5f3ea7=a34_0x13c2;switch(_0x5e4343[_0x5f3ea7(0x273)]){case 0x0:this[_0x5f3ea7(0x278)]['debug'](_0x5f3ea7(0x2c2)+_0x47de3d+_0x5f3ea7(0x214)+_0x338603+_0x5f3ea7(0x26e)+_0x559e5d);return[0x4,this[_0x5f3ea7(0x25c)](_0x559e5d)];case 0x1:_0x68c593=_0x5e4343[_0x5f3ea7(0x2ae)]();if(!_0x68c593)throw new invalid_did_syntax_exception_1[(_0x5f3ea7(0x1ef))](_0x559e5d);_0x48e29e=this[_0x5f3ea7(0x226)](_0x559e5d),_0xa4ce44=new ethers_1['ethers'][(_0x5f3ea7(0x2fe))](_0x48e29e,ASSET_CONTRACT[_0x5f3ea7(0x2fd)],this[_0x5f3ea7(0x301)][_0x5f3ea7(0x2a4)]);return[0x4,_0xa4ce44['deployed']()];case 0x2:_0x5e4343[_0x5f3ea7(0x2ae)]();return[0x4,_0xa4ce44[_0x5f3ea7(0x202)](ethers_1['ethers']['utils']['id'](interfaces_1[_0x5f3ea7(0x2c5)]['SETDATA']),this['runtime']['nonceManager'][_0x5f3ea7(0x271)][_0x5f3ea7(0x290)])];case 0x3:_0x3078b0=_0x5e4343[_0x5f3ea7(0x2ae)](),this['logger'][_0x5f3ea7(0x2a0)](_0x5f3ea7(0x22f)+_0x3078b0);if(!_0x3078b0)throw new missing_data_property_permission_exception_1['MissingDataPropertyPermissionException'](this[_0x5f3ea7(0x243)](this[_0x5f3ea7(0x301)][_0x5f3ea7(0x266)]['address']),_0x47de3d);_0x62e790=ethers_1[_0x5f3ea7(0x2b4)][_0x5f3ea7(0x2e2)]['id'](_0x47de3d);return[0x4,_0xa4ce44[_0x5f3ea7(0x253)](_0x62e790)];case 0x4:_0x2de400=_0x5e4343['sent']();if(_0x2de400===this['emptybytes32'])throw new data_property_empty_exception_1[(_0x5f3ea7(0x302))](_0x559e5d,_0x47de3d);return[0x4,_0xa4ce44[_0x5f3ea7(0x275)](_0x62e790)];case 0x5:_0x12c34b=_0x5e4343['sent']();if(!_0x12c34b)throw new readonly_data_property_permission_exception_1[(_0x5f3ea7(0x1f7))](_0x559e5d,_0x47de3d);_0x99b564=JSON[_0x5f3ea7(0x279)](_0x338603);return[0x4,this[_0x5f3ea7(0x301)]['ipfsClient']['add'](Buffer['from'](_0x99b564))];case 0x6:_0x201a44=_0x5e4343['sent']();return[0x4,_0xa4ce44[_0x5f3ea7(0x2f0)](_0x62e790,this[_0x5f3ea7(0x1fb)](String(_0x201a44[_0x5f3ea7(0x2a9)])),this['transactionOptions'])];case 0x7:_0x4d3c03=_0x5e4343[_0x5f3ea7(0x2ae)]();return[0x4,_0x4d3c03[_0x5f3ea7(0x2bc)]()];case 0x8:_0x5e4343['sent']();return[0x2];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x299)]=function(_0x54b911){var _0x22728a,_0x2f243a;return __awaiter(this,void 0x0,void 0x0,function(){var _0x3360eb,_0xcb8432,_0x3aab10,_0x272e3a,_0x90d2bf,_0x5c32c5,_0x44999c;return __generator(this,function(_0x2efcfd){var _0xc99e6a=a34_0x13c2;switch(_0x2efcfd['label']){case 0x0:_0x3360eb='',_0x2efcfd[_0xc99e6a(0x273)]=0x1;case 0x1:_0x2efcfd[_0xc99e6a(0x2b6)][_0xc99e6a(0x26d)]([0x1,0xf,,0x10]);return[0x4,this[_0xc99e6a(0x301)]['ipfsClient']['cat'](_0x54b911,{})];case 0x2:_0xcb8432=_0x2efcfd[_0xc99e6a(0x2ae)](),_0x2efcfd[_0xc99e6a(0x273)]=0x3;case 0x3:_0x2efcfd[_0xc99e6a(0x2b6)]['push']([0x3,0x8,0x9,0xe]),_0x3aab10=__asyncValues(_0xcb8432),_0x2efcfd[_0xc99e6a(0x273)]=0x4;case 0x4:return[0x4,_0x3aab10[_0xc99e6a(0x27a)]()];case 0x5:if(!(_0x272e3a=_0x2efcfd[_0xc99e6a(0x2ae)](),!_0x272e3a[_0xc99e6a(0x2bf)]))return[0x3,0x7];_0x90d2bf=_0x272e3a[_0xc99e6a(0x263)],_0x3360eb+=_0x90d2bf[_0xc99e6a(0x28a)](),_0x2efcfd[_0xc99e6a(0x273)]=0x6;case 0x6:return[0x3,0x4];case 0x7:return[0x3,0xe];case 0x8:_0x5c32c5=_0x2efcfd[_0xc99e6a(0x2ae)](),_0x22728a={'error':_0x5c32c5};return[0x3,0xe];case 0x9:_0x2efcfd[_0xc99e6a(0x2b6)][_0xc99e6a(0x26d)]([0x9,,0xc,0xd]);if(!(_0x272e3a&&!_0x272e3a[_0xc99e6a(0x2bf)]&&(_0x2f243a=_0x3aab10[_0xc99e6a(0x308)])))return[0x3,0xb];return[0x4,_0x2f243a[_0xc99e6a(0x2c4)](_0x3aab10)];case 0xa:_0x2efcfd[_0xc99e6a(0x2ae)](),_0x2efcfd['label']=0xb;case 0xb:return[0x3,0xd];case 0xc:if(_0x22728a)throw _0x22728a[_0xc99e6a(0x23f)];return[0x7];case 0xd:return[0x7];case 0xe:this[_0xc99e6a(0x278)][_0xc99e6a(0x2a0)](_0xc99e6a(0x298)+JSON[_0xc99e6a(0x279)](_0x3360eb));return[0x3,0x10];case 0xf:_0x44999c=_0x2efcfd[_0xc99e6a(0x2ae)](),this[_0xc99e6a(0x278)][_0xc99e6a(0x23f)](_0x44999c);return[0x2];case 0x10:try{return[0x2,JSON['parse'](_0x3360eb)];}catch(_0xad33b8){if(_0xad33b8 instanceof SyntaxError)return this['logger']['debug']('No\x20parseable\x20json\x20object\x20returned\x20from\x20ipfs,\x20JSON.parse\x20throwing\x20error:\x20'+_0xad33b8+_0xc99e6a(0x296)),[0x2,_0x3360eb];else throw _0xad33b8;}return[0x2];}});});},_0xcf0fe7[_0x44288b(0x209)]['convertAddressToDid']=function(_0x2d3d2c){var _0x4484f4=_0x44288b;if(ethers_1[_0x4484f4(0x2b4)][_0x4484f4(0x2e2)][_0x4484f4(0x2d4)](_0x2d3d2c))return'did:ethr:'+this[_0x4484f4(0x30c)][_0x4484f4(0x30e)]+':'+_0x2d3d2c;throw new invalid_address_exception_1['InvalidAddressException'](_0x2d3d2c);},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x226)]=function(_0x4ce9f0){var _0x51e895=_0x44288b,_0x5cacef=_0x4ce9f0['substr'](_0x4ce9f0[_0x51e895(0x28d)]-0x2a);if(ethers_1['ethers'][_0x51e895(0x2e2)][_0x51e895(0x2d4)](_0x5cacef))return _0x5cacef;throw new invalid_did_syntax_exception_1['InvalidDIDSyntaxException'](_0x4ce9f0);},_0xcf0fe7[_0x44288b(0x209)]['ipfsHashToBytes32']=function(_0x4b2b22){var _0x146242=_0x44288b;try{var _0x526dbf=bs58[_0x146242(0x292)](_0x4b2b22),_0x23656f=0x2;return'0x'+_0x526dbf[_0x146242(0x2a5)](_0x23656f,_0x526dbf[_0x146242(0x28d)])[_0x146242(0x28a)]('hex');}catch(_0x157166){return this[_0x146242(0x278)][_0x146242(0x23f)](_0x146242(0x281)+(_0x157166===null||_0x157166===void 0x0?void 0x0:_0x157166[_0x146242(0x21d)])),this[_0x146242(0x306)];}},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x2c7)]=function(_0x240983){var _0x3b613b=_0x44288b,_0x967025=_0x240983[_0x3b613b(0x2a5)](0x2,_0x240983[_0x3b613b(0x28d)]),_0x3aaa72=Buffer[_0x3b613b(0x315)](_0x3b613b(0x2b3)+_0x967025,_0x3b613b(0x215)),_0x55225a=bs58[_0x3b613b(0x269)](_0x3aaa72);return _0x55225a;},_0xcf0fe7['prototype']['setAttestation']=function(_0x1ca7ea,_0x5359a8,_0x4128b9){return __awaiter(this,void 0x0,void 0x0,function(){var _0x535e68,_0x55f649,_0x13f5b1,_0x4ff265,_0x8c9462,_0x3aa042,_0x4c8d49;return __generator(this,function(_0x493892){var _0x3a75d1=a34_0x13c2;switch(_0x493892[_0x3a75d1(0x273)]){case 0x0:this[_0x3a75d1(0x278)][_0x3a75d1(0x2a0)](_0x3a75d1(0x284)+_0x1ca7ea+_0x3a75d1(0x1f8)+_0x5359a8+'\x27'),_0x535e68=new ethers_1[(_0x3a75d1(0x2b4))][(_0x3a75d1(0x2fe))](this[_0x3a75d1(0x30c)][_0x3a75d1(0x22b)],ATTESTATION_REGISTRY_CONTRACT['abi'],this[_0x3a75d1(0x301)][_0x3a75d1(0x2a4)]),_0x55f649=this[_0x3a75d1(0x226)](_0x1ca7ea),_0x13f5b1=ethers_1[_0x3a75d1(0x2b4)]['utils']['id'](_0x5359a8),_0x4ff265=typeof _0x4128b9===_0x3a75d1(0x210)?JSON[_0x3a75d1(0x279)](_0x4128b9):String(_0x4128b9);return[0x4,this['runtime']['ipfsClient'][_0x3a75d1(0x234)](Buffer['from'](_0x4ff265))];case 0x1:_0x8c9462=_0x493892[_0x3a75d1(0x2ae)](),_0x3aa042=this[_0x3a75d1(0x1fb)](String(_0x8c9462[_0x3a75d1(0x2a9)]));return[0x4,_0x535e68[_0x3a75d1(0x204)](_0x55f649,_0x13f5b1,_0x3aa042,this[_0x3a75d1(0x270)])];case 0x2:_0x4c8d49=_0x493892[_0x3a75d1(0x2ae)]();return[0x4,_0x4c8d49[_0x3a75d1(0x2bc)]()];case 0x3:_0x493892['sent']();return[0x2];}});});},_0xcf0fe7[_0x44288b(0x209)]['getAttestations']=function(_0x20c489,_0x438e97){return __awaiter(this,void 0x0,void 0x0,function(){var _0x46537e,_0x541be7,_0x48fe84,_0x3c3fa3,_0x41dac5,_0x1b9c4c,_0x163759,_0x4859a8,_0x4dfe10,_0x528c8d;return __generator(this,function(_0x167966){var _0x3140ae=a34_0x13c2;switch(_0x167966[_0x3140ae(0x273)]){case 0x0:this['logger']['debug']('get\x20verifiable\x20credentials\x20of\x20asset:\x20'+_0x20c489+_0x3140ae(0x208)+_0x438e97),_0x46537e=this['getAddressOfEthrDid'](_0x20c489),this[_0x3140ae(0x278)][_0x3140ae(0x2a0)]('assetAddress:\x20'+_0x46537e),_0x541be7=new ethers_1[(_0x3140ae(0x2b4))][(_0x3140ae(0x2fe))](this[_0x3140ae(0x30c)][_0x3140ae(0x22b)],ATTESTATION_REGISTRY_CONTRACT[_0x3140ae(0x2fd)],this['runtime'][_0x3140ae(0x2f2)]),_0x48fe84=[],_0x3c3fa3=ethers_1[_0x3140ae(0x2b4)]['utils']['id'](_0x438e97);return[0x4,_0x541be7['getAttestation'](_0x46537e,_0x3c3fa3)];case 0x1:_0x41dac5=_0x167966[_0x3140ae(0x2ae)](),(_0x1b9c4c=0x0,_0x163759=_0x41dac5),_0x167966[_0x3140ae(0x273)]=0x2;case 0x2:if(!(_0x1b9c4c<_0x163759[_0x3140ae(0x28d)]))return[0x3,0x5];_0x4859a8=_0x163759[_0x1b9c4c],_0x4dfe10=this[_0x3140ae(0x2c7)](_0x4859a8);return[0x4,this['getDataFromIpfs'](_0x4dfe10)];case 0x3:_0x528c8d=_0x167966[_0x3140ae(0x2ae)]();_0x528c8d&&_0x48fe84[_0x3140ae(0x26d)](_0x528c8d);_0x167966['label']=0x4;case 0x4:_0x1b9c4c++;return[0x3,0x2];case 0x5:return[0x2,_0x48fe84];}});});},_0xcf0fe7[_0x44288b(0x209)][_0x44288b(0x2e1)]=function(_0x494216){return __awaiter(this,void 0x0,void 0x0,function(){var _0xf86e02,_0x29c0d2;return __generator(this,function(_0x6e4642){var _0xe20a90=a34_0x13c2;switch(_0x6e4642[_0xe20a90(0x273)]){case 0x0:_0xf86e02=this[_0xe20a90(0x226)](_0x494216);return[0x4,this[_0xe20a90(0x301)][_0xe20a90(0x2f2)]['getCode'](_0xf86e02)];case 0x1:_0x29c0d2=_0x6e4642[_0xe20a90(0x2ae)]();return[0x2,_0x29c0d2!=='0x'];}});});},_0xcf0fe7[_0x44288b(0x209)]['isOwnerOfDIDDocument']=function(_0x1929f2){return __awaiter(this,void 0x0,void 0x0,function(){var _0x273264,_0x2f0535,_0x26c794,_0x196bdf,_0x9832fc,_0x84da21;return __generator(this,function(_0x49c7b3){var _0x5427e3=a34_0x13c2;switch(_0x49c7b3['label']){case 0x0:_0x273264=this[_0x5427e3(0x226)](_0x1929f2['id']);return[0x4,this[_0x5427e3(0x2e1)](_0x273264)];case 0x1:_0x2f0535=_0x49c7b3[_0x5427e3(0x2ae)]();if(!_0x2f0535)return[0x3,0x3];_0x26c794=new ethers_1[(_0x5427e3(0x2b4))][(_0x5427e3(0x2fe))](_0x273264,ASSET_CONTRACT[_0x5427e3(0x2fd)],this[_0x5427e3(0x301)][_0x5427e3(0x2a4)]);return[0x4,_0x26c794[_0x5427e3(0x202)](ethers_1['ethers'][_0x5427e3(0x2e2)]['id'](interfaces_1[_0x5427e3(0x2c5)]['CONTROLLER']),this['runtime'][_0x5427e3(0x2a4)][_0x5427e3(0x271)][_0x5427e3(0x290)])];case 0x2:_0x196bdf=_0x49c7b3[_0x5427e3(0x2ae)]();if(_0x196bdf)return[0x2,!![]];return[0x3,0x5];case 0x3:_0x9832fc=new ethr_did_1['EthrDID']({'identifier':_0x273264,'provider':this[_0x5427e3(0x301)][_0x5427e3(0x2f2)],'chainNameOrId':this['runtimeConfig'][_0x5427e3(0x2c3)],'registry':this[_0x5427e3(0x30c)][_0x5427e3(0x2ce)]});return[0x4,_0x9832fc[_0x5427e3(0x311)]()];case 0x4:_0x84da21=_0x49c7b3['sent']();if(_0x84da21===this[_0x5427e3(0x30c)][_0x5427e3(0x2e4)])return[0x2,!![]];_0x49c7b3[_0x5427e3(0x273)]=0x5;case 0x5:return[0x2,![]];}});});},_0xcf0fe7[_0x44288b(0x209)]['getIdOfSigner']=function(_0xb2db4b){return __awaiter(this,void 0x0,void 0x0,function(){var _0xdc3112,_0x47d3c2,_0x29ec9a=this;return __generator(this,function(_0x5e1607){var _0x3497b7=a34_0x13c2;switch(_0x5e1607[_0x3497b7(0x273)]){case 0x0:return[0x4,this[_0x3497b7(0x203)](_0xb2db4b)];case 0x1:_0xdc3112=_0x5e1607[_0x3497b7(0x2ae)](),_0x47d3c2=_0xdc3112[_0x3497b7(0x28b)](function(_0x54a3d5){var _0xd38527=_0x3497b7,_0x10202b;return((_0x10202b=_0x54a3d5[_0xd38527(0x30b)])===null||_0x10202b===void 0x0?void 0x0:_0x10202b['substr'](0x0,0x2a))===ethers_1['ethers']['utils'][_0xd38527(0x26a)](_0x29ec9a[_0xd38527(0x30c)][_0xd38527(0x2e4)]);});if(!_0x47d3c2)throw new invalid_signer_exception_1['InvalidSignerException'](this[_0x3497b7(0x30c)][_0x3497b7(0x2e4)]);return[0x2,_0x47d3c2];}});});},_0xcf0fe7;}());exports[a34_0x1c7b01(0x30d)]=EthereumAssetService;function a34_0x3059(){var _0x31e1a5=['ens','adding\x20services:\x20','\x27\x20and\x20value\x20\x27','hex','throw','then','verifySignature','https://www.w3.org/2018/credentials/v1','EcdsaSecp256k1RecoverySignature2020','apply','info','message','get\x20DataProperty\x20with\x20key\x20\x27','The\x20created\x20AssetDID:\x20','../exceptions/missing-data-property.exception','Error\x20calling\x20Ethereum\x20recover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20permission\x20','path','@ensdomains/ensjs','createAsset','getAddressOfEthrDid','_websocket','getOrDefault','filter','\x20signed\x20by\x20','attestationRegistryAddress','set\x20DataProperty\x20with\x20key\x20\x27','\x27\x0a\x20\x20\x20\x20\x20\x20and\x20value\x20\x27','../exceptions/missing-data-property-permission.exception','hasRights\x20','getInvolvedParties','ContractFactory','ethr-did','toUtf8Bytes','add','Initialise\x20JsonRpcProvider','Creating\x20ENS\x20instance','\x27\x20of\x20asset:\x20','assign','__generator','../exceptions/invalid-signer.exception','verifyMessage','timestamp','service','removeServicesFromDIDDoc','error','Creating\x20data\x20and\x20conract\x20asset','ipfsBasePath','9bHlDXk','convertAddressToDid','forEach','getIdOfSigner','iterator','isVerifiablePresentationValid','set\x20name\x20','../../artifacts/contracts/IEthereumDIDRegistry.sol/IEthereumDIDRegistry.json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20with\x20DID\x20','4324648QxlLHr','toISOString','updateDataProperty','bs58','14tsziSD','join','../exceptions/did-update-forbidded.exception','getDIDDocument','getData','Initialise\x20WebSocketProvider','extracted\x20signers\x20from\x20DID\x20Document:\x20','HashZero','../exceptions/invalid-asset-type.exception','format','MissingDataPropertyException','Resolver','name','isValidDID','Symbol.asyncIterator\x20is\x20not\x20defined.','https','ipfsHost','map','NonceManager','defineProperty','value','all','web3Provider','singer','the\x20stored\x20data\x20','../classes/verifiable-credential.class','encode','getAddress','setAttribute','signMessage','push','\x27\x20for\x20asset:\x20','__importDefault','transactionOptions','signer','addressOfContractOwner:\x20','label','getOwner','changeable','@ethersproject/experimental','resolve','logger','stringify','next','../exceptions/readonly-data-property-permission.exception','InvalidAssetTypeException','the\x20address\x20of\x20contract\x20','\x5cb){1}:([0-9a-fA-Fx]{42})$','./asset-helper.service','Asset\x20Contract\x20is\x20deployed\x20at\x20address\x20','Error:\x20ipfsHashToBytes32\x20','Initialized\x20runtime,\x20active\x20account:\x20','setName','set\x20Attestation\x20for\x20asset\x20\x27','create','Console','assetHelperService','6721975','\x20of\x20assetDID\x20','toString','find','createDataProperty','length','terminate','function','address','validateVerifiableCredential','decode','5tbaTNh','../classes/proof.class','ops','.\x20Returning\x20raw\x20data.','Initializing\x20the\x20runtime\x20environment','extracted\x20data\x20from\x20IPFS:\x20','getDataFromIpfs','setSubnodeOwner','namehash','2399436XYkIIs','WebSocketProvider','NotContractException','getRoleMember','debug','did-resolver','4098056pELegn','isVerifiableCredentialValid','nonceManager','slice','createVerifiablePresentation','../../artifacts/@ensdomains/ens-contracts/contracts/resolvers/PublicResolver.sol/PublicResolver.json','DataPropertyExistException','cid','formatBytes32String','didDefaultValidity','addServicesToDIDDoc','Generator\x20is\x20already\x20executing.','sent','setAddr(bytes32,address)','split','getOrThrow','isOwnerOfDIDDocument','1220','ethers','pop','trys','../../artifacts/@ensdomains/ens-contracts/contracts/registry/ENS.sol/ENS.json','combine','account','validateVerifiablePresentation','1408913StCDsI','wait','servicesToAdd:\x20','2652130nHoYzP','done','grantRoleArrayToAccount','initialize\x20ens\x20contracts','update\x20DataProperty\x20with\x20key\x20\x27','chainId','call','PermissionsEnum','concat','bytes32ToIpfsHash','createAccountAsset','../exceptions/data-property-exist.exception','Deploying\x20Asset\x20Contract','default','DIDUpdateForbiddenException','\x0a\x20\x20\x20\x20\x20\x20\x20\x20over\x20the\x20AssetContract\x20','didRegistryAddress','data\x20property\x20','protocol','LinkedDataProof','resolverName','\x5cb|\x5cb','isAddress','assertionMethod','init','\x20for\x20node:\x20','revokeAttribute','4980636DACnHs','level','AssetHelperService','Create\x20Asset\x20with\x20name\x20','owner','contractData','SETDATA','ASSETLIB_LOGLEVEL','isContract','utils','asyncIterator','accountAddress','get\x20owner\x20of\x20asset:\x20','BigNumber','did/svc/','hasOwnProperty','colorize','transports','has\x20Rights\x20','VerifiablePresentation','loggerOptions','printf','__esModule','updateData','ipfsClient','provider','ethr','https://raw.githubusercontent.com/bloxmove-com/bloxmove-vocab/master/lds-ecdsa-secp256k1-recovery2020','labelhash','verifiableCredential','compareWithRecovered','\x20for\x20asset\x20','13445690PhndaX','gasLimit','getInvolvedParties\x20-\x20DIDs:\x20','0x0000000000000000000000000000000000000000000000000000000000000000','abi','Contract','443','once','runtime','DataPropertyEmptyException','\x20with\x20signature\x20','addInvolvedParties','resolver','emptybytes32','config','return','\x27\x0a\x20\x20\x20\x20\x20\x20for\x20asset:\x20','test','blockchainAccountId','runtimeConfig','EthereumAssetService','networkName','string','ipfs','lookupOwner','Wallet','deploy','../exceptions/ens-unauthorized.exception','from','ensAddress','createVerifiableCredential','loggerFormat','host','contractAsset','InvalidDIDSyntaxException','register\x20subNode:\x20','serviceEndpoint','__spreadArrays','proofSignatureType','createLogger','MissingDataPropertyPermissionException','EnsUnauthorizedException','ReadonlyDataPropertyPermissionException','\x27\x0a\x20\x20\x20\x20\x20\x20and\x20topic\x20\x27','the\x20ownerDID\x20','error\x20during\x20extract\x20singers:\x20','ipfsHashToBytes32','toLowerCase','type','close','Not\x20a\x20valid\x20didDoc\x20or\x20public\x20key','servicesToRemove:\x20','\x20of\x20message\x20','hasRole','getSignersFromDocument','setAttestation','ethr-did-resolver','setResolver','connect','\x20for\x20topic\x20','prototype','Expected\x20address\x20equals\x20recovered\x20address:\x20','port','https://raw.githubusercontent.com/bloxmove-com/bloxmove-vocab/master/v1','verificationMethod','address\x20Of\x20Name\x20','\x20and\x20assetType\x20','object','JsonRpcProvider'];a34_0x3059=function(){return _0x31e1a5;};return a34_0x3059();}