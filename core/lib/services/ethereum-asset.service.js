'use strict';function a35_0x338d(_0x4800b1,_0x347827){var _0x2f24eb=a35_0x2f24();return a35_0x338d=function(_0x338de9,_0x422169){_0x338de9=_0x338de9-0x174;var _0x213c6d=_0x2f24eb[_0x338de9];return _0x213c6d;},a35_0x338d(_0x4800b1,_0x347827);}var a35_0xd64c40=a35_0x338d;(function(_0x5c36df,_0x416159){var _0x126f97=a35_0x338d,_0x2cdd33=_0x5c36df();while(!![]){try{var _0x2d3eca=parseInt(_0x126f97(0x1bc))/0x1+-parseInt(_0x126f97(0x188))/0x2+-parseInt(_0x126f97(0x29d))/0x3+-parseInt(_0x126f97(0x1c9))/0x4+parseInt(_0x126f97(0x27c))/0x5*(parseInt(_0x126f97(0x1f1))/0x6)+parseInt(_0x126f97(0x18d))/0x7+-parseInt(_0x126f97(0x1a4))/0x8*(-parseInt(_0x126f97(0x296))/0x9);if(_0x2d3eca===_0x416159)break;else _0x2cdd33['push'](_0x2cdd33['shift']());}catch(_0x22fe5a){_0x2cdd33['push'](_0x2cdd33['shift']());}}}(a35_0x2f24,0x2fefd));function a35_0x2f24(){var _0x303c48=['getInvolvedParties','VerifiablePresentation','networkName','didRegistryAddress','cat','setSubnodeOwner','labelhash','push','\x20for\x20asset\x20','Create\x20Asset\x20with\x20name\x20','asyncIterator','LinkedDataProof','getResolver','all','apply','__awaiter','hasOwnProperty','authentication','Verify\x20Message\x20','connect','NonceManager','format','ipfs','decode','isVerifiableCredentialValid','EthrDID','assetHelperService','verify\x20signature\x20','split','proofSignatureType','setName','the\x20stored\x20data\x20','\x5cb|\x5cb','LinkedDataProofSignatureData','https://www.w3.org/2018/credentials/v1','createDataAndContractAsset','attestationRegistryAddress','Wallet','EnsMissingParentOwner','once','../interfaces/interfaces','../exceptions/data-property-exist.exception','EnsUnauthorizedException','level','info','toUtf8Bytes','verifyMessage','contractData','colorize','getOrThrow','type','JsonRpcProvider','concat','resolver','throw','provider','ContractFactory','validateVerifiablePresentation','loggerFormat','bs58','resolve\x20the\x20name\x20','constants','getAttestation','ipfsProtocol','\x20has\x20been\x20created\x20for\x20assetDID\x20','../../artifacts/@ensdomains/ens-contracts/contracts/resolvers/PublicResolver.sol/PublicResolver.json','did-resolver','singer','ipfsClient','value','signMessage','label','\x27\x0a\x20\x20\x20\x20\x20\x20and\x20topic\x20\x27','131485jpGUXu','didDocument','next','setAttribute','setResolver','@ensdomains/ensjs','../classes/verifiable-credential.class','owner','InvalidAddressException','return','verifySignature','getOwner','/api/v0','InvalidDIDSyntaxException','MissingDataPropertyException','signer','../../artifacts/contracts/IEthereumDIDRegistry.sol/IEthereumDIDRegistry.json','wait','../exceptions/missing-data-property-permission.exception','addServicesToDIDDoc','filter','ethrDidResolver','Asset\x20Contract\x20is\x20deployed\x20at\x20address\x20','cid','utils','verifiableCredential','2547279mmGJmz','Initializing\x20the\x20runtime\x20environment','getRoleMemberCount','toISOString','combine','nonceManager','from','1078164SDUdoY','blockchainAccountId','serviceEndpoint','account','../../artifacts/contracts/Asset.sol/Asset.json','https://raw.githubusercontent.com/bloxmove-com/bloxmove-vocab/master/lds-ecdsa-secp256k1-recovery2020','https','createLogger','Generator\x20is\x20already\x20executing.','BigNumber','default','0x0000000000000000000000000000000000000000000000000000000000000000','timestamp','\x20for\x20node:\x20','Creating\x20ENS\x20instance','0x0000000000000000000000000000000000000000','addressOfContractOwner:\x20','updateDataProperty','isAddress','error','get\x20verifiable\x20credentials\x20of\x20asset:\x20','sent','parse','set\x20DataProperty\x20with\x20key\x20\x27','slice','string','forEach','__esModule','the\x20address\x20of\x20contract\x20','162932oLQsUz','No\x20parseable\x20json\x20object\x20returned\x20from\x20ipfs,\x20JSON.parse\x20throwing\x20error:\x20','hasRights\x20','isOwnerOfDIDDocument','SETDATA','2330923vIZalh','getDIDDocument','printf','Error:\x20getDIDDocument\x20','1220','DIDUpdateForbiddenException','encode','bytes32ToIpfsHash','ethr','getAddress','initialize\x20ens\x20contracts','DataPropertyEmptyException','Error:\x20ipfsHashToBytes32\x20','\x27\x0a\x20\x20\x20\x20\x20\x20for\x20asset:\x20','lookupOwner','gasLimit','createVerifiablePresentation','bytecode','.\x20Returning\x20raw\x20data.','createAsset','call','accountPrivateKey','give\x20address\x20','8ZKrNku','revokeAttribute','addInvolvedParties','EnsInvalidNamespaceException','isContract','../exceptions/data-property-empty.exception','../exceptions/did-update-forbidded.exception','__generator','WebSocket:\x20connection\x20lost:\x20','createAccountAsset','EcdsaSecp256k1RecoverySignature2020','defineProperty','ipfsBasePath','then','emptybytes32','did/svc/','Deploying\x20Asset\x20Contract','servicesToRemove:\x20','Not\x20a\x20valid\x20didDoc\x20or\x20public\x20key','assertionMethod','\x20for\x20topic\x20','./asset-helper.service','createData','service','37767uqeykL','https://raw.githubusercontent.com/bloxmove-com/bloxmove-vocab/master/v1','error\x20during\x20extract\x20singers:\x20','namehash','address\x20Of\x20Name\x20','test','createDataProperty','verificationMethod','transports','compareWithRecovered','length','chainId','config','1118216YnmaBM','resolve','Creating\x20data\x20and\x20conract\x20asset','Initialise\x20WebSocketProvider','ens','message','keccak256','ASSETLIB_LOGLEVEL','../exceptions/invalid-signer.exception','substr','CONTROLLER','../classes/verifiable-presentation.class','isVerifiablePresentationValid','setAttestation','VerifiableCredential','toLowerCase','\x27\x20for\x20asset:\x20','create','trys','isContract:\x20','ipfsHost','Expected\x20address\x20equals\x20recovered\x20address:\x20','accountAddress','transactionOptions','Web\x20Socket:\x20trying\x20to\x20reconnect','getRoleMember','Contract','\x20signed\x20by\x20','toString','abi','assign','address','443','../../artifacts/@ensdomains/ens-contracts/contracts/registry/ENS.sol/ENS.json','\x27\x0a\x20\x20\x20\x20\x20\x20and\x20value\x20\x27','../exceptions/missing-data-property.exception','stringify','DataPropertyExistException','../exceptions/invalid-did-syntax.exception','getOrDefault','60ZezFMU','runtime','name','../classes/proof.class','\x5cb){1}:([0-9a-fA-Fx]{42})$','ethr-did','../exceptions/readonly-data-property-permission.exception','web3Provider','loggerOptions','map','getIdOfSigner','didDefaultValidity','ipfsHashToBytes32','logger','\x27\x20of\x20asset:\x20','setAddr(bytes32,address)','ipfs-http-client','iterator','formatBytes32String','deployed','ensAddress','MissingDataPropertyPermissionException','init','done','join','setDIDDocument','31536000000','__asyncValues','function','runtimeConfig','deploy','extracted\x20signers\x20from\x20DID\x20Document:\x20','getData','\x20of\x20message\x20','isValidDID','_websocket','convertAddressToDid','Error\x20calling\x20Ethereum\x20recover','ops','getSignersFromDocument','../classes/proof-signature-data.class','^did:ethr:(\x5cb','get\x20owner\x20of\x20asset:\x20','find','removeServicesFromDIDDoc','EthereumAssetService','ethers','object','pop','../exceptions/invalid-asset-type.exception','host','InvalidAssetTypeException','set\x20name\x20','prototype','getAddressOfEthrDid','hex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20permission\x20','debug','hasRole','add','resolverName','PermissionsEnum','NotContractException','\x27\x20and\x20value\x20\x27','../exceptions/ens-unauthorized.exception','update\x20DataProperty\x20with\x20key\x20\x27'];a35_0x2f24=function(){return _0x303c48;};return a35_0x2f24();}var __awaiter=this&&this[a35_0xd64c40(0x242)]||function(_0x2d24e2,_0x4f3d17,_0x373b9e,_0x504b31){function _0x5c73cf(_0x3b2560){return _0x3b2560 instanceof _0x373b9e?_0x3b2560:new _0x373b9e(function(_0x3aee09){_0x3aee09(_0x3b2560);});}return new(_0x373b9e||(_0x373b9e=Promise))(function(_0x2ea854,_0x946f11){var _0x59fb05=a35_0x338d;function _0x5a2359(_0x24ff41){var _0x51891c=a35_0x338d;try{_0x5c133e(_0x504b31[_0x51891c(0x27e)](_0x24ff41));}catch(_0x100744){_0x946f11(_0x100744);}}function _0x418cda(_0x6fbfc1){var _0x39dc92=a35_0x338d;try{_0x5c133e(_0x504b31[_0x39dc92(0x269)](_0x6fbfc1));}catch(_0xf07ba0){_0x946f11(_0xf07ba0);}}function _0x5c133e(_0x525811){var _0x2ca1b7=a35_0x338d;_0x525811['done']?_0x2ea854(_0x525811['value']):_0x5c73cf(_0x525811[_0x2ca1b7(0x278)])[_0x2ca1b7(0x1b1)](_0x5a2359,_0x418cda);}_0x5c133e((_0x504b31=_0x504b31[_0x59fb05(0x241)](_0x2d24e2,_0x4f3d17||[]))['next']());});},__generator=this&&this[a35_0xd64c40(0x1ab)]||function(_0x51710a,_0xddb977){var _0x2c2123=a35_0xd64c40,_0x1ef8e8={'label':0x0,'sent':function(){if(_0x18daa3[0x0]&0x1)throw _0x18daa3[0x1];return _0x18daa3[0x1];},'trys':[],'ops':[]},_0x535dfc,_0x15a3b5,_0x18daa3,_0x169d08;return _0x169d08={'next':_0x11816f(0x0),'throw':_0x11816f(0x1),'return':_0x11816f(0x2)},typeof Symbol==='function'&&(_0x169d08[Symbol[_0x2c2123(0x202)]]=function(){return this;}),_0x169d08;function _0x11816f(_0x250bd2){return function(_0x59a254){return _0x3ca5bc([_0x250bd2,_0x59a254]);};}function _0x3ca5bc(_0x4119c0){var _0x284e27=_0x2c2123;if(_0x535dfc)throw new TypeError(_0x284e27(0x2a5));while(_0x1ef8e8)try{if(_0x535dfc=0x1,_0x15a3b5&&(_0x18daa3=_0x4119c0[0x0]&0x2?_0x15a3b5[_0x284e27(0x285)]:_0x4119c0[0x0]?_0x15a3b5[_0x284e27(0x269)]||((_0x18daa3=_0x15a3b5[_0x284e27(0x285)])&&_0x18daa3['call'](_0x15a3b5),0x0):_0x15a3b5[_0x284e27(0x27e)])&&!(_0x18daa3=_0x18daa3[_0x284e27(0x1a1)](_0x15a3b5,_0x4119c0[0x1]))[_0x284e27(0x208)])return _0x18daa3;if(_0x15a3b5=0x0,_0x18daa3)_0x4119c0=[_0x4119c0[0x0]&0x2,_0x18daa3['value']];switch(_0x4119c0[0x0]){case 0x0:case 0x1:_0x18daa3=_0x4119c0;break;case 0x4:_0x1ef8e8[_0x284e27(0x27a)]++;return{'value':_0x4119c0[0x1],'done':![]};case 0x5:_0x1ef8e8[_0x284e27(0x27a)]++,_0x15a3b5=_0x4119c0[0x1],_0x4119c0=[0x0];continue;case 0x7:_0x4119c0=_0x1ef8e8[_0x284e27(0x217)][_0x284e27(0x221)](),_0x1ef8e8[_0x284e27(0x1db)][_0x284e27(0x221)]();continue;default:if(!(_0x18daa3=_0x1ef8e8[_0x284e27(0x1db)],_0x18daa3=_0x18daa3[_0x284e27(0x1c6)]>0x0&&_0x18daa3[_0x18daa3[_0x284e27(0x1c6)]-0x1])&&(_0x4119c0[0x0]===0x6||_0x4119c0[0x0]===0x2)){_0x1ef8e8=0x0;continue;}if(_0x4119c0[0x0]===0x3&&(!_0x18daa3||_0x4119c0[0x1]>_0x18daa3[0x0]&&_0x4119c0[0x1]<_0x18daa3[0x3])){_0x1ef8e8['label']=_0x4119c0[0x1];break;}if(_0x4119c0[0x0]===0x6&&_0x1ef8e8['label']<_0x18daa3[0x1]){_0x1ef8e8[_0x284e27(0x27a)]=_0x18daa3[0x1],_0x18daa3=_0x4119c0;break;}if(_0x18daa3&&_0x1ef8e8[_0x284e27(0x27a)]<_0x18daa3[0x2]){_0x1ef8e8[_0x284e27(0x27a)]=_0x18daa3[0x2],_0x1ef8e8[_0x284e27(0x217)][_0x284e27(0x23a)](_0x4119c0);break;}if(_0x18daa3[0x2])_0x1ef8e8[_0x284e27(0x217)][_0x284e27(0x221)]();_0x1ef8e8[_0x284e27(0x1db)][_0x284e27(0x221)]();continue;}_0x4119c0=_0xddb977[_0x284e27(0x1a1)](_0x51710a,_0x1ef8e8);}catch(_0x19906e){_0x4119c0=[0x6,_0x19906e],_0x15a3b5=0x0;}finally{_0x535dfc=_0x18daa3=0x0;}if(_0x4119c0[0x0]&0x5)throw _0x4119c0[0x1];return{'value':_0x4119c0[0x0]?_0x4119c0[0x1]:void 0x0,'done':!![]};}},__asyncValues=this&&this[a35_0xd64c40(0x20c)]||function(_0x27900e){var _0x3b6166=a35_0xd64c40;if(!Symbol[_0x3b6166(0x23d)])throw new TypeError('Symbol.asyncIterator\x20is\x20not\x20defined.');var _0x4e2c43=_0x27900e[Symbol[_0x3b6166(0x23d)]],_0x323842;return _0x4e2c43?_0x4e2c43[_0x3b6166(0x1a1)](_0x27900e):(_0x27900e=typeof __values===_0x3b6166(0x20d)?__values(_0x27900e):_0x27900e[Symbol[_0x3b6166(0x202)]](),_0x323842={},_0x144577('next'),_0x144577(_0x3b6166(0x269)),_0x144577(_0x3b6166(0x285)),_0x323842[Symbol[_0x3b6166(0x23d)]]=function(){return this;},_0x323842);function _0x144577(_0x187a5f){_0x323842[_0x187a5f]=_0x27900e[_0x187a5f]&&function(_0x58504a){return new Promise(function(_0x3d7071,_0x587139){var _0x2f7547=a35_0x338d;_0x58504a=_0x27900e[_0x187a5f](_0x58504a),_0x59382d(_0x3d7071,_0x587139,_0x58504a[_0x2f7547(0x208)],_0x58504a['value']);});};}function _0x59382d(_0x353ef3,_0x1cbed2,_0x4d6598,_0x57aeea){var _0x37ea52=_0x3b6166;Promise[_0x37ea52(0x1ca)](_0x57aeea)[_0x37ea52(0x1b1)](function(_0x2e383f){_0x353ef3({'value':_0x2e383f,'done':_0x4d6598});},_0x1cbed2);}},__spreadArrays=this&&this['__spreadArrays']||function(){var _0x64a083=a35_0xd64c40;for(var _0x381dc8=0x0,_0x9e1a18=0x0,_0x48ebc7=arguments[_0x64a083(0x1c6)];_0x9e1a18<_0x48ebc7;_0x9e1a18++)_0x381dc8+=arguments[_0x9e1a18]['length'];for(var _0x3c30da=Array(_0x381dc8),_0x12f883=0x0,_0x9e1a18=0x0;_0x9e1a18<_0x48ebc7;_0x9e1a18++)for(var _0x11a4c6=arguments[_0x9e1a18],_0x471ef5=0x0,_0x1f6c1f=_0x11a4c6[_0x64a083(0x1c6)];_0x471ef5<_0x1f6c1f;_0x471ef5++,_0x12f883++)_0x3c30da[_0x12f883]=_0x11a4c6[_0x471ef5];return _0x3c30da;},__importDefault=this&&this['__importDefault']||function(_0x15461a){return _0x15461a&&_0x15461a['__esModule']?_0x15461a:{'default':_0x15461a};};Object[a35_0xd64c40(0x1af)](exports,a35_0xd64c40(0x186),{'value':!![]}),exports[a35_0xd64c40(0x21e)]=void 0x0;var readonly_data_property_permission_exception_1=require(a35_0xd64c40(0x1f7)),interfaces_1=require(a35_0xd64c40(0x25b)),proof_signature_data_class_1=require(a35_0xd64c40(0x219)),verifiable_credential_class_1=require(a35_0xd64c40(0x282)),verifiable_presentation_class_1=require(a35_0xd64c40(0x1d4)),proof_class_1=require(a35_0xd64c40(0x1f4)),data_property_exist_exception_1=require(a35_0xd64c40(0x25c)),missing_data_property_permission_exception_1=require(a35_0xd64c40(0x28e)),data_property_empty_exception_1=require(a35_0xd64c40(0x1a9)),missing_data_property_exception_1=require(a35_0xd64c40(0x1ec)),winston_1=require('winston'),asset_helper_service_1=require(a35_0xd64c40(0x1b9)),did_resolver_1=require(a35_0xd64c40(0x275)),ethr_did_resolver_1=require('ethr-did-resolver'),ethers_1=require(a35_0xd64c40(0x21f)),ethr_did_1=require(a35_0xd64c40(0x1f6)),ensjs_1=__importDefault(require(a35_0xd64c40(0x281))),invalid_address_exception_1=require('../exceptions/invalid-address.exception'),invalid_did_syntax_exception_1=require(a35_0xd64c40(0x1ef)),invalid_asset_type_exception_1=require(a35_0xd64c40(0x222)),__1=require('..'),did_update_forbidded_exception_1=require(a35_0xd64c40(0x1aa)),invalid_signer_exception_1=require(a35_0xd64c40(0x1d1)),ens_unauthorized_exception_1=require(a35_0xd64c40(0x231)),ipfs_http_client_1=require(a35_0xd64c40(0x201)),experimental_1=require('@ethersproject/experimental'),ens_invalid_namespace_exception_1=require('../exceptions/ens-invalid-namespace.exception'),bs58=require(a35_0xd64c40(0x26e)),ASSET_CONTRACT=require(a35_0xd64c40(0x2a1)),DID_REGISTRY_CONTRACT=require(a35_0xd64c40(0x28c)),ATTESTATION_REGISTRY_CONTRACT=require('../../artifacts/contracts/AttestationRegistry.sol/AttestationRegistry.json'),ENS_INTERFACE=require(a35_0xd64c40(0x1ea)),ENS_RESOLVER_INTERFACE=require(a35_0xd64c40(0x274)),ZERO_ADDRESS=a35_0xd64c40(0x17a),ZERO_HASH=a35_0xd64c40(0x176),EthereumAssetService=(function(){var _0x25c9bd=a35_0xd64c40;function _0x4a3c9d(_0x18612d){var _0x29f4a7=a35_0x338d,_0x47e165=this;this['config']=_0x18612d,this[_0x29f4a7(0x250)]=_0x29f4a7(0x1ae),this[_0x29f4a7(0x20e)]={'ipfs':{'host':this[_0x29f4a7(0x1c8)][_0x29f4a7(0x264)](_0x29f4a7(0x1dd)),'port':this['config'][_0x29f4a7(0x1f0)]('ipfsPort',_0x29f4a7(0x1e9)),'protocol':this[_0x29f4a7(0x1c8)]['getOrDefault'](_0x29f4a7(0x272),_0x29f4a7(0x2a3)),'path':this['config']['getOrDefault'](_0x29f4a7(0x1b0),_0x29f4a7(0x288))},'web3Provider':this[_0x29f4a7(0x1c8)][_0x29f4a7(0x264)](_0x29f4a7(0x1f8)),'chainId':this[_0x29f4a7(0x1c8)]['getOrThrow'](_0x29f4a7(0x1c7)),'networkName':this[_0x29f4a7(0x1c8)][_0x29f4a7(0x264)](_0x29f4a7(0x235)),'accountAddress':this[_0x29f4a7(0x1c8)][_0x29f4a7(0x264)](_0x29f4a7(0x1df)),'accountPrivateKey':this[_0x29f4a7(0x1c8)]['getOrThrow'](_0x29f4a7(0x1a2)),'didRegistryAddress':this[_0x29f4a7(0x1c8)][_0x29f4a7(0x264)](_0x29f4a7(0x236)),'attestationRegistryAddress':this[_0x29f4a7(0x1c8)][_0x29f4a7(0x264)](_0x29f4a7(0x257)),'ensAddress':this[_0x29f4a7(0x1c8)][_0x29f4a7(0x264)](_0x29f4a7(0x205)),'didDefaultValidity':this['config'][_0x29f4a7(0x1f0)](_0x29f4a7(0x1fc),_0x29f4a7(0x20b)),'resolverName':this[_0x29f4a7(0x1c8)][_0x29f4a7(0x1f0)](_0x29f4a7(0x22d),_0x29f4a7(0x268)),'gasLimit':Number(this[_0x29f4a7(0x1c8)][_0x29f4a7(0x1f0)](_0x29f4a7(0x19c),'6721975'))},this[_0x29f4a7(0x1e0)]={'gasLimit':this[_0x29f4a7(0x20e)][_0x29f4a7(0x19c)]?Number(this[_0x29f4a7(0x20e)][_0x29f4a7(0x19c)]):undefined},this[_0x29f4a7(0x26d)]=winston_1[_0x29f4a7(0x248)][_0x29f4a7(0x18f)](function(_0x1e537e){var _0x3639e5=_0x29f4a7,_0x1f16cc=_0x1e537e[_0x3639e5(0x25e)],_0x312813=_0x1e537e[_0x3639e5(0x1ce)],_0x4bd8cd=_0x1e537e['label'],_0x448d7e=_0x1e537e['timestamp'];return _0x448d7e+'\x20['+_0x4bd8cd+']\x20'+_0x1f16cc+':\x20'+_0x312813;}),this[_0x29f4a7(0x1f9)]={'transports':new winston_1[(_0x29f4a7(0x1c4))]['Console']({'level':process['env'][_0x29f4a7(0x1d0)]||_0x29f4a7(0x25f)}),'format':winston_1[_0x29f4a7(0x248)][_0x29f4a7(0x29a)](winston_1['format'][_0x29f4a7(0x27a)]({'label':_0x4a3c9d[_0x29f4a7(0x1f3)]}),winston_1[_0x29f4a7(0x248)][_0x29f4a7(0x177)](),winston_1['format'][_0x29f4a7(0x263)](),this[_0x29f4a7(0x26d)])},this[_0x29f4a7(0x1fe)]=winston_1[_0x29f4a7(0x2a4)](this[_0x29f4a7(0x1f9)]),this[_0x29f4a7(0x1b2)]=ethers_1[_0x29f4a7(0x21f)][_0x29f4a7(0x270)]['HashZero'],this['verifySignature']=function(_0xa1cdcf,_0x49fa8b,_0x3410f7){return new Promise(function(_0x58a1f7){return __awaiter(_0x47e165,void 0x0,void 0x0,function(){var _0x4d3711,_0x1946b5=this;return __generator(this,function(_0x1ad09c){var _0x572298=a35_0x338d;switch(_0x1ad09c[_0x572298(0x27a)]){case 0x0:this[_0x572298(0x1fe)]['debug'](_0x572298(0x24e)+_0x3410f7+_0x572298(0x212)+_0x49fa8b+_0x572298(0x1e4)+_0xa1cdcf);return[0x4,this[_0x572298(0x218)](_0xa1cdcf)];case 0x1:_0x4d3711=_0x1ad09c[_0x572298(0x180)](),_0x4d3711[_0x572298(0x185)](function(_0x53e4df){var _0x304d04=_0x572298,_0x2bb951,_0x1fa497=(_0x2bb951=_0x53e4df[_0x304d04(0x29e)])===null||_0x2bb951===void 0x0?void 0x0:_0x2bb951[_0x304d04(0x1d2)](0x0,0x2a);_0x58a1f7(_0x1946b5[_0x304d04(0x1c5)](_0x1fa497,_0x49fa8b,_0x3410f7));});return[0x2];}});});});},this[_0x29f4a7(0x24d)]=new asset_helper_service_1['AssetHelperService']();}return _0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x207)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x223d20,_0xa4d181,_0x277738,_0x5ef84a,_0x44f2f2,_0x3b6478,_0x5bfbde,_0x4989c2=this;return __generator(this,function(_0xee0c00){var _0x3d35ab=a35_0x338d;return this[_0x3d35ab(0x1fe)][_0x3d35ab(0x25f)](_0x3d35ab(0x297)),_0x223d20=ipfs_http_client_1[_0x3d35ab(0x1da)]({'host':this['runtimeConfig'][_0x3d35ab(0x249)][_0x3d35ab(0x223)],'port':Number(this[_0x3d35ab(0x20e)][_0x3d35ab(0x249)]['port']),'protocol':this[_0x3d35ab(0x20e)][_0x3d35ab(0x249)]['protocol'],'apiPath':this[_0x3d35ab(0x20e)][_0x3d35ab(0x249)]['path'],'timeout':0x7d0}),this['runtimeConfig'][_0x3d35ab(0x1f8)]['startsWith']('ws')?(this[_0x3d35ab(0x1fe)]['debug'](_0x3d35ab(0x1cc)),_0xa4d181=new ethers_1[(_0x3d35ab(0x21f))]['providers']['WebSocketProvider'](this[_0x3d35ab(0x20e)][_0x3d35ab(0x1f8)]),_0xa4d181[_0x3d35ab(0x214)][_0x3d35ab(0x25a)]('close',function(_0x469463){return __awaiter(_0x4989c2,void 0x0,void 0x0,function(){return __generator(this,function(_0x9ffad9){var _0x1e96e1=a35_0x338d;switch(_0x9ffad9[_0x1e96e1(0x27a)]){case 0x0:this['logger']['info'](_0x1e96e1(0x1e1)),_0xa4d181['_websocket']['terminate']();return[0x4,new Promise(function(_0x3f7b4a){return setTimeout(_0x3f7b4a,0x1388);})];case 0x1:_0x9ffad9[_0x1e96e1(0x180)](),this['init']();return[0x2];}});});}),_0xa4d181[_0x3d35ab(0x214)][_0x3d35ab(0x25a)](_0x3d35ab(0x17e),function(_0x434596){return __awaiter(_0x4989c2,void 0x0,void 0x0,function(){return __generator(this,function(_0x36c3dc){var _0x5c217c=a35_0x338d;return this[_0x5c217c(0x1fe)][_0x5c217c(0x17e)](_0x5c217c(0x1ac)+_0x434596),[0x2];});});})):(this[_0x3d35ab(0x1fe)][_0x3d35ab(0x22a)]('Initialise\x20JsonRpcProvider'),_0xa4d181=new ethers_1['ethers']['providers'][(_0x3d35ab(0x266))](this[_0x3d35ab(0x20e)]['web3Provider'])),_0x277738=new ethers_1[(_0x3d35ab(0x21f))][(_0x3d35ab(0x258))](this[_0x3d35ab(0x20e)][_0x3d35ab(0x1a2)]),_0x5ef84a=new experimental_1[(_0x3d35ab(0x247))](_0x277738[_0x3d35ab(0x246)](_0xa4d181)),this['logger'][_0x3d35ab(0x25f)](_0x3d35ab(0x179)),_0x44f2f2=new ensjs_1[(_0x3d35ab(0x175))]({'provider':_0xa4d181,'ensAddress':this[_0x3d35ab(0x20e)][_0x3d35ab(0x205)]}),_0x3b6478={'networks':[{'name':this[_0x3d35ab(0x20e)][_0x3d35ab(0x235)],'registry':this[_0x3d35ab(0x20e)]['didRegistryAddress'],'provider':_0xa4d181,'chainId':this['runtimeConfig']['chainId']}]},_0x5bfbde=ethr_did_resolver_1[_0x3d35ab(0x23f)](_0x3b6478),this[_0x3d35ab(0x1f2)]={'ipfsClient':_0x223d20,'nonceManager':_0x5ef84a,'provider':_0xa4d181,'ens':_0x44f2f2,'ethrDidResolver':_0x5bfbde},this[_0x3d35ab(0x1fe)][_0x3d35ab(0x25f)]('Initialized\x20runtime,\x20active\x20account:\x20'+this[_0x3d35ab(0x1f2)][_0x3d35ab(0x29b)][_0x3d35ab(0x28b)][_0x3d35ab(0x1e8)]),[0x2];});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x1a0)]=function(_0x209a54,_0x7c8c29,_0x28e8d5,_0x1d4364){return __awaiter(this,void 0x0,void 0x0,function(){var _0xa1115a;return __generator(this,function(_0x499209){var _0x123b8d=a35_0x338d;switch(_0x499209['label']){case 0x0:this[_0x123b8d(0x1fe)]['info'](_0x123b8d(0x23c)+_0x209a54+'\x20and\x20assetType\x20'+_0x28e8d5),_0xa1115a='';if(!(_0x1d4364&&_0x28e8d5&&_0x28e8d5===_0x123b8d(0x2a0)))return[0x3,0x1];_0xa1115a=this[_0x123b8d(0x1ad)](_0x1d4364);return[0x3,0x3];case 0x1:this[_0x123b8d(0x1fe)][_0x123b8d(0x25f)](_0x123b8d(0x1cb));return[0x4,this[_0x123b8d(0x256)](_0x209a54,_0x7c8c29,_0x28e8d5)];case 0x2:_0xa1115a=_0x499209[_0x123b8d(0x180)](),_0x499209[_0x123b8d(0x27a)]=0x3;case 0x3:this[_0x123b8d(0x1fe)]['info']('The\x20created\x20AssetDID:\x20'+_0xa1115a);return[0x2,_0xa1115a];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x1ad)]=function(_0x4c455b){var _0x4e32d0=_0x25c9bd;return this[_0x4e32d0(0x215)](_0x4c455b);},_0x4a3c9d['prototype'][_0x25c9bd(0x256)]=function(_0x2ccb6e,_0x3133d2,_0x6f66fc){return __awaiter(this,void 0x0,void 0x0,function(){var _0x40fee6,_0x6468f1,_0xa01dbb,_0x4ec26c,_0x1bf633,_0x2e7ce4,_0x403f88,_0x21ed11,_0x46fa99,_0x430e39,_0x1039c5,_0x4ae0e6,_0x40412b;return __generator(this,function(_0x921f57){var _0x1dcd41=a35_0x338d;switch(_0x921f57[_0x1dcd41(0x27a)]){case 0x0:_0x3133d2[_0x1dcd41(0x1f3)]=_0x2ccb6e,_0x40fee6=new ethers_1['ethers'][(_0x1dcd41(0x26b))](ASSET_CONTRACT[_0x1dcd41(0x1e6)],ASSET_CONTRACT[_0x1dcd41(0x19e)],this[_0x1dcd41(0x1f2)][_0x1dcd41(0x29b)]),_0x6468f1=[],_0xa01dbb=[],_0x4ec26c=_0x1dcd41(0x262);if(_0x6f66fc&&_0x6f66fc==='contractAsset'&&!_0x3133d2['hasOwnProperty'](_0x4ec26c))throw new missing_data_property_exception_1[(_0x1dcd41(0x28a))](_0x4ec26c);_0x1bf633=[];for(_0x2e7ce4 in _0x3133d2)_0x1bf633[_0x1dcd41(0x23a)](_0x2e7ce4);_0x403f88=0x0,_0x921f57['label']=0x1;case 0x1:if(!(_0x403f88<_0x1bf633['length']))return[0x3,0x4];_0x21ed11=_0x1bf633[_0x403f88];if(!_0x3133d2[_0x1dcd41(0x243)](_0x21ed11))return[0x3,0x3];_0x46fa99=ethers_1[_0x1dcd41(0x21f)][_0x1dcd41(0x294)]['id'](_0x21ed11),_0x430e39=JSON[_0x1dcd41(0x1ed)](_0x3133d2[_0x21ed11]);return[0x4,this[_0x1dcd41(0x1f2)]['ipfsClient'][_0x1dcd41(0x22c)](Buffer[_0x1dcd41(0x29c)](_0x430e39))];case 0x2:_0x1039c5=_0x921f57[_0x1dcd41(0x180)](),_0x6468f1['push'](_0x46fa99),_0xa01dbb['push'](this[_0x1dcd41(0x1fd)](String(_0x1039c5['cid']))),_0x921f57['label']=0x3;case 0x3:_0x403f88++;return[0x3,0x1];case 0x4:this['logger'][_0x1dcd41(0x25f)](_0x1dcd41(0x1b4));return[0x4,_0x40fee6[_0x1dcd41(0x20f)](this['runtimeConfig']['didRegistryAddress'],_0x6468f1,_0xa01dbb,this['transactionOptions'])];case 0x5:_0x4ae0e6=_0x921f57['sent']();return[0x4,_0x4ae0e6['deployed']()];case 0x6:_0x921f57[_0x1dcd41(0x180)](),_0x40412b=_0x4ae0e6['address'],this[_0x1dcd41(0x1fe)][_0x1dcd41(0x22a)](_0x1dcd41(0x292)+_0x40412b);return[0x2,this[_0x1dcd41(0x215)](_0x40412b)];}});});},_0x4a3c9d['prototype'][_0x25c9bd(0x1a6)]=function(_0x1219dc,_0x172f2c,_0x257733){return __awaiter(this,void 0x0,void 0x0,function(){var _0x207a08,_0x4fc1ce,_0x1678f1,_0x4f1529,_0xefedda,_0x1c0e21,_0x165209,_0x104119;return __generator(this,function(_0x5eec80){var _0x1aeda1=a35_0x338d;switch(_0x5eec80['label']){case 0x0:_0x207a08=this[_0x1aeda1(0x227)](_0x1219dc),_0x4fc1ce=_0x257733['map'](function(_0x3215e6){var _0x2738f0=_0x1aeda1;return ethers_1[_0x2738f0(0x21f)][_0x2738f0(0x294)]['id'](_0x3215e6);}),_0x1678f1=new ethers_1[(_0x1aeda1(0x21f))][(_0x1aeda1(0x1e3))](_0x207a08,ASSET_CONTRACT[_0x1aeda1(0x1e6)],this['runtime']['nonceManager']),(_0x4f1529=0x0,_0xefedda=_0x172f2c),_0x5eec80[_0x1aeda1(0x27a)]=0x1;case 0x1:if(!(_0x4f1529<_0xefedda[_0x1aeda1(0x1c6)]))return[0x3,0x5];_0x1c0e21=_0xefedda[_0x4f1529],_0x165209=this['getAddressOfEthrDid'](_0x1c0e21),this['logger']['info'](_0x1aeda1(0x1a3)+_0x165209+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20with\x20DID\x20'+_0x1c0e21+_0x1aeda1(0x229)+_0x257733[_0x1aeda1(0x209)]()+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20over\x20the\x20AssetContract\x20'+_0x207a08);return[0x4,_0x1678f1['grantRoleArrayToAccount'](_0x4fc1ce,_0x165209,this[_0x1aeda1(0x1e0)])];case 0x2:_0x104119=_0x5eec80[_0x1aeda1(0x180)]();return[0x4,_0x104119[_0x1aeda1(0x28d)]()];case 0x3:_0x5eec80[_0x1aeda1(0x180)](),_0x5eec80['label']=0x4;case 0x4:_0x4f1529++;return[0x3,0x1];case 0x5:return[0x2];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x233)]=function(_0x1d8565,_0x8fbc74){return __awaiter(this,void 0x0,void 0x0,function(){var _0x49314a,_0x41363b,_0x90684a,_0x5f5d0b,_0x49d001,_0x360bd3,_0x5bd1aa,_0x5444e2=this;return __generator(this,function(_0x5bd777){var _0x110496=a35_0x338d;switch(_0x5bd777[_0x110496(0x27a)]){case 0x0:return[0x4,this[_0x110496(0x227)](_0x1d8565)];case 0x1:_0x49314a=_0x5bd777[_0x110496(0x180)](),_0x41363b=new ethers_1['ethers']['Contract'](_0x49314a,ASSET_CONTRACT[_0x110496(0x1e6)],this[_0x110496(0x1f2)][_0x110496(0x26a)]),_0x90684a=ethers_1[_0x110496(0x21f)][_0x110496(0x294)]['id'](_0x8fbc74),_0x5f5d0b=[];return[0x4,_0x41363b[_0x110496(0x298)](_0x90684a)];case 0x2:_0x49d001=_0x5bd777[_0x110496(0x180)](),_0x360bd3=0x0,_0x5bd777[_0x110496(0x27a)]=0x3;case 0x3:if(!(_0x360bd3<_0x49d001))return[0x3,0x6];return[0x4,_0x41363b[_0x110496(0x1e2)](_0x90684a,_0x360bd3)];case 0x4:_0x5bd1aa=_0x5bd777['sent'](),_0x5f5d0b['push'](_0x5bd1aa),_0x5bd777[_0x110496(0x27a)]=0x5;case 0x5:_0x360bd3++;return[0x3,0x3];case 0x6:this['logger'][_0x110496(0x25f)]('getInvolvedParties\x20-\x20DIDs:\x20'+JSON[_0x110496(0x1ed)](_0x5f5d0b));return[0x2,_0x5f5d0b[_0x110496(0x1fa)](function(_0x6f03d5){return _0x5444e2['convertAddressToDid'](_0x6f03d5);})];}});});},_0x4a3c9d[_0x25c9bd(0x226)]['getDataProperty']=function(_0x47a370,_0x17c6c5,_0xc3d6d8){return __awaiter(this,void 0x0,void 0x0,function(){var _0x244f4d,_0x43165c,_0x3cdef3,_0x3e3f50,_0x3d9df6,_0x2eed09,_0x26464d;return __generator(this,function(_0x25bdda){var _0x486899=a35_0x338d;switch(_0x25bdda[_0x486899(0x27a)]){case 0x0:this[_0x486899(0x1fe)][_0x486899(0x22a)]('get\x20DataProperty\x20with\x20key\x20\x27'+_0x17c6c5+_0x486899(0x1ff)+_0x47a370);return[0x4,this[_0x486899(0x1a8)](_0x47a370)];case 0x1:_0x244f4d=_0x25bdda[_0x486899(0x180)]();if(_0xc3d6d8&&_0xc3d6d8===_0x486899(0x2a0)||!_0x244f4d)return[0x2,null];if(_0xc3d6d8&&_0xc3d6d8===_0x486899(0x2a0)&&_0x244f4d)throw new invalid_asset_type_exception_1[(_0x486899(0x224))](_0xc3d6d8,_0x47a370);_0x43165c=this[_0x486899(0x227)](_0x47a370),this['logger']['debug'](_0x486899(0x187)+_0x43165c),_0x3cdef3=new ethers_1['ethers'][(_0x486899(0x1e3))](_0x43165c,ASSET_CONTRACT['abi'],this[_0x486899(0x1f2)][_0x486899(0x26a)]),_0x3e3f50=ethers_1[_0x486899(0x21f)][_0x486899(0x294)]['id'](_0x17c6c5);return[0x4,_0x3cdef3[_0x486899(0x211)](_0x3e3f50)];case 0x2:_0x3d9df6=_0x25bdda['sent']();if(_0x3d9df6===this['emptybytes32'])return[0x2,null];_0x2eed09=this[_0x486899(0x194)](_0x3d9df6);return[0x4,this['getDataFromIpfs'](_0x2eed09)];case 0x3:_0x26464d=_0x25bdda['sent'](),this[_0x486899(0x1fe)][_0x486899(0x22a)](_0x486899(0x252)+JSON['stringify'](_0x26464d));return[0x2,_0x26464d?_0x26464d:null];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x1c2)]=function(_0x1e4b4d,_0x1efef8,_0x320139,_0x505d5d,_0x2352da){return __awaiter(this,void 0x0,void 0x0,function(){var _0x396661,_0x54ddb3,_0x7ee56c,_0x948a67,_0x3d6888,_0x1ea5c2,_0x3cbe15,_0x19c839,_0x3b7f72,_0x352935;return __generator(this,function(_0x14bbf2){var _0x358278=a35_0x338d;switch(_0x14bbf2[_0x358278(0x27a)]){case 0x0:this[_0x358278(0x1fe)]['debug'](_0x358278(0x182)+_0x1efef8+_0x358278(0x1eb)+_0x320139+_0x358278(0x19a)+_0x1e4b4d);return[0x4,this['isValidDID'](_0x1e4b4d)];case 0x1:_0x396661=_0x14bbf2['sent']();if(!_0x396661)throw new invalid_did_syntax_exception_1['InvalidDIDSyntaxException'](_0x1e4b4d);return[0x4,this['isContract'](_0x1e4b4d)];case 0x2:_0x54ddb3=_0x14bbf2['sent']();if(!_0x54ddb3)throw new __1[(_0x358278(0x22f))](_0x1e4b4d);_0x7ee56c=this[_0x358278(0x227)](_0x1e4b4d),_0x948a67=new ethers_1[(_0x358278(0x21f))][(_0x358278(0x1e3))](_0x7ee56c,ASSET_CONTRACT['abi'],this[_0x358278(0x1f2)][_0x358278(0x29b)]);return[0x4,_0x948a67[_0x358278(0x22b)](ethers_1['ethers'][_0x358278(0x294)]['id'](interfaces_1['PermissionsEnum'][_0x358278(0x18c)]),this['runtime']['nonceManager'][_0x358278(0x28b)][_0x358278(0x1e8)])];case 0x3:_0x3d6888=_0x14bbf2[_0x358278(0x180)](),this[_0x358278(0x1fe)][_0x358278(0x22a)]('has\x20Rights\x20'+_0x3d6888);if(!_0x3d6888)throw new missing_data_property_permission_exception_1['MissingDataPropertyPermissionException'](this['convertAddressToDid'](this[_0x358278(0x1f2)][_0x358278(0x276)][_0x358278(0x1e8)]),_0x1efef8);_0x1ea5c2=ethers_1[_0x358278(0x21f)][_0x358278(0x294)]['id'](_0x1efef8);return[0x4,_0x948a67['getData'](_0x1ea5c2)];case 0x4:_0x3cbe15=_0x14bbf2[_0x358278(0x180)]();if(_0x3cbe15!==this[_0x358278(0x1b2)])throw new data_property_exist_exception_1[(_0x358278(0x1ee))](_0x1e4b4d,_0x1efef8);_0x19c839=JSON[_0x358278(0x1ed)](_0x320139);return[0x4,this[_0x358278(0x1f2)]['ipfsClient'][_0x358278(0x22c)](Buffer[_0x358278(0x29c)](_0x19c839))];case 0x5:_0x3b7f72=_0x14bbf2[_0x358278(0x180)]();return[0x4,_0x948a67[_0x358278(0x1ba)](_0x1ea5c2,this[_0x358278(0x1fd)](String(_0x3b7f72[_0x358278(0x293)])),_0x2352da,this[_0x358278(0x1e0)])];case 0x6:_0x352935=_0x14bbf2[_0x358278(0x180)]();return[0x4,_0x352935[_0x358278(0x28d)]()];case 0x7:_0x14bbf2[_0x358278(0x180)](),this[_0x358278(0x1fe)]['debug']('data\x20property\x20'+_0x1efef8+_0x358278(0x273)+_0x1e4b4d);return[0x2];}});});},_0x4a3c9d[_0x25c9bd(0x226)]['resolveName']=function(_0x57f651){return __awaiter(this,void 0x0,void 0x0,function(){var _0x143111,_0x3db3b0,_0x3f9257;return __generator(this,function(_0x343b0d){var _0x194f9b=a35_0x338d;switch(_0x343b0d[_0x194f9b(0x27a)]){case 0x0:this['logger'][_0x194f9b(0x22a)](_0x194f9b(0x26f)+_0x57f651);try{_0x143111=this[_0x194f9b(0x1f2)][_0x194f9b(0x1cd)][_0x194f9b(0x1f3)](_0x57f651);}catch(_0x1f0610){_0x3db3b0=_0x57f651['split']('.')[0x0]||_0x57f651;throw new ens_invalid_namespace_exception_1[(_0x194f9b(0x1a7))](_0x3db3b0);}return[0x4,_0x143111[_0x194f9b(0x196)]()];case 0x1:_0x3f9257=_0x343b0d[_0x194f9b(0x180)](),this[_0x194f9b(0x1fe)][_0x194f9b(0x22a)](_0x194f9b(0x1c0)+_0x3f9257);if(_0x3f9257===ZERO_ADDRESS)return[0x2,null];return[0x2,this[_0x194f9b(0x215)](_0x3f9257)];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x251)]=function(_0x43c15a,_0x1cd06b){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4ab1b6,_0x4e630c,_0x4914fe,_0xc990e,_0x52bc55,_0x4849a3,_0x627e41,_0x35c342,_0x459850,_0x585994,_0x5db8e1,_0x45014a,_0x494ee1,_0x94a397,_0xdd11b6,_0x5a7a7a,_0x2bb028,_0x38dec2,_0x28dd35,_0x627e41,_0x552d59,_0x4432f7,_0x35c342,_0x459850,_0x580dfc,_0x4c621c,_0x4bdf3d,_0x45014a,_0x94a397,_0xdd11b6,_0x1ebb85,_0x4a27cb,_0x56aa2a,_0x184487;return __generator(this,function(_0x56947b){var _0x1498d4=a35_0x338d;switch(_0x56947b[_0x1498d4(0x27a)]){case 0x0:return[0x4,this['isValidDID'](_0x1cd06b)];case 0x1:_0x4ab1b6=_0x56947b[_0x1498d4(0x180)]();if(!_0x4ab1b6)throw new invalid_did_syntax_exception_1[(_0x1498d4(0x289))](_0x1cd06b);this['logger']['debug'](_0x1498d4(0x197)),_0x4e630c=new ethers_1['ethers'][(_0x1498d4(0x1e3))](this[_0x1498d4(0x20e)][_0x1498d4(0x205)],ENS_INTERFACE['abi'],this['runtime'][_0x1498d4(0x29b)]);return[0x4,this[_0x1498d4(0x1f2)][_0x1498d4(0x1cd)][_0x1498d4(0x1f3)](this[_0x1498d4(0x20e)][_0x1498d4(0x22d)])[_0x1498d4(0x196)]()];case 0x2:_0x4914fe=_0x56947b[_0x1498d4(0x180)](),_0xc990e=new ethers_1[(_0x1498d4(0x21f))][(_0x1498d4(0x1e3))](_0x4914fe,ENS_RESOLVER_INTERFACE[_0x1498d4(0x1e6)],this[_0x1498d4(0x1f2)][_0x1498d4(0x29b)]),_0x43c15a=_0x43c15a[_0x1498d4(0x1d8)](),this['logger'][_0x1498d4(0x22a)](_0x1498d4(0x225)+_0x43c15a+_0x1498d4(0x23b)+_0x1cd06b),_0x52bc55=this['getAddressOfEthrDid'](_0x1cd06b),_0x4849a3=_0x43c15a[_0x1498d4(0x24f)]('.'),_0x56947b[_0x1498d4(0x27a)]=0x3;case 0x3:_0x56947b[_0x1498d4(0x1db)][_0x1498d4(0x23a)]([0x3,0x10,,0x11]);if(!(_0x4849a3[_0x1498d4(0x1c6)]===0x1))return[0x3,0x9];_0x627e41=_0x4849a3[0x0];return[0x4,_0x4e630c[_0x1498d4(0x283)](ZERO_HASH,this[_0x1498d4(0x1e0)])];case 0x4:_0x35c342=_0x56947b[_0x1498d4(0x180)](),_0x459850=_0x35c342===this[_0x1498d4(0x20e)]['accountAddress'],_0x585994=_0x35c342===ZERO_ADDRESS;if(!_0x459850&&!_0x585994)throw new ens_unauthorized_exception_1[(_0x1498d4(0x25d))](_0x627e41);this[_0x1498d4(0x1fe)][_0x1498d4(0x22a)]('register\x20node:\x20'+_0x627e41),_0x5db8e1=this['labelhash'](_0x627e41);return[0x4,_0x4e630c[_0x1498d4(0x238)](ZERO_HASH,_0x5db8e1,this['runtimeConfig'][_0x1498d4(0x1df)],this[_0x1498d4(0x1e0)])];case 0x5:_0x45014a=_0x56947b['sent'](),_0x494ee1=ethers_1[_0x1498d4(0x21f)][_0x1498d4(0x294)][_0x1498d4(0x1bf)](_0x627e41);return[0x4,_0x4e630c[_0x1498d4(0x280)](_0x494ee1,_0x4914fe,this['transactionOptions'])];case 0x6:_0x94a397=_0x56947b['sent']();return[0x4,_0xc990e['setAddr(bytes32,address)'](_0x494ee1,_0x52bc55,this[_0x1498d4(0x1e0)])];case 0x7:_0xdd11b6=_0x56947b[_0x1498d4(0x180)](),_0x2bb028=(_0x5a7a7a=Promise)[_0x1498d4(0x240)],_0x38dec2=[_0x45014a,_0x94a397];return[0x4,_0xdd11b6['wait']()];case 0x8:_0x2bb028[_0x1498d4(0x241)](_0x5a7a7a,[_0x38dec2[_0x1498d4(0x267)]([_0x56947b[_0x1498d4(0x180)]()])]);return[0x3,0xf];case 0x9:_0x28dd35=_0x4849a3[0x0],_0x627e41=_0x4849a3[_0x1498d4(0x183)](0x1)[_0x1498d4(0x209)]('.'),_0x552d59=_0x28dd35+'.'+_0x627e41,_0x4432f7=ethers_1[_0x1498d4(0x21f)][_0x1498d4(0x294)]['namehash'](_0x627e41);return[0x4,_0x4e630c[_0x1498d4(0x283)](_0x4432f7)];case 0xa:_0x35c342=_0x56947b[_0x1498d4(0x180)](),_0x459850=_0x35c342===ethers_1[_0x1498d4(0x21f)][_0x1498d4(0x294)][_0x1498d4(0x196)](this[_0x1498d4(0x20e)][_0x1498d4(0x1df)]),_0x580dfc=_0x35c342!==ZERO_ADDRESS;if(!_0x580dfc)throw new __1[(_0x1498d4(0x259))](_0x627e41);else{if(_0x580dfc&&!_0x459850)throw new ens_unauthorized_exception_1[(_0x1498d4(0x25d))](_0x627e41,_0x28dd35);}this[_0x1498d4(0x1fe)][_0x1498d4(0x22a)]('register\x20subNode:\x20'+_0x552d59+_0x1498d4(0x178)+_0x627e41),_0x4c621c=this[_0x1498d4(0x239)](_0x28dd35),_0x4bdf3d=ethers_1[_0x1498d4(0x21f)][_0x1498d4(0x294)][_0x1498d4(0x1bf)](_0x552d59);return[0x4,_0x4e630c[_0x1498d4(0x238)](_0x4432f7,_0x4c621c,this[_0x1498d4(0x20e)][_0x1498d4(0x1df)],this['transactionOptions'])];case 0xb:_0x45014a=_0x56947b[_0x1498d4(0x180)]();return[0x4,_0x4e630c[_0x1498d4(0x280)](_0x4bdf3d,_0x4914fe,this[_0x1498d4(0x1e0)])];case 0xc:_0x94a397=_0x56947b[_0x1498d4(0x180)]();return[0x4,_0xc990e[_0x1498d4(0x200)](_0x4bdf3d,_0x52bc55,this[_0x1498d4(0x1e0)])];case 0xd:_0xdd11b6=_0x56947b['sent'](),_0x4a27cb=(_0x1ebb85=Promise)[_0x1498d4(0x240)],_0x56aa2a=[_0x45014a,_0x94a397];return[0x4,_0xdd11b6[_0x1498d4(0x28d)]()];case 0xe:_0x4a27cb[_0x1498d4(0x241)](_0x1ebb85,[_0x56aa2a[_0x1498d4(0x267)]([_0x56947b['sent']()])]),_0x56947b[_0x1498d4(0x27a)]=0xf;case 0xf:return[0x3,0x11];case 0x10:_0x184487=_0x56947b['sent']();throw new ens_invalid_namespace_exception_1[(_0x1498d4(0x1a7))](_0x43c15a);case 0x11:return[0x2];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x239)]=function(_0x40700d){var _0x2b8b8a=_0x25c9bd;return ethers_1[_0x2b8b8a(0x21f)][_0x2b8b8a(0x294)][_0x2b8b8a(0x1cf)](ethers_1[_0x2b8b8a(0x21f)]['utils'][_0x2b8b8a(0x260)](_0x40700d));},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x1c5)]=function(_0x1463e8,_0x40c5ad,_0x3a0898){var _0xa7ff23=_0x25c9bd;try{this[_0xa7ff23(0x1fe)][_0xa7ff23(0x22a)](_0xa7ff23(0x245)+_0x40c5ad+'\x20with\x20signature\x20'+_0x3a0898);var _0x5eacb8=ethers_1[_0xa7ff23(0x21f)][_0xa7ff23(0x294)][_0xa7ff23(0x261)](_0x40c5ad,_0x3a0898);return this[_0xa7ff23(0x1fe)][_0xa7ff23(0x22a)](_0xa7ff23(0x1de)+(_0x1463e8===_0x5eacb8)),_0x1463e8===_0x5eacb8;}catch(_0x31de2f){return this[_0xa7ff23(0x1fe)]['debug'](_0xa7ff23(0x216)),this[_0xa7ff23(0x1fe)][_0xa7ff23(0x22a)](_0x31de2f),![];}},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x287)]=function(_0x4f8f50){return __awaiter(this,void 0x0,void 0x0,function(){var _0x469e6f,_0xa390d2,_0x49e774,_0x28097c,_0x55fa9e,_0xfa3f84,_0x505ed3;return __generator(this,function(_0x298f1b){var _0x125171=a35_0x338d;switch(_0x298f1b[_0x125171(0x27a)]){case 0x0:this[_0x125171(0x1fe)][_0x125171(0x25f)](_0x125171(0x21b)+_0x4f8f50);return[0x4,this[_0x125171(0x1a8)](_0x4f8f50)];case 0x1:_0xa390d2=_0x298f1b[_0x125171(0x180)](),this[_0x125171(0x1fe)][_0x125171(0x22a)](_0x125171(0x1dc)+_0xa390d2);if(!_0xa390d2)return[0x3,0x3];_0x49e774=this[_0x125171(0x227)](_0x4f8f50),_0x28097c=new ethers_1[(_0x125171(0x21f))][(_0x125171(0x1e3))](_0x49e774,ASSET_CONTRACT[_0x125171(0x1e6)],this[_0x125171(0x1f2)][_0x125171(0x26a)]);return[0x4,_0x28097c[_0x125171(0x283)]()];case 0x2:_0x55fa9e=_0x298f1b[_0x125171(0x180)](),this[_0x125171(0x1fe)]['info'](_0x125171(0x17b)+_0x55fa9e),_0x469e6f=this['convertAddressToDid'](_0x55fa9e);return[0x3,0x5];case 0x3:_0xfa3f84=new ethr_did_1['EthrDID']({'identifier':this[_0x125171(0x227)](_0x4f8f50),'provider':this['runtime'][_0x125171(0x26a)],'chainNameOrId':this[_0x125171(0x20e)][_0x125171(0x1c7)],'registry':this['runtimeConfig'][_0x125171(0x236)]});return[0x4,_0xfa3f84[_0x125171(0x19b)]()];case 0x4:_0x505ed3=_0x298f1b[_0x125171(0x180)](),_0x469e6f=this[_0x125171(0x215)](_0x505ed3),_0x298f1b[_0x125171(0x27a)]=0x5;case 0x5:this['logger']['info']('the\x20ownerDID\x20'+_0x469e6f+'\x20of\x20assetDID\x20'+_0x4f8f50);return[0x2,_0x469e6f];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x279)]=function(_0x16f2d3){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x2c8ec1){var _0x208042=a35_0x338d;return[0x2,this[_0x208042(0x1f2)][_0x208042(0x29b)][_0x208042(0x279)](_0x16f2d3)];});});},_0x4a3c9d['prototype'][_0x25c9bd(0x213)]=function(_0x282370){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4aa054,_0x58372d;return __generator(this,function(_0x27975a){var _0x24b176=a35_0x338d;_0x4aa054=new RegExp(_0x24b176(0x21a)+this['runtimeConfig']['networkName']+_0x24b176(0x253)+this['runtimeConfig'][_0x24b176(0x1c7)]+_0x24b176(0x1f5),'g'),_0x58372d=_0x4aa054[_0x24b176(0x1c1)](_0x282370);if(_0x58372d)try{this['getAddressOfEthrDid'](_0x282370);}catch(_0x29b336){return[0x2,Promise['resolve'](![])];}return[0x2,Promise[_0x24b176(0x1ca)](_0x58372d)];});});},_0x4a3c9d[_0x25c9bd(0x226)]['getDIDDocument']=function(_0x5884bf){return __awaiter(this,void 0x0,void 0x0,function(){var _0x112e3a,_0x415686,_0x590014,_0x2c5900;return __generator(this,function(_0x3f542c){var _0x54c52a=a35_0x338d;switch(_0x3f542c['label']){case 0x0:return[0x4,this[_0x54c52a(0x213)](_0x5884bf)];case 0x1:_0x112e3a=_0x3f542c['sent']();if(!_0x112e3a)throw new invalid_did_syntax_exception_1[(_0x54c52a(0x289))](_0x5884bf);_0x3f542c['label']=0x2;case 0x2:_0x3f542c[_0x54c52a(0x1db)][_0x54c52a(0x23a)]([0x2,0x4,,0x5]),_0x415686=new did_resolver_1['Resolver'](this[_0x54c52a(0x1f2)][_0x54c52a(0x291)]);return[0x4,_0x415686[_0x54c52a(0x1ca)](_0x5884bf)];case 0x3:_0x590014=_0x3f542c[_0x54c52a(0x180)]();if(_0x590014['didDocument'])return[0x2,_0x590014[_0x54c52a(0x27d)]];return[0x3,0x5];case 0x4:_0x2c5900=_0x3f542c[_0x54c52a(0x180)](),this[_0x54c52a(0x1fe)]['error'](_0x54c52a(0x190)+(_0x2c5900===null||_0x2c5900===void 0x0?void 0x0:_0x2c5900['message']));return[0x3,0x5];case 0x5:throw new __1['UnresolvableDIDException'](_0x5884bf);}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x20a)]=function(_0x8adcf3){return __awaiter(this,void 0x0,void 0x0,function(){var _0x57540c,_0x450a3a,_0x5482a5,_0x301793,_0x58f56e,_0x4b6921,_0x3ac540,_0x5b35dd,_0x15fb13;return __generator(this,function(_0x5c3238){var _0x437ef5=a35_0x338d;switch(_0x5c3238[_0x437ef5(0x27a)]){case 0x0:return[0x4,this[_0x437ef5(0x18b)](_0x8adcf3)];case 0x1:_0x57540c=_0x5c3238[_0x437ef5(0x180)]();if(!_0x57540c)throw new did_update_forbidded_exception_1[(_0x437ef5(0x192))]();return[0x4,this[_0x437ef5(0x18e)](_0x8adcf3['id'])];case 0x2:_0x450a3a=_0x5c3238[_0x437ef5(0x180)](),_0x5482a5=_0x8adcf3['service']?__spreadArrays(_0x8adcf3[_0x437ef5(0x1bb)]):[],_0x301793=_0x450a3a[_0x437ef5(0x1bb)]?__spreadArrays(_0x450a3a[_0x437ef5(0x1bb)]):[],_0x58f56e=_0x8adcf3[_0x437ef5(0x1bb)]?_0x5482a5['filter'](function(_0x2080bb){return!_0x301793['find'](function(_0x4f1c73){var _0x238a62=a35_0x338d;return _0x4f1c73&&_0x2080bb[_0x238a62(0x265)]===_0x4f1c73[_0x238a62(0x265)];});}):[],this[_0x437ef5(0x1fe)][_0x437ef5(0x22a)]('servicesToAdd:\x20'+JSON[_0x437ef5(0x1ed)](_0x58f56e)),_0x4b6921=_0x450a3a[_0x437ef5(0x1bb)]?_0x301793[_0x437ef5(0x290)](function(_0x5f449f){return!_0x5482a5['find'](function(_0x561bb4){var _0x3467d7=a35_0x338d;return _0x561bb4&&_0x5f449f[_0x3467d7(0x265)]===_0x561bb4['type'];});}):[],this[_0x437ef5(0x1fe)][_0x437ef5(0x22a)](_0x437ef5(0x1b5)+JSON[_0x437ef5(0x1ed)](_0x4b6921)),_0x3ac540=this['getAddressOfEthrDid'](_0x8adcf3['id']);return[0x4,this['isContract'](_0x3ac540)];case 0x3:if(!_0x5c3238[_0x437ef5(0x180)]())return[0x3,0x6];_0x5b35dd=new ethers_1[(_0x437ef5(0x21f))]['Contract'](_0x3ac540,ASSET_CONTRACT[_0x437ef5(0x1e6)],this[_0x437ef5(0x1f2)]['nonceManager']);return[0x4,this[_0x437ef5(0x28f)](_0x3ac540,_0x58f56e,_0x5b35dd)];case 0x4:_0x5c3238[_0x437ef5(0x180)]();return[0x4,this[_0x437ef5(0x21d)](_0x3ac540,_0x4b6921,_0x5b35dd)];case 0x5:_0x5c3238[_0x437ef5(0x180)]();return[0x3,0x9];case 0x6:_0x15fb13=new ethers_1[(_0x437ef5(0x21f))][(_0x437ef5(0x1e3))](this[_0x437ef5(0x20e)][_0x437ef5(0x236)],DID_REGISTRY_CONTRACT[_0x437ef5(0x1e6)],this['runtime']['nonceManager']);return[0x4,this[_0x437ef5(0x28f)](_0x3ac540,_0x58f56e,_0x15fb13)];case 0x7:_0x5c3238['sent']();return[0x4,this[_0x437ef5(0x21d)](_0x3ac540,_0x4b6921,_0x15fb13)];case 0x8:_0x5c3238[_0x437ef5(0x180)](),_0x5c3238[_0x437ef5(0x27a)]=0x9;case 0x9:return[0x2];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x28f)]=function(_0x4ef231,_0x4203ab,_0x4556e3){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5f0fab,_0x510c26,_0x595acf,_0xf20d06,_0x183af9,_0x347454;return __generator(this,function(_0x7698df){var _0x5db6d8=a35_0x338d;switch(_0x7698df[_0x5db6d8(0x27a)]){case 0x0:this['logger'][_0x5db6d8(0x22a)]('adding\x20services:\x20'+JSON['stringify'](_0x4203ab)),(_0x5f0fab=0x0,_0x510c26=_0x4203ab),_0x7698df[_0x5db6d8(0x27a)]=0x1;case 0x1:if(!(_0x5f0fab<_0x510c26['length']))return[0x3,0x5];_0x595acf=_0x510c26[_0x5f0fab],_0xf20d06=ethers_1[_0x5db6d8(0x21f)][_0x5db6d8(0x294)][_0x5db6d8(0x203)](_0x5db6d8(0x1b3)+_0x595acf[_0x5db6d8(0x265)]),_0x183af9=ethers_1[_0x5db6d8(0x21f)][_0x5db6d8(0x294)][_0x5db6d8(0x260)](_0x595acf[_0x5db6d8(0x29f)]);return[0x4,_0x4556e3[_0x5db6d8(0x27f)](_0x4ef231,_0xf20d06,_0x183af9,ethers_1[_0x5db6d8(0x21f)][_0x5db6d8(0x174)][_0x5db6d8(0x29c)](this['runtimeConfig'][_0x5db6d8(0x1fc)]),this[_0x5db6d8(0x1e0)])];case 0x2:_0x347454=_0x7698df[_0x5db6d8(0x180)]();return[0x4,_0x347454['wait']()];case 0x3:_0x7698df[_0x5db6d8(0x180)](),_0x7698df[_0x5db6d8(0x27a)]=0x4;case 0x4:_0x5f0fab++;return[0x3,0x1];case 0x5:return[0x2];}});});},_0x4a3c9d[_0x25c9bd(0x226)]['removeServicesFromDIDDoc']=function(_0x5c0d64,_0xb37d3a,_0x420350){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2a634e,_0x4f9375,_0x466692,_0x2fb40d,_0xac23c,_0x1ddcce;return __generator(this,function(_0x1496e0){var _0x5107f2=a35_0x338d;switch(_0x1496e0[_0x5107f2(0x27a)]){case 0x0:_0x2a634e=0x0,_0x4f9375=_0xb37d3a,_0x1496e0[_0x5107f2(0x27a)]=0x1;case 0x1:if(!(_0x2a634e<_0x4f9375[_0x5107f2(0x1c6)]))return[0x3,0x5];_0x466692=_0x4f9375[_0x2a634e],_0x2fb40d=ethers_1[_0x5107f2(0x21f)][_0x5107f2(0x294)][_0x5107f2(0x203)](_0x5107f2(0x1b3)+_0x466692[_0x5107f2(0x265)]),_0xac23c=ethers_1[_0x5107f2(0x21f)][_0x5107f2(0x294)]['toUtf8Bytes'](_0x466692[_0x5107f2(0x29f)]);return[0x4,_0x420350[_0x5107f2(0x1a5)](_0x5c0d64,_0x2fb40d,_0xac23c,this[_0x5107f2(0x1e0)])];case 0x2:_0x1ddcce=_0x1496e0['sent']();return[0x4,_0x1ddcce[_0x5107f2(0x28d)]()];case 0x3:_0x1496e0['sent'](),_0x1496e0['label']=0x4;case 0x4:_0x2a634e++;return[0x3,0x1];case 0x5:return[0x2];}});});},_0x4a3c9d['prototype']['createVerifiableCredential']=function(_0x3e1de9,_0x3b3ae6,_0x4aefe7,_0x37b03b){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1efd9c,_0x341556,_0x3c4392,_0x403722,_0x2bb8c3,_0x4915f7,_0x41b07d,_0x3ba36e,_0x2af75f;return __generator(this,function(_0x4b87e3){var _0x3934a7=a35_0x338d;switch(_0x4b87e3[_0x3934a7(0x27a)]){case 0x0:_0x1efd9c=new proof_signature_data_class_1[(_0x3934a7(0x254))](_0x3b3ae6,_0x4aefe7?_0x4aefe7:_0x3934a7(0x1b7),_0x37b03b),_0x341556=this[_0x3934a7(0x215)](this['runtimeConfig'][_0x3934a7(0x1df)]);return[0x4,this[_0x3934a7(0x1fb)](_0x341556)];case 0x1:_0x3c4392=_0x4b87e3['sent'](),_0x403722=new Date()['toISOString']();return[0x4,this[_0x3934a7(0x279)](JSON['stringify'](_0x1efd9c))];case 0x2:_0x2bb8c3=_0x4b87e3[_0x3934a7(0x180)](),_0x4915f7=new proof_class_1['LinkedDataProof'](this['proofSignatureType'],_0x4aefe7?_0x4aefe7:_0x3934a7(0x1b7),_0x3c4392['id'],_0x403722,_0x2bb8c3),_0x41b07d=new Date()[_0x3934a7(0x299)](),_0x3ba36e=[_0x3934a7(0x1d7)],_0x3e1de9['forEach'](function(_0x52b34b){var _0x43b5df=_0x3934a7;_0x3ba36e[_0x43b5df(0x23a)](_0x52b34b);}),_0x2af75f=new verifiable_credential_class_1[(_0x3934a7(0x1d7))](_0x3ba36e,_0x3b3ae6,_0x341556,_0x41b07d,_0x4915f7,_0x37b03b);return[0x2,Object[_0x3934a7(0x1e7)]({'@context':[_0x3934a7(0x255),_0x3934a7(0x1bd),_0x3934a7(0x2a2)]},_0x2af75f)];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x19d)]=function(_0x3ac8d5,_0x81fb29,_0x4f12bf){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2c4a05,_0x2f4820,_0x373a8d,_0x26ddca,_0x281c4c,_0x1551f0,_0x31cca0;return __generator(this,function(_0x7cad62){var _0x33b9ee=a35_0x338d;switch(_0x7cad62[_0x33b9ee(0x27a)]){case 0x0:_0x2c4a05=this[_0x33b9ee(0x215)](this[_0x33b9ee(0x20e)][_0x33b9ee(0x1df)]);return[0x4,this[_0x33b9ee(0x1fb)](_0x2c4a05)];case 0x1:_0x2f4820=_0x7cad62[_0x33b9ee(0x180)](),_0x373a8d=new Date()['toISOString']();return[0x4,this[_0x33b9ee(0x279)](JSON[_0x33b9ee(0x1ed)](_0x3ac8d5))];case 0x2:_0x26ddca=_0x7cad62[_0x33b9ee(0x180)](),_0x281c4c=new proof_class_1[(_0x33b9ee(0x23e))](this[_0x33b9ee(0x250)],_0x81fb29?_0x81fb29:_0x33b9ee(0x244),_0x2f4820['id'],_0x373a8d,_0x26ddca),_0x1551f0=[_0x33b9ee(0x234)],_0x31cca0=new verifiable_presentation_class_1['VerifiablePresentation'](_0x1551f0,_0x3ac8d5,_0x281c4c,_0x4f12bf);return[0x2,Object[_0x33b9ee(0x1e7)]({'@context':[_0x33b9ee(0x255)]},_0x31cca0)];}});});},_0x4a3c9d[_0x25c9bd(0x226)]['validateVerifiableCredential']=function(_0x20d0ef){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1ba191;return __generator(this,function(_0x42e619){var _0x1a1737=a35_0x338d;switch(_0x42e619[_0x1a1737(0x27a)]){case 0x0:return[0x4,this[_0x1a1737(0x24d)][_0x1a1737(0x24b)](_0x20d0ef,this[_0x1a1737(0x286)],_0x1a1737(0x195))];case 0x1:_0x1ba191=_0x42e619[_0x1a1737(0x180)]();if(_0x1ba191)return[0x2,_0x20d0ef];return[0x2,undefined];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x26c)]=function(_0x1baf53,_0x1c3138){return __awaiter(this,void 0x0,void 0x0,function(){var _0x30cb3e,_0x30d11b,_0x4e1395=this;return __generator(this,function(_0x42cfa9){var _0x55778e=a35_0x338d;switch(_0x42cfa9['label']){case 0x0:return[0x4,this[_0x55778e(0x24d)][_0x55778e(0x1d5)](_0x1baf53,_0x1c3138,this[_0x55778e(0x286)],_0x55778e(0x195))];case 0x1:_0x30cb3e=_0x42cfa9[_0x55778e(0x180)]();if(!_0x30cb3e)return[0x2,[]];typeof _0x1c3138===_0x55778e(0x184)?_0x30d11b=this[_0x55778e(0x24d)]['extractVerifiableCredentialsFromString'](_0x1c3138):_0x30d11b=_0x1c3138[_0x55778e(0x295)];return[0x2,_0x30d11b[_0x55778e(0x290)](function(_0x4efc51){var _0x2357c0=_0x55778e;return _0x4e1395[_0x2357c0(0x24d)][_0x2357c0(0x24b)](_0x4efc51,_0x4e1395[_0x2357c0(0x286)],'ethr');})];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x218)]=function(_0x341fef){return __awaiter(this,void 0x0,void 0x0,function(){var _0x50292b,_0x4c87b1;return __generator(this,function(_0x2c849d){var _0x22d732=a35_0x338d;switch(_0x2c849d[_0x22d732(0x27a)]){case 0x0:return[0x4,this[_0x22d732(0x18e)](_0x341fef)];case 0x1:_0x50292b=_0x2c849d[_0x22d732(0x180)](),_0x4c87b1=[];try{_0x50292b&&_0x50292b[_0x22d732(0x1c3)]&&_0x50292b[_0x22d732(0x1c3)][_0x22d732(0x185)](function(_0x4a2c61){_0x4c87b1['push'](_0x4a2c61);}),this[_0x22d732(0x1fe)][_0x22d732(0x22a)](_0x22d732(0x210)+JSON[_0x22d732(0x1ed)](_0x50292b));}catch(_0x2fd1c9){this[_0x22d732(0x1fe)][_0x22d732(0x17e)](_0x22d732(0x1be)+_0x2fd1c9);throw new Error(_0x22d732(0x1b6));}return[0x2,_0x4c87b1];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x17c)]=function(_0x5087a1,_0x2686ad,_0x2d9bba,_0x5bb09d){return __awaiter(this,void 0x0,void 0x0,function(){var _0x30f36f,_0x3cfe73,_0x4135b9,_0xa73100,_0x11dfa5,_0x47bb8a,_0x54812b,_0x7d0de1,_0x4273a4,_0x95eb40;return __generator(this,function(_0x4cbaa6){var _0x3a5df9=a35_0x338d;switch(_0x4cbaa6[_0x3a5df9(0x27a)]){case 0x0:this['logger']['debug'](_0x3a5df9(0x232)+_0x2686ad+_0x3a5df9(0x230)+_0x2d9bba+_0x3a5df9(0x1d9)+_0x5087a1);return[0x4,this[_0x3a5df9(0x213)](_0x5087a1)];case 0x1:_0x30f36f=_0x4cbaa6[_0x3a5df9(0x180)]();if(!_0x30f36f)throw new invalid_did_syntax_exception_1['InvalidDIDSyntaxException'](_0x5087a1);_0x3cfe73=this[_0x3a5df9(0x227)](_0x5087a1),_0x4135b9=new ethers_1['ethers']['Contract'](_0x3cfe73,ASSET_CONTRACT[_0x3a5df9(0x1e6)],this[_0x3a5df9(0x1f2)][_0x3a5df9(0x29b)]);return[0x4,_0x4135b9[_0x3a5df9(0x204)]()];case 0x2:_0x4cbaa6[_0x3a5df9(0x180)]();return[0x4,_0x4135b9[_0x3a5df9(0x22b)](ethers_1[_0x3a5df9(0x21f)]['utils']['id'](interfaces_1['PermissionsEnum']['SETDATA']),this[_0x3a5df9(0x1f2)][_0x3a5df9(0x29b)][_0x3a5df9(0x28b)][_0x3a5df9(0x1e8)])];case 0x3:_0xa73100=_0x4cbaa6['sent'](),this[_0x3a5df9(0x1fe)][_0x3a5df9(0x22a)](_0x3a5df9(0x18a)+_0xa73100);if(!_0xa73100)throw new missing_data_property_permission_exception_1[(_0x3a5df9(0x206))](this[_0x3a5df9(0x215)](this['runtime'][_0x3a5df9(0x276)][_0x3a5df9(0x1e8)]),_0x2686ad);_0x11dfa5=ethers_1[_0x3a5df9(0x21f)][_0x3a5df9(0x294)]['id'](_0x2686ad);return[0x4,_0x4135b9['getData'](_0x11dfa5)];case 0x4:_0x47bb8a=_0x4cbaa6['sent']();if(_0x47bb8a===this[_0x3a5df9(0x1b2)])throw new data_property_empty_exception_1[(_0x3a5df9(0x198))](_0x5087a1,_0x2686ad);return[0x4,_0x4135b9['changeable'](_0x11dfa5)];case 0x5:_0x54812b=_0x4cbaa6[_0x3a5df9(0x180)]();if(!_0x54812b)throw new readonly_data_property_permission_exception_1['ReadonlyDataPropertyPermissionException'](_0x5087a1,_0x2686ad);_0x7d0de1=JSON[_0x3a5df9(0x1ed)](_0x2d9bba);return[0x4,this['runtime'][_0x3a5df9(0x277)][_0x3a5df9(0x22c)](Buffer[_0x3a5df9(0x29c)](_0x7d0de1))];case 0x6:_0x4273a4=_0x4cbaa6['sent']();return[0x4,_0x4135b9['updateData'](_0x11dfa5,this[_0x3a5df9(0x1fd)](String(_0x4273a4[_0x3a5df9(0x293)])),this[_0x3a5df9(0x1e0)])];case 0x7:_0x95eb40=_0x4cbaa6[_0x3a5df9(0x180)]();return[0x4,_0x95eb40[_0x3a5df9(0x28d)]()];case 0x8:_0x4cbaa6['sent']();return[0x2];}});});},_0x4a3c9d[_0x25c9bd(0x226)]['getDataFromIpfs']=function(_0x27e429){var _0x21b3a4,_0xd25f6;return __awaiter(this,void 0x0,void 0x0,function(){var _0x14d280,_0x1c976d,_0x2a1605,_0x2444b2,_0x5b9d7e,_0x1bb89a,_0x5f3a04;return __generator(this,function(_0x1f4c6b){var _0x4e9206=a35_0x338d;switch(_0x1f4c6b['label']){case 0x0:_0x14d280='',_0x1f4c6b[_0x4e9206(0x27a)]=0x1;case 0x1:_0x1f4c6b[_0x4e9206(0x1db)]['push']([0x1,0xf,,0x10]);return[0x4,this[_0x4e9206(0x1f2)]['ipfsClient'][_0x4e9206(0x237)](_0x27e429,{})];case 0x2:_0x1c976d=_0x1f4c6b[_0x4e9206(0x180)](),_0x1f4c6b[_0x4e9206(0x27a)]=0x3;case 0x3:_0x1f4c6b[_0x4e9206(0x1db)][_0x4e9206(0x23a)]([0x3,0x8,0x9,0xe]),_0x2a1605=__asyncValues(_0x1c976d),_0x1f4c6b[_0x4e9206(0x27a)]=0x4;case 0x4:return[0x4,_0x2a1605[_0x4e9206(0x27e)]()];case 0x5:if(!(_0x2444b2=_0x1f4c6b[_0x4e9206(0x180)](),!_0x2444b2[_0x4e9206(0x208)]))return[0x3,0x7];_0x5b9d7e=_0x2444b2[_0x4e9206(0x278)],_0x14d280+=_0x5b9d7e[_0x4e9206(0x1e5)](),_0x1f4c6b[_0x4e9206(0x27a)]=0x6;case 0x6:return[0x3,0x4];case 0x7:return[0x3,0xe];case 0x8:_0x1bb89a=_0x1f4c6b[_0x4e9206(0x180)](),_0x21b3a4={'error':_0x1bb89a};return[0x3,0xe];case 0x9:_0x1f4c6b[_0x4e9206(0x1db)][_0x4e9206(0x23a)]([0x9,,0xc,0xd]);if(!(_0x2444b2&&!_0x2444b2[_0x4e9206(0x208)]&&(_0xd25f6=_0x2a1605[_0x4e9206(0x285)])))return[0x3,0xb];return[0x4,_0xd25f6[_0x4e9206(0x1a1)](_0x2a1605)];case 0xa:_0x1f4c6b[_0x4e9206(0x180)](),_0x1f4c6b[_0x4e9206(0x27a)]=0xb;case 0xb:return[0x3,0xd];case 0xc:if(_0x21b3a4)throw _0x21b3a4[_0x4e9206(0x17e)];return[0x7];case 0xd:return[0x7];case 0xe:this[_0x4e9206(0x1fe)]['debug']('extracted\x20data\x20from\x20IPFS:\x20'+JSON['stringify'](_0x14d280));return[0x3,0x10];case 0xf:_0x5f3a04=_0x1f4c6b[_0x4e9206(0x180)](),this[_0x4e9206(0x1fe)][_0x4e9206(0x17e)](_0x5f3a04);return[0x2];case 0x10:try{return[0x2,JSON[_0x4e9206(0x181)](_0x14d280)];}catch(_0x28c821){if(_0x28c821 instanceof SyntaxError)return this[_0x4e9206(0x1fe)]['debug'](_0x4e9206(0x189)+_0x28c821+_0x4e9206(0x19f)),[0x2,_0x14d280];else throw _0x28c821;}return[0x2];}});});},_0x4a3c9d['prototype'][_0x25c9bd(0x215)]=function(_0x44d9ad){var _0x15a00d=_0x25c9bd;if(ethers_1[_0x15a00d(0x21f)][_0x15a00d(0x294)][_0x15a00d(0x17d)](_0x44d9ad))return'did:ethr:'+this[_0x15a00d(0x20e)][_0x15a00d(0x235)]+':'+_0x44d9ad;throw new invalid_address_exception_1[(_0x15a00d(0x284))](_0x44d9ad);},_0x4a3c9d['prototype'][_0x25c9bd(0x227)]=function(_0x3bd1b1){var _0x4a9dbc=_0x25c9bd,_0x4565c8=_0x3bd1b1[_0x4a9dbc(0x1d2)](_0x3bd1b1[_0x4a9dbc(0x1c6)]-0x2a);if(ethers_1[_0x4a9dbc(0x21f)][_0x4a9dbc(0x294)][_0x4a9dbc(0x17d)](_0x4565c8))return _0x4565c8;throw new invalid_did_syntax_exception_1[(_0x4a9dbc(0x289))](_0x3bd1b1);},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x1fd)]=function(_0x32ca46){var _0x27fda0=_0x25c9bd;try{var _0x4d2fbf=bs58[_0x27fda0(0x24a)](_0x32ca46),_0x47b6d7=0x2;return'0x'+_0x4d2fbf['slice'](_0x47b6d7,_0x4d2fbf['length'])[_0x27fda0(0x1e5)]('hex');}catch(_0x46dac3){return this[_0x27fda0(0x1fe)][_0x27fda0(0x17e)](_0x27fda0(0x199)+(_0x46dac3===null||_0x46dac3===void 0x0?void 0x0:_0x46dac3['message'])),this['emptybytes32'];}},_0x4a3c9d['prototype']['bytes32ToIpfsHash']=function(_0xcfded7){var _0xe239ee=_0x25c9bd,_0x207392=_0xcfded7[_0xe239ee(0x183)](0x2,_0xcfded7[_0xe239ee(0x1c6)]),_0x32f722=Buffer[_0xe239ee(0x29c)](_0xe239ee(0x191)+_0x207392,_0xe239ee(0x228)),_0x249409=bs58[_0xe239ee(0x193)](_0x32f722);return _0x249409;},_0x4a3c9d['prototype'][_0x25c9bd(0x1d6)]=function(_0xfcf548,_0x3efcd2,_0x251aa4){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5a8665,_0x2f7f14,_0x44a7bd,_0x38909e,_0xea77d7,_0x503f58,_0x12bd5e;return __generator(this,function(_0x3e9251){var _0x3f426b=a35_0x338d;switch(_0x3e9251['label']){case 0x0:this[_0x3f426b(0x1fe)][_0x3f426b(0x22a)]('set\x20Attestation\x20for\x20asset\x20\x27'+_0xfcf548+_0x3f426b(0x27b)+_0x3efcd2+'\x27'),_0x5a8665=new ethers_1['ethers']['Contract'](this['runtimeConfig'][_0x3f426b(0x257)],ATTESTATION_REGISTRY_CONTRACT[_0x3f426b(0x1e6)],this[_0x3f426b(0x1f2)][_0x3f426b(0x29b)]),_0x2f7f14=this[_0x3f426b(0x227)](_0xfcf548),_0x44a7bd=ethers_1['ethers'][_0x3f426b(0x294)]['id'](_0x3efcd2),_0x38909e=typeof _0x251aa4===_0x3f426b(0x220)?JSON[_0x3f426b(0x1ed)](_0x251aa4):String(_0x251aa4);return[0x4,this['runtime'][_0x3f426b(0x277)][_0x3f426b(0x22c)](Buffer['from'](_0x38909e))];case 0x1:_0xea77d7=_0x3e9251[_0x3f426b(0x180)](),_0x503f58=this[_0x3f426b(0x1fd)](String(_0xea77d7[_0x3f426b(0x293)]));return[0x4,_0x5a8665[_0x3f426b(0x1d6)](_0x2f7f14,_0x44a7bd,_0x503f58,this[_0x3f426b(0x1e0)])];case 0x2:_0x12bd5e=_0x3e9251[_0x3f426b(0x180)]();return[0x4,_0x12bd5e['wait']()];case 0x3:_0x3e9251['sent']();return[0x2];}});});},_0x4a3c9d['prototype']['getAttestations']=function(_0x12f07b,_0x38ba45){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5eb1c0,_0x22a0da,_0x3ecb32,_0x530b99,_0x3860ff,_0x1d6fb2,_0x36c216,_0xd1b7ac,_0x5c880a,_0x35090b;return __generator(this,function(_0x462635){var _0x5a841b=a35_0x338d;switch(_0x462635['label']){case 0x0:this[_0x5a841b(0x1fe)][_0x5a841b(0x22a)](_0x5a841b(0x17f)+_0x12f07b+_0x5a841b(0x1b8)+_0x38ba45),_0x5eb1c0=this[_0x5a841b(0x227)](_0x12f07b),this[_0x5a841b(0x1fe)][_0x5a841b(0x22a)]('assetAddress:\x20'+_0x5eb1c0),_0x22a0da=new ethers_1[(_0x5a841b(0x21f))][(_0x5a841b(0x1e3))](this['runtimeConfig']['attestationRegistryAddress'],ATTESTATION_REGISTRY_CONTRACT['abi'],this['runtime'][_0x5a841b(0x26a)]),_0x3ecb32=[],_0x530b99=ethers_1['ethers'][_0x5a841b(0x294)]['id'](_0x38ba45);return[0x4,_0x22a0da[_0x5a841b(0x271)](_0x5eb1c0,_0x530b99)];case 0x1:_0x3860ff=_0x462635[_0x5a841b(0x180)](),(_0x1d6fb2=0x0,_0x36c216=_0x3860ff),_0x462635[_0x5a841b(0x27a)]=0x2;case 0x2:if(!(_0x1d6fb2<_0x36c216[_0x5a841b(0x1c6)]))return[0x3,0x5];_0xd1b7ac=_0x36c216[_0x1d6fb2],_0x5c880a=this[_0x5a841b(0x194)](_0xd1b7ac);return[0x4,this['getDataFromIpfs'](_0x5c880a)];case 0x3:_0x35090b=_0x462635['sent']();_0x35090b&&_0x3ecb32['push'](_0x35090b);_0x462635[_0x5a841b(0x27a)]=0x4;case 0x4:_0x1d6fb2++;return[0x3,0x2];case 0x5:return[0x2,_0x3ecb32];}});});},_0x4a3c9d[_0x25c9bd(0x226)]['isContract']=function(_0x50feb7){return __awaiter(this,void 0x0,void 0x0,function(){var _0x11e82a,_0x53d6d4;return __generator(this,function(_0x261b38){var _0x46350f=a35_0x338d;switch(_0x261b38[_0x46350f(0x27a)]){case 0x0:_0x11e82a=this['getAddressOfEthrDid'](_0x50feb7);return[0x4,this[_0x46350f(0x1f2)]['provider']['getCode'](_0x11e82a)];case 0x1:_0x53d6d4=_0x261b38[_0x46350f(0x180)]();return[0x2,_0x53d6d4!=='0x'];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x18b)]=function(_0x528f9d){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2e4031,_0x46c937,_0x4f78eb,_0x405522,_0x3ded5a,_0x599eba;return __generator(this,function(_0x4a59fc){var _0x5096f7=a35_0x338d;switch(_0x4a59fc[_0x5096f7(0x27a)]){case 0x0:_0x2e4031=this[_0x5096f7(0x227)](_0x528f9d['id']);return[0x4,this[_0x5096f7(0x1a8)](_0x2e4031)];case 0x1:_0x46c937=_0x4a59fc[_0x5096f7(0x180)]();if(!_0x46c937)return[0x3,0x3];_0x4f78eb=new ethers_1[(_0x5096f7(0x21f))][(_0x5096f7(0x1e3))](_0x2e4031,ASSET_CONTRACT[_0x5096f7(0x1e6)],this[_0x5096f7(0x1f2)][_0x5096f7(0x29b)]);return[0x4,_0x4f78eb[_0x5096f7(0x22b)](ethers_1[_0x5096f7(0x21f)][_0x5096f7(0x294)]['id'](interfaces_1[_0x5096f7(0x22e)][_0x5096f7(0x1d3)]),this[_0x5096f7(0x1f2)][_0x5096f7(0x29b)][_0x5096f7(0x28b)][_0x5096f7(0x1e8)])];case 0x2:_0x405522=_0x4a59fc[_0x5096f7(0x180)]();if(_0x405522)return[0x2,!![]];return[0x3,0x5];case 0x3:_0x3ded5a=new ethr_did_1[(_0x5096f7(0x24c))]({'identifier':_0x2e4031,'provider':this[_0x5096f7(0x1f2)][_0x5096f7(0x26a)],'chainNameOrId':this['runtimeConfig']['chainId'],'registry':this[_0x5096f7(0x20e)][_0x5096f7(0x236)]});return[0x4,_0x3ded5a[_0x5096f7(0x19b)]()];case 0x4:_0x599eba=_0x4a59fc[_0x5096f7(0x180)]();if(_0x599eba===this['runtimeConfig'][_0x5096f7(0x1df)])return[0x2,!![]];_0x4a59fc['label']=0x5;case 0x5:return[0x2,![]];}});});},_0x4a3c9d[_0x25c9bd(0x226)][_0x25c9bd(0x1fb)]=function(_0x23e1c2){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1c60f3,_0x72e24,_0x446ccf=this;return __generator(this,function(_0x518380){var _0x23768d=a35_0x338d;switch(_0x518380[_0x23768d(0x27a)]){case 0x0:return[0x4,this['getSignersFromDocument'](_0x23e1c2)];case 0x1:_0x1c60f3=_0x518380[_0x23768d(0x180)](),_0x72e24=_0x1c60f3[_0x23768d(0x21c)](function(_0x5044e8){var _0x1b4df0=_0x23768d,_0x1f6d93;return((_0x1f6d93=_0x5044e8[_0x1b4df0(0x29e)])===null||_0x1f6d93===void 0x0?void 0x0:_0x1f6d93['substr'](0x0,0x2a))===ethers_1[_0x1b4df0(0x21f)][_0x1b4df0(0x294)][_0x1b4df0(0x196)](_0x446ccf[_0x1b4df0(0x20e)]['accountAddress']);});if(!_0x72e24)throw new invalid_signer_exception_1['InvalidSignerException'](this[_0x23768d(0x20e)]['accountAddress']);return[0x2,_0x72e24];}});});},_0x4a3c9d;}());exports[a35_0xd64c40(0x21e)]=EthereumAssetService;