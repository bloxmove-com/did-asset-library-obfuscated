'use strict';var a44_0x24bc32=a44_0x2dae;(function(_0x482a37,_0x28e9ce){var _0x2c5c6c=a44_0x2dae,_0x308a95=_0x482a37();while(!![]){try{var _0x665e5d=parseInt(_0x2c5c6c(0x199))/0x1*(-parseInt(_0x2c5c6c(0x202))/0x2)+parseInt(_0x2c5c6c(0x19b))/0x3*(parseInt(_0x2c5c6c(0x1c4))/0x4)+-parseInt(_0x2c5c6c(0x1bc))/0x5*(-parseInt(_0x2c5c6c(0x206))/0x6)+parseInt(_0x2c5c6c(0x19f))/0x7*(parseInt(_0x2c5c6c(0x1ac))/0x8)+-parseInt(_0x2c5c6c(0x1f1))/0x9*(-parseInt(_0x2c5c6c(0x1b9))/0xa)+parseInt(_0x2c5c6c(0x201))/0xb+-parseInt(_0x2c5c6c(0x1e6))/0xc;if(_0x665e5d===_0x28e9ce)break;else _0x308a95['push'](_0x308a95['shift']());}catch(_0x2c8d8f){_0x308a95['push'](_0x308a95['shift']());}}}(a44_0x17d9,0xc2379));var __createBinding=this&&this[a44_0x24bc32(0x1e7)]||(Object['create']?function(_0xc6bab4,_0x1d96ca,_0x3bef97,_0xf3e957){var _0x266233=a44_0x24bc32;if(_0xf3e957===undefined)_0xf3e957=_0x3bef97;Object[_0x266233(0x1fa)](_0xc6bab4,_0xf3e957,{'enumerable':!![],'get':function(){return _0x1d96ca[_0x3bef97];}});}:function(_0x35092a,_0x4172fd,_0x140711,_0xcceb5a){if(_0xcceb5a===undefined)_0xcceb5a=_0x140711;_0x35092a[_0xcceb5a]=_0x4172fd[_0x140711];}),__setModuleDefault=this&&this[a44_0x24bc32(0x1ca)]||(Object[a44_0x24bc32(0x1e3)]?function(_0x58ac5e,_0x253528){var _0x45643c=a44_0x24bc32;Object[_0x45643c(0x1fa)](_0x58ac5e,_0x45643c(0x1aa),{'enumerable':!![],'value':_0x253528});}:function(_0x1070cb,_0x225bc7){_0x1070cb['default']=_0x225bc7;}),__importStar=this&&this[a44_0x24bc32(0x1e1)]||function(_0x41e4f5){var _0x3a8f4a=a44_0x24bc32;if(_0x41e4f5&&_0x41e4f5[_0x3a8f4a(0x1cc)])return _0x41e4f5;var _0x412413={};if(_0x41e4f5!=null){for(var _0x7cfb0b in _0x41e4f5)if(_0x7cfb0b!=='default'&&Object[_0x3a8f4a(0x1df)]['hasOwnProperty'][_0x3a8f4a(0x1f9)](_0x41e4f5,_0x7cfb0b))__createBinding(_0x412413,_0x41e4f5,_0x7cfb0b);}return __setModuleDefault(_0x412413,_0x41e4f5),_0x412413;},__awaiter=this&&this['__awaiter']||function(_0x3dc67c,_0x4933de,_0x1ffc0c,_0x514d0c){function _0x3b5a1b(_0x254278){return _0x254278 instanceof _0x1ffc0c?_0x254278:new _0x1ffc0c(function(_0x364464){_0x364464(_0x254278);});}return new(_0x1ffc0c||(_0x1ffc0c=Promise))(function(_0x42f6bf,_0x1e911b){var _0x4df395=a44_0x2dae;function _0x327292(_0x5ecccd){var _0x4c001f=a44_0x2dae;try{_0x286688(_0x514d0c[_0x4c001f(0x1eb)](_0x5ecccd));}catch(_0xf32421){_0x1e911b(_0xf32421);}}function _0x66eaaf(_0x25f0bc){var _0x18dba0=a44_0x2dae;try{_0x286688(_0x514d0c[_0x18dba0(0x1d2)](_0x25f0bc));}catch(_0x3e004f){_0x1e911b(_0x3e004f);}}function _0x286688(_0xba44ad){var _0x2ae8a5=a44_0x2dae;_0xba44ad[_0x2ae8a5(0x1f2)]?_0x42f6bf(_0xba44ad[_0x2ae8a5(0x1b7)]):_0x3b5a1b(_0xba44ad[_0x2ae8a5(0x1b7)])[_0x2ae8a5(0x1c8)](_0x327292,_0x66eaaf);}_0x286688((_0x514d0c=_0x514d0c[_0x4df395(0x1f0)](_0x3dc67c,_0x4933de||[]))[_0x4df395(0x1eb)]());});},__generator=this&&this[a44_0x24bc32(0x1ab)]||function(_0x5ca6ef,_0xd21b68){var _0x21732d={'label':0x0,'sent':function(){if(_0x449c50[0x0]&0x1)throw _0x449c50[0x1];return _0x449c50[0x1];},'trys':[],'ops':[]},_0x4b34f5,_0x52490c,_0x449c50,_0xc73451;return _0xc73451={'next':_0x3d2a52(0x0),'throw':_0x3d2a52(0x1),'return':_0x3d2a52(0x2)},typeof Symbol==='function'&&(_0xc73451[Symbol['iterator']]=function(){return this;}),_0xc73451;function _0x3d2a52(_0x26ee6e){return function(_0x1a1557){return _0x3d3159([_0x26ee6e,_0x1a1557]);};}function _0x3d3159(_0x54bef8){var _0xac80e4=a44_0x2dae;if(_0x4b34f5)throw new TypeError('Generator\x20is\x20already\x20executing.');while(_0x21732d)try{if(_0x4b34f5=0x1,_0x52490c&&(_0x449c50=_0x54bef8[0x0]&0x2?_0x52490c[_0xac80e4(0x1da)]:_0x54bef8[0x0]?_0x52490c[_0xac80e4(0x1d2)]||((_0x449c50=_0x52490c[_0xac80e4(0x1da)])&&_0x449c50[_0xac80e4(0x1f9)](_0x52490c),0x0):_0x52490c[_0xac80e4(0x1eb)])&&!(_0x449c50=_0x449c50[_0xac80e4(0x1f9)](_0x52490c,_0x54bef8[0x1]))[_0xac80e4(0x1f2)])return _0x449c50;if(_0x52490c=0x0,_0x449c50)_0x54bef8=[_0x54bef8[0x0]&0x2,_0x449c50[_0xac80e4(0x1b7)]];switch(_0x54bef8[0x0]){case 0x0:case 0x1:_0x449c50=_0x54bef8;break;case 0x4:_0x21732d[_0xac80e4(0x203)]++;return{'value':_0x54bef8[0x1],'done':![]};case 0x5:_0x21732d[_0xac80e4(0x203)]++,_0x52490c=_0x54bef8[0x1],_0x54bef8=[0x0];continue;case 0x7:_0x54bef8=_0x21732d[_0xac80e4(0x1d4)]['pop'](),_0x21732d['trys'][_0xac80e4(0x1a3)]();continue;default:if(!(_0x449c50=_0x21732d[_0xac80e4(0x1a0)],_0x449c50=_0x449c50['length']>0x0&&_0x449c50[_0x449c50[_0xac80e4(0x1a5)]-0x1])&&(_0x54bef8[0x0]===0x6||_0x54bef8[0x0]===0x2)){_0x21732d=0x0;continue;}if(_0x54bef8[0x0]===0x3&&(!_0x449c50||_0x54bef8[0x1]>_0x449c50[0x0]&&_0x54bef8[0x1]<_0x449c50[0x3])){_0x21732d[_0xac80e4(0x203)]=_0x54bef8[0x1];break;}if(_0x54bef8[0x0]===0x6&&_0x21732d['label']<_0x449c50[0x1]){_0x21732d[_0xac80e4(0x203)]=_0x449c50[0x1],_0x449c50=_0x54bef8;break;}if(_0x449c50&&_0x21732d[_0xac80e4(0x203)]<_0x449c50[0x2]){_0x21732d['label']=_0x449c50[0x2],_0x21732d['ops'][_0xac80e4(0x1c9)](_0x54bef8);break;}if(_0x449c50[0x2])_0x21732d['ops'][_0xac80e4(0x1a3)]();_0x21732d['trys'][_0xac80e4(0x1a3)]();continue;}_0x54bef8=_0xd21b68[_0xac80e4(0x1f9)](_0x5ca6ef,_0x21732d);}catch(_0x429f01){_0x54bef8=[0x6,_0x429f01],_0x52490c=0x0;}finally{_0x4b34f5=_0x449c50=0x0;}if(_0x54bef8[0x0]&0x5)throw _0x54bef8[0x1];return{'value':_0x54bef8[0x0]?_0x54bef8[0x1]:void 0x0,'done':!![]};}};function a44_0x2dae(_0x5e06e1,_0x550944){var _0x17d9b0=a44_0x17d9();return a44_0x2dae=function(_0x2daef3,_0x30081e){_0x2daef3=_0x2daef3-0x198;var _0x27ef8a=_0x17d9b0[_0x2daef3];return _0x27ef8a;},a44_0x2dae(_0x5e06e1,_0x550944);}Object[a44_0x24bc32(0x1fa)](exports,'__esModule',{'value':!![]}),exports[a44_0x24bc32(0x1b8)]=void 0x0;function a44_0x17d9(){var _0x18dd31=['forEach','Verifiable\x20Presentation\x20is\x20invalid.','string','default','__generator','26840UVodjZ','all','EthereumAssetService','setDIDDocument','./ontology-asset.service','createLogger','DID\x20method\x20can\x20not\x20be\x20determined\x20for\x20DID\x20','validateVerifiablePresentation','./asset-helper.service','assetHelperService','OntologyAssetService','value','UniversalAssetService','950vgLjsF','split','loggerOptions','45fsyAhO','iss','ethr','getAssetServiceForDid','getOrThrow','name','isArray','signMessage','837300aAmVTE','printf','addInvolvedParties','currentAccountDidMethod','then','push','__setModuleDefault','timestamp','__esModule','createAsset','get','Incorrect\x20verifiable\x20credential\x20data','getAttestations','ont','throw','web','ops','getDidMethod','resolveName','loggerFormat','topic','init','return','object','logger','format','getAssetServiceForDidMethod','prototype','validateVerifiableCredential','__importStar','createDataProperty','create','setAttestation','debug','15327072zfDWqm','__createBinding','WebAssetService','stringify','set','next','extractPayloadFromJwtVc','Invalid\x20verifiable\x20credential','combine','sub','apply','28323GonqtI','done','issuer','Configured\x20current\x20account\x20DID\x20method\x20is\x20not\x20supported','getOwner','getDataProperty','extractVerifiableCredentialsFromString','createVerifiableCredential','call','defineProperty','level','\x20of\x20current\x20account:\x20','info','isValidDID','credentialSubject','colorize','14045086ImIrMF','2KbGGGG','label','message','verifySignature','227574olmLmY','sent','isVerifiablePresentationValid','Unsupported\x20did\x20method','assetServiceImplementations','getInvolvedParties','Initializing\x20Universal\x20Asset\x20Service\x20with\x20DID\x20method','has','1187698CqYfHF','map','3fSRJll','getDIDDocument','validate\x20verifiable\x20credential:\x20','./ethereum-asset.service','2366UrQzYU','trys','createVerifiablePresentation','parse','pop','ASSETLIB_LOGLEVEL','length','setName'];a44_0x17d9=function(){return _0x18dd31;};return a44_0x17d9();}var winston_1=require('winston'),ontology_asset_service_1=require(a44_0x24bc32(0x1b0)),b64=__importStar(require('js-base64')),asset_helper_service_1=require(a44_0x24bc32(0x1b4)),ethereum_asset_service_1=require(a44_0x24bc32(0x19e)),web_asset_service_1=require('./web-asset.service'),UniversalAssetService=(function(){var _0x3ad63b=a44_0x24bc32;function _0x379ed1(_0x1c3507){var _0x594b5b=a44_0x2dae;this[_0x594b5b(0x1d7)]=winston_1[_0x594b5b(0x1dd)][_0x594b5b(0x1c5)](function(_0x5112cf){var _0x43d498=_0x594b5b,_0x45efb0=_0x5112cf[_0x43d498(0x1fb)],_0x5557dc=_0x5112cf[_0x43d498(0x204)],_0x320680=_0x5112cf[_0x43d498(0x203)],_0x1551b8=_0x5112cf[_0x43d498(0x1cb)];return _0x1551b8+'\x20['+_0x320680+']\x20'+_0x45efb0+':\x20'+_0x5557dc;}),this[_0x594b5b(0x1bb)]={'transports':new winston_1['transports']['Console']({'level':process['env'][_0x594b5b(0x1a4)]||_0x594b5b(0x1fd)}),'format':winston_1['format'][_0x594b5b(0x1ee)](winston_1[_0x594b5b(0x1dd)][_0x594b5b(0x203)]({'label':_0x379ed1[_0x594b5b(0x1c1)]}),winston_1[_0x594b5b(0x1dd)][_0x594b5b(0x1cb)](),winston_1[_0x594b5b(0x1dd)][_0x594b5b(0x200)](),this[_0x594b5b(0x1d7)])},this[_0x594b5b(0x1dc)]=winston_1[_0x594b5b(0x1b1)](this[_0x594b5b(0x1bb)]),this['assetServiceImplementations']=new Map(),this[_0x594b5b(0x1c7)]=_0x1c3507[_0x594b5b(0x1c0)]('currentAccountDidMethod'),this[_0x594b5b(0x20a)][_0x594b5b(0x1ea)](_0x594b5b(0x1d1),new ontology_asset_service_1[(_0x594b5b(0x1b6))](_0x1c3507)),this['assetServiceImplementations'][_0x594b5b(0x1ea)](_0x594b5b(0x1be),new ethereum_asset_service_1[(_0x594b5b(0x1ae))](_0x1c3507)),this[_0x594b5b(0x20a)]['set'](_0x594b5b(0x1d3),new web_asset_service_1[(_0x594b5b(0x1e8))](_0x1c3507));if(!this[_0x594b5b(0x20a)][_0x594b5b(0x198)](this['currentAccountDidMethod']))throw Error(_0x594b5b(0x1f4));this[_0x594b5b(0x1b5)]=new asset_helper_service_1['AssetHelperService']();}return _0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1de)]=function(_0x483e06){var _0x10a47b=_0x3ad63b,_0x183655=this['assetServiceImplementations'][_0x10a47b(0x1ce)](_0x483e06);if(_0x183655)return _0x183655;throw new Error(_0x10a47b(0x209));},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1d5)]=function(_0x16a4c9){var _0x44d21b=_0x3ad63b;if(_0x16a4c9){var _0x208894=_0x16a4c9[_0x44d21b(0x1ba)](':');if(_0x208894['length']>0x1)return _0x208894[0x1];}throw new Error(_0x44d21b(0x1b2)+_0x16a4c9);},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1bf)]=function(_0x421a84){var _0x4f2c1e=_0x3ad63b;return this[_0x4f2c1e(0x1de)](this[_0x4f2c1e(0x1d5)](_0x421a84));},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1d9)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x499aa9){var _0x5c03e7=a44_0x2dae;switch(_0x499aa9[_0x5c03e7(0x203)]){case 0x0:this[_0x5c03e7(0x1dc)]['info'](_0x5c03e7(0x20c)+_0x5c03e7(0x1fc)+this[_0x5c03e7(0x1c7)]);return[0x4,this['getAssetServiceForDidMethod'](_0x5c03e7(0x1be))[_0x5c03e7(0x1d9)]()];case 0x1:_0x499aa9[_0x5c03e7(0x207)]();return[0x2];}});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1cd)]=function(_0x33bdc2,_0x2b6ce4,_0x169668,_0xb4c44d){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x1efc64){var _0x572cf2=a44_0x2dae;return[0x2,this[_0x572cf2(0x1de)](this[_0x572cf2(0x1c7)])['createAsset'](_0x33bdc2,_0x2b6ce4,_0x169668,_0xb4c44d)];});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1c6)]=function(_0x4a70e0,_0x6f9756,_0x3b0f6b){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4f7ea5,_0x2b9930=this;return __generator(this,function(_0x17f259){var _0x4a42b8=a44_0x2dae;return _0x4f7ea5=this[_0x4a42b8(0x1d5)](_0x4a70e0),_0x6f9756[_0x4a42b8(0x1a7)](function(_0x55bdd2){if(_0x4f7ea5!==_0x2b9930['getDidMethod'](_0x55bdd2))throw Error('DID\x20methods\x20of\x20asset\x20and\x20involved\x20parties\x20must\x20be\x20the\x20same');}),[0x2,this['getAssetServiceForDidMethod'](_0x4f7ea5)[_0x4a42b8(0x1c6)](_0x4a70e0,_0x6f9756,_0x3b0f6b)];});});},_0x379ed1['prototype'][_0x3ad63b(0x20b)]=function(_0x2d7d43,_0x2cbafe){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x33855a){return[0x2,this['getAssetServiceForDid'](_0x2d7d43)['getInvolvedParties'](_0x2d7d43,_0x2cbafe)];});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1f6)]=function(_0x4418e5,_0x3dd45c,_0xb5f052){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x50050a){var _0x509186=a44_0x2dae;return[0x2,this['getAssetServiceForDid'](_0x4418e5)[_0x509186(0x1f6)](_0x4418e5,_0x3dd45c,_0xb5f052)];});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1e2)]=function(_0xe4b6e3,_0x105fdb,_0x16f6f8,_0xc86240,_0x5b1f0c){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x1d6d69){var _0x53fd44=a44_0x2dae;return[0x2,this[_0x53fd44(0x1bf)](_0xe4b6e3)[_0x53fd44(0x1e2)](_0xe4b6e3,_0x105fdb,_0x16f6f8,_0xc86240,_0x5b1f0c)];});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1d0)]=function(_0x17ba88,_0x1ed4fb){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1cffa2,_0x4852f3,_0x3bee0a=this;return __generator(this,function(_0x31ff4a){var _0xa0ae57=a44_0x2dae;switch(_0x31ff4a[_0xa0ae57(0x203)]){case 0x0:return[0x4,this[_0xa0ae57(0x1bf)](_0x17ba88)[_0xa0ae57(0x1d0)](_0x17ba88,_0x1ed4fb)];case 0x1:_0x1cffa2=_0x31ff4a[_0xa0ae57(0x207)](),_0x4852f3=_0x1cffa2[_0xa0ae57(0x19a)](function(_0x197977){return __awaiter(_0x3bee0a,void 0x0,void 0x0,function(){return __generator(this,function(_0x29688d){return[0x2,_0x197977];});});});return[0x2,Promise['all'](_0x4852f3)];}});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1d6)]=function(_0x5bc818){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x406e9b){var _0x3eca75=a44_0x2dae;return[0x2,this[_0x3eca75(0x1de)](this[_0x3eca75(0x1c7)])[_0x3eca75(0x1d6)](_0x5bc818)];});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1a6)]=function(_0x416cbe,_0x4aacd1){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x3c16a8){var _0x35884f=a44_0x2dae;return[0x2,this[_0x35884f(0x1bf)](_0x4aacd1)[_0x35884f(0x1a6)](_0x416cbe,_0x4aacd1)];});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x205)]=function(_0x28aed7,_0x6f4bde,_0xe37221){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x4deccd){var _0x465c88=a44_0x2dae;return[0x2,this[_0x465c88(0x1bf)](_0x28aed7)[_0x465c88(0x205)](_0x28aed7,_0x6f4bde,_0xe37221)];});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1f5)]=function(_0x420088){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x29df8d){var _0x5b8841=a44_0x2dae;return[0x2,this[_0x5b8841(0x1bf)](_0x420088)[_0x5b8841(0x1f5)](_0x420088)];});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1c3)]=function(_0x144179){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x421568){var _0x12a1c6=a44_0x2dae;return[0x2,this[_0x12a1c6(0x1de)](this[_0x12a1c6(0x1c7)])[_0x12a1c6(0x1c3)](_0x144179)];});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1fe)]=function(_0x502110){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0xad966c){var _0x1da850=a44_0x2dae;return[0x2,this[_0x1da850(0x1bf)](_0x502110)[_0x1da850(0x1fe)](_0x502110)];});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x19c)]=function(_0xb909dc){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x17ab5c){var _0x193df5=a44_0x2dae;return[0x2,this['getAssetServiceForDid'](_0xb909dc)[_0x193df5(0x19c)](_0xb909dc)];});});},_0x379ed1['prototype'][_0x3ad63b(0x1af)]=function(_0x57a014){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x2f76cd){var _0x1880bc=a44_0x2dae;return[0x2,this['getAssetServiceForDid'](_0x57a014['id'])[_0x1880bc(0x1af)](_0x57a014)];});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1f8)]=function(_0x4d71b3,_0x15fc8e,_0x2c025f,_0x1c3f4e){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x4d9d2d){var _0xbfe5a0=a44_0x2dae;return[0x2,this[_0xbfe5a0(0x1de)](this['currentAccountDidMethod'])[_0xbfe5a0(0x1f8)](_0x4d71b3,_0x15fc8e,_0x2c025f,_0x1c3f4e)];});});},_0x379ed1[_0x3ad63b(0x1df)]['createVerifiablePresentation']=function(_0x1675c2,_0x348d4c,_0x44fbfa){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x430a31){var _0x4c7247=a44_0x2dae;return[0x2,this[_0x4c7247(0x1de)](this[_0x4c7247(0x1c7)])[_0x4c7247(0x1a1)](_0x1675c2,_0x348d4c,_0x44fbfa)];});});},_0x379ed1[_0x3ad63b(0x1df)]['updateDataProperty']=function(_0x307fcb,_0x1be289,_0x3e0002,_0x5efa51){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x429bf8){var _0x1cc3b3=a44_0x2dae;return[0x2,this[_0x1cc3b3(0x1bf)](_0x307fcb)['updateDataProperty'](_0x307fcb,_0x1be289,_0x3e0002,_0x5efa51)];});});},_0x379ed1[_0x3ad63b(0x1df)]['setAttestation']=function(_0x2d3333,_0x1827cc,_0x17514a){var _0x2de0f5,_0x583794;return __awaiter(this,void 0x0,void 0x0,function(){var _0x33e67a,_0x280759,_0x37bf31,_0x223ef6,_0x301c99,_0x2d537d;return __generator(this,function(_0x421b44){var _0x3043cb=a44_0x2dae;switch(_0x421b44[_0x3043cb(0x203)]){case 0x0:typeof _0x17514a==='string'?(_0x223ef6=this[_0x3043cb(0x1ec)](_0x17514a),_0x33e67a=_0x223ef6===null||_0x223ef6===void 0x0?void 0x0:_0x223ef6[_0x3043cb(0x1bd)],_0x280759=_0x223ef6===null||_0x223ef6===void 0x0?void 0x0:_0x223ef6[_0x3043cb(0x1ef)],_0x37bf31=(_0x583794=(_0x2de0f5=_0x223ef6===null||_0x223ef6===void 0x0?void 0x0:_0x223ef6['vc'])===null||_0x2de0f5===void 0x0?void 0x0:_0x2de0f5[_0x3043cb(0x1ff)])===null||_0x583794===void 0x0?void 0x0:_0x583794['topic']):(typeof _0x17514a['credentialSubject']===_0x3043cb(0x1db)&&(_0x33e67a=typeof _0x17514a[_0x3043cb(0x1f3)]===_0x3043cb(0x1db)?_0x17514a['issuer']['id']:_0x17514a[_0x3043cb(0x1f3)],_0x280759=_0x17514a['credentialSubject']['id'],_0x37bf31=_0x17514a['credentialSubject'][_0x3043cb(0x1d8)]),Array[_0x3043cb(0x1c2)](_0x17514a[_0x3043cb(0x1ff)])&&_0x17514a[_0x3043cb(0x1ff)][_0x3043cb(0x1a7)](function(_0x39ccf9){var _0x5556e5=_0x3043cb;_0x33e67a=typeof _0x17514a[_0x5556e5(0x1f3)]==='object'?_0x17514a[_0x5556e5(0x1f3)]['id']:_0x17514a['issuer'],_0x280759=_0x39ccf9['id'],_0x37bf31=_0x39ccf9[_0x5556e5(0x1d8)];}));if(_0x33e67a===undefined||_0x280759===undefined||_0x37bf31===undefined||_0x280759!==_0x2d3333||_0x37bf31!==_0x1827cc)throw new Error(_0x3043cb(0x1cf));return[0x4,this[_0x3043cb(0x1bf)](_0x33e67a)['validateVerifiableCredential'](_0x17514a)];case 0x1:_0x301c99=_0x421b44['sent']();if(_0x301c99===undefined)throw new Error(_0x3043cb(0x1ed));typeof _0x17514a===_0x3043cb(0x1a9)?_0x2d537d=_0x17514a:_0x2d537d=JSON[_0x3043cb(0x1e9)](_0x17514a);return[0x4,this[_0x3043cb(0x1bf)](_0x2d3333)[_0x3043cb(0x1e4)](_0x2d3333,_0x1827cc,_0x2d537d)];case 0x2:_0x421b44[_0x3043cb(0x207)]();return[0x2];}});});},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1e0)]=function(_0x480595){var _0x4eb16a;return __awaiter(this,void 0x0,void 0x0,function(){var _0x3724b8,_0x15363a,_0x231f88;return __generator(this,function(_0x968d85){var _0x26ca79=a44_0x2dae;typeof _0x480595===_0x26ca79(0x1a9)?(_0x15363a=(_0x4eb16a=this['extractPayloadFromJwtVc'](_0x480595))===null||_0x4eb16a===void 0x0?void 0x0:_0x4eb16a[_0x26ca79(0x1bd)],_0x15363a!==undefined&&(_0x3724b8=_0x15363a)):(_0x231f88=_0x480595,_0x3724b8=typeof _0x231f88[_0x26ca79(0x1f3)]===_0x26ca79(0x1db)?_0x231f88[_0x26ca79(0x1f3)]['id']:_0x231f88[_0x26ca79(0x1f3)]);if(!_0x3724b8)return[0x2,undefined];return[0x2,this[_0x26ca79(0x1bf)](_0x3724b8)['validateVerifiableCredential'](_0x480595)];});});},_0x379ed1[_0x3ad63b(0x1df)]['extractPayloadFromJwtVc']=function(_0x22803a){var _0x586455=_0x3ad63b,_0x2c65b9=_0x22803a['split']('.');if(_0x2c65b9[_0x586455(0x1a5)]<0x3)return undefined;return JSON[_0x586455(0x1a2)](b64['decode'](_0x2c65b9[0x1]));},_0x379ed1[_0x3ad63b(0x1df)][_0x3ad63b(0x1b3)]=function(_0x27d2b7,_0x2f8d0a){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2c7fc0,_0x58aac9,_0x163d44,_0x5a5362,_0x21a910=this;return __generator(this,function(_0x384fe4){var _0x5dc752=a44_0x2dae;switch(_0x384fe4['label']){case 0x0:_0x2c7fc0=this['getDidMethod'](_0x27d2b7);if(!(_0x2c7fc0==='web'))return[0x3,0x2];return[0x4,this[_0x5dc752(0x1de)](_0x2c7fc0)[_0x5dc752(0x1b3)](_0x27d2b7,_0x2f8d0a)];case 0x1:_0x58aac9=_0x384fe4[_0x5dc752(0x207)]();return[0x3,0x4];case 0x2:return[0x4,this[_0x5dc752(0x1b5)][_0x5dc752(0x208)](_0x27d2b7,_0x2f8d0a,this[_0x5dc752(0x1de)](_0x2c7fc0)[_0x5dc752(0x205)],_0x2c7fc0)];case 0x3:_0x163d44=_0x384fe4[_0x5dc752(0x207)]();if(!_0x163d44)return this[_0x5dc752(0x1dc)][_0x5dc752(0x1e5)](_0x5dc752(0x1a8)),[0x2,[]];typeof _0x2f8d0a===_0x5dc752(0x1a9)?_0x58aac9=this['assetHelperService'][_0x5dc752(0x1f7)](_0x2f8d0a):_0x58aac9=_0x2f8d0a['verifiableCredential'];_0x384fe4['label']=0x4;case 0x4:_0x5a5362=_0x58aac9[_0x5dc752(0x19a)](function(_0x3b8b8c){return __awaiter(_0x21a910,void 0x0,void 0x0,function(){var _0x24efe9;return __generator(this,function(_0x36f4b0){var _0x55f3db=a44_0x2dae;switch(_0x36f4b0['label']){case 0x0:this[_0x55f3db(0x1dc)][_0x55f3db(0x1e5)](_0x55f3db(0x19d)+JSON[_0x55f3db(0x1e9)](_0x3b8b8c));return[0x4,this[_0x55f3db(0x1e0)](_0x3b8b8c)];case 0x1:_0x24efe9=_0x36f4b0[_0x55f3db(0x207)](),this[_0x55f3db(0x1dc)][_0x55f3db(0x1e5)]('validation\x20result:\x20'+JSON[_0x55f3db(0x1e9)](_0x24efe9));return[0x2,_0x24efe9];}});});});return[0x4,Promise[_0x5dc752(0x1ad)](_0x5a5362)];case 0x5:return[0x2,_0x384fe4[_0x5dc752(0x207)]()['filter'](function(_0xafe442){return _0xafe442!==undefined;})];}});});},_0x379ed1;}());exports[a44_0x24bc32(0x1b8)]=UniversalAssetService;