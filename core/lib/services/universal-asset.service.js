'use strict';function a43_0x5abc(){var _0x2dbde2=['done','./web-asset.service','isVerifiablePresentationValid','DID\x20methods\x20of\x20asset\x20and\x20involved\x20parties\x20must\x20be\x20the\x20same','__generator','parse','OntologyAssetService','function','logger','createDataProperty','setName','ASSETLIB_LOGLEVEL','map','loggerOptions','addInvolvedParties','EthereumAssetService','stringify','extractVerifiableCredentialsFromString','get','\x20of\x20current\x20account:\x20','info','getDidMethod','sub','__setModuleDefault','loggerFormat','create','length','defineProperty','createVerifiableCredential','Invalid\x20verifiable\x20credential','extractPayloadFromJwtVc','hasOwnProperty','object','issuer','topic','format','next','name','35377670ldDjJK','160vMtZev','WebAssetService','Console','sent','validateVerifiablePresentation','getAssetServiceForDidMethod','createAsset','createVerifiablePresentation','call','./ontology-asset.service','ont','debug','resolveName','14VaSkDz','getAssetServiceForDid','getDIDDocument','string','credentialSubject','apply','trys','default','currentAccountDidMethod','ethr','return','label','init','__awaiter','prototype','iss','__createBinding','signMessage','ops','isValidDID','validation\x20result:\x20','validateVerifiableCredential','setDIDDocument','split','getInvolvedParties','createLogger','updateDataProperty','713001HhpjZP','decode','throw','all','Initializing\x20Universal\x20Asset\x20Service\x20with\x20DID\x20method','getOrThrow','316766fKnrSl','set','transports','value','__importStar','__esModule','getDataProperty','3821496FpDWMZ','forEach','timestamp','13924125FIsZZn','AssetHelperService','136660KyVvqo','verifySignature','assetHelperService','filter','assetServiceImplementations','./ethereum-asset.service','2NSZCdm','colorize','setAttestation','pop','push','UniversalAssetService','getOwner','Configured\x20current\x20account\x20DID\x20method\x20is\x20not\x20supported','4232802bDuLLV'];a43_0x5abc=function(){return _0x2dbde2;};return a43_0x5abc();}var a43_0x1a078a=a43_0x3478;(function(_0x5791d7,_0x158442){var _0x1adf70=a43_0x3478,_0x34d04c=_0x5791d7();while(!![]){try{var _0x45acef=parseInt(_0x1adf70(0xed))/0x1+parseInt(_0x1adf70(0x8f))/0x2*(-parseInt(_0x1adf70(0xe7))/0x3)+-parseInt(_0x1adf70(0xf9))/0x4*(-parseInt(_0x1adf70(0xbf))/0x5)+parseInt(_0x1adf70(0x97))/0x6+-parseInt(_0x1adf70(0xcc))/0x7*(-parseInt(_0x1adf70(0xf4))/0x8)+parseInt(_0x1adf70(0xf7))/0x9+-parseInt(_0x1adf70(0xbe))/0xa;if(_0x45acef===_0x158442)break;else _0x34d04c['push'](_0x34d04c['shift']());}catch(_0x4f6a9f){_0x34d04c['push'](_0x34d04c['shift']());}}}(a43_0x5abc,0xcdb52));var __createBinding=this&&this[a43_0x1a078a(0xdc)]||(Object[a43_0x1a078a(0xb1)]?function(_0x277783,_0x57f98d,_0x3c84de,_0x46c88e){var _0x23c3fa=a43_0x1a078a;if(_0x46c88e===undefined)_0x46c88e=_0x3c84de;Object[_0x23c3fa(0xb3)](_0x277783,_0x46c88e,{'enumerable':!![],'get':function(){return _0x57f98d[_0x3c84de];}});}:function(_0x14431f,_0x2d466b,_0x3f8c8d,_0x263e22){if(_0x263e22===undefined)_0x263e22=_0x3f8c8d;_0x14431f[_0x263e22]=_0x2d466b[_0x3f8c8d];}),__setModuleDefault=this&&this[a43_0x1a078a(0xaf)]||(Object[a43_0x1a078a(0xb1)]?function(_0x36ded3,_0x279305){var _0x21c9ba=a43_0x1a078a;Object[_0x21c9ba(0xb3)](_0x36ded3,_0x21c9ba(0xd3),{'enumerable':!![],'value':_0x279305});}:function(_0x400bb4,_0x11bf8b){var _0x28f17d=a43_0x1a078a;_0x400bb4[_0x28f17d(0xd3)]=_0x11bf8b;}),__importStar=this&&this[a43_0x1a078a(0xf1)]||function(_0x49277f){var _0x3ec926=a43_0x1a078a;if(_0x49277f&&_0x49277f[_0x3ec926(0xf2)])return _0x49277f;var _0x3d1564={};if(_0x49277f!=null){for(var _0x59c049 in _0x49277f)if(_0x59c049!==_0x3ec926(0xd3)&&Object['prototype'][_0x3ec926(0xb7)][_0x3ec926(0xc7)](_0x49277f,_0x59c049))__createBinding(_0x3d1564,_0x49277f,_0x59c049);}return __setModuleDefault(_0x3d1564,_0x49277f),_0x3d1564;},__awaiter=this&&this[a43_0x1a078a(0xd9)]||function(_0x38fe16,_0x17f165,_0x923137,_0x561ffe){function _0x4f0edd(_0x3308db){return _0x3308db instanceof _0x923137?_0x3308db:new _0x923137(function(_0x51b967){_0x51b967(_0x3308db);});}return new(_0x923137||(_0x923137=Promise))(function(_0x3cb7d9,_0x26e8f6){var _0x664efe=a43_0x3478;function _0x6575da(_0x15f556){try{_0x140fe6(_0x561ffe['next'](_0x15f556));}catch(_0x5b2636){_0x26e8f6(_0x5b2636);}}function _0x1379eb(_0xf1049f){var _0x248dbc=a43_0x3478;try{_0x140fe6(_0x561ffe[_0x248dbc(0xe9)](_0xf1049f));}catch(_0x3ac299){_0x26e8f6(_0x3ac299);}}function _0x140fe6(_0x5499ac){var _0x3600f2=a43_0x3478;_0x5499ac[_0x3600f2(0x98)]?_0x3cb7d9(_0x5499ac['value']):_0x4f0edd(_0x5499ac[_0x3600f2(0xf0)])['then'](_0x6575da,_0x1379eb);}_0x140fe6((_0x561ffe=_0x561ffe[_0x664efe(0xd1)](_0x38fe16,_0x17f165||[]))[_0x664efe(0xbc)]());});},__generator=this&&this[a43_0x1a078a(0x9c)]||function(_0xdebf24,_0x574d8d){var _0x59d67c=a43_0x1a078a,_0x39c593={'label':0x0,'sent':function(){if(_0x138b89[0x0]&0x1)throw _0x138b89[0x1];return _0x138b89[0x1];},'trys':[],'ops':[]},_0x2b9816,_0xcad878,_0x138b89,_0x185ced;return _0x185ced={'next':_0x2de966(0x0),'throw':_0x2de966(0x1),'return':_0x2de966(0x2)},typeof Symbol===_0x59d67c(0x9f)&&(_0x185ced[Symbol['iterator']]=function(){return this;}),_0x185ced;function _0x2de966(_0x498b38){return function(_0x4d128f){return _0x45e3eb([_0x498b38,_0x4d128f]);};}function _0x45e3eb(_0x31caac){var _0x1b47dd=_0x59d67c;if(_0x2b9816)throw new TypeError('Generator\x20is\x20already\x20executing.');while(_0x39c593)try{if(_0x2b9816=0x1,_0xcad878&&(_0x138b89=_0x31caac[0x0]&0x2?_0xcad878[_0x1b47dd(0xd6)]:_0x31caac[0x0]?_0xcad878[_0x1b47dd(0xe9)]||((_0x138b89=_0xcad878[_0x1b47dd(0xd6)])&&_0x138b89[_0x1b47dd(0xc7)](_0xcad878),0x0):_0xcad878[_0x1b47dd(0xbc)])&&!(_0x138b89=_0x138b89[_0x1b47dd(0xc7)](_0xcad878,_0x31caac[0x1]))[_0x1b47dd(0x98)])return _0x138b89;if(_0xcad878=0x0,_0x138b89)_0x31caac=[_0x31caac[0x0]&0x2,_0x138b89[_0x1b47dd(0xf0)]];switch(_0x31caac[0x0]){case 0x0:case 0x1:_0x138b89=_0x31caac;break;case 0x4:_0x39c593[_0x1b47dd(0xd7)]++;return{'value':_0x31caac[0x1],'done':![]};case 0x5:_0x39c593['label']++,_0xcad878=_0x31caac[0x1],_0x31caac=[0x0];continue;case 0x7:_0x31caac=_0x39c593[_0x1b47dd(0xde)]['pop'](),_0x39c593[_0x1b47dd(0xd2)]['pop']();continue;default:if(!(_0x138b89=_0x39c593['trys'],_0x138b89=_0x138b89['length']>0x0&&_0x138b89[_0x138b89[_0x1b47dd(0xb2)]-0x1])&&(_0x31caac[0x0]===0x6||_0x31caac[0x0]===0x2)){_0x39c593=0x0;continue;}if(_0x31caac[0x0]===0x3&&(!_0x138b89||_0x31caac[0x1]>_0x138b89[0x0]&&_0x31caac[0x1]<_0x138b89[0x3])){_0x39c593[_0x1b47dd(0xd7)]=_0x31caac[0x1];break;}if(_0x31caac[0x0]===0x6&&_0x39c593[_0x1b47dd(0xd7)]<_0x138b89[0x1]){_0x39c593[_0x1b47dd(0xd7)]=_0x138b89[0x1],_0x138b89=_0x31caac;break;}if(_0x138b89&&_0x39c593[_0x1b47dd(0xd7)]<_0x138b89[0x2]){_0x39c593[_0x1b47dd(0xd7)]=_0x138b89[0x2],_0x39c593[_0x1b47dd(0xde)][_0x1b47dd(0x93)](_0x31caac);break;}if(_0x138b89[0x2])_0x39c593[_0x1b47dd(0xde)][_0x1b47dd(0x92)]();_0x39c593['trys']['pop']();continue;}_0x31caac=_0x574d8d['call'](_0xdebf24,_0x39c593);}catch(_0x23b998){_0x31caac=[0x6,_0x23b998],_0xcad878=0x0;}finally{_0x2b9816=_0x138b89=0x0;}if(_0x31caac[0x0]&0x5)throw _0x31caac[0x1];return{'value':_0x31caac[0x0]?_0x31caac[0x1]:void 0x0,'done':!![]};}};Object[a43_0x1a078a(0xb3)](exports,a43_0x1a078a(0xf2),{'value':!![]}),exports[a43_0x1a078a(0x94)]=void 0x0;function a43_0x3478(_0x53c53b,_0x19e070){var _0x5abc2c=a43_0x5abc();return a43_0x3478=function(_0x347882,_0x5a5715){_0x347882=_0x347882-0x8c;var _0x50a920=_0x5abc2c[_0x347882];return _0x50a920;},a43_0x3478(_0x53c53b,_0x19e070);}var winston_1=require('winston'),ontology_asset_service_1=require(a43_0x1a078a(0xc8)),b64=__importStar(require('js-base64')),asset_helper_service_1=require('./asset-helper.service'),ethereum_asset_service_1=require(a43_0x1a078a(0x8e)),web_asset_service_1=require(a43_0x1a078a(0x99)),UniversalAssetService=(function(){var _0x594438=a43_0x1a078a;function _0x57e391(_0x46e7a1){var _0x24b8a9=a43_0x3478;this[_0x24b8a9(0xb0)]=winston_1['format']['printf'](function(_0x217a03){var _0x546555=_0x24b8a9,_0xeb5a05=_0x217a03['level'],_0x1ccf1a=_0x217a03['message'],_0x1e65d2=_0x217a03[_0x546555(0xd7)],_0x16fb0e=_0x217a03[_0x546555(0xf6)];return _0x16fb0e+'\x20['+_0x1e65d2+']\x20'+_0xeb5a05+':\x20'+_0x1ccf1a;}),this[_0x24b8a9(0xa5)]={'transports':new winston_1[(_0x24b8a9(0xef))][(_0x24b8a9(0xc1))]({'level':process['env'][_0x24b8a9(0xa3)]||_0x24b8a9(0xac)}),'format':winston_1['format']['combine'](winston_1['format'][_0x24b8a9(0xd7)]({'label':_0x57e391[_0x24b8a9(0xbd)]}),winston_1['format'][_0x24b8a9(0xf6)](),winston_1[_0x24b8a9(0xbb)][_0x24b8a9(0x90)](),this['loggerFormat'])},this[_0x24b8a9(0xa0)]=winston_1[_0x24b8a9(0xe5)](this['loggerOptions']),this['assetServiceImplementations']=new Map(),this['currentAccountDidMethod']=_0x46e7a1[_0x24b8a9(0xec)]('currentAccountDidMethod'),this[_0x24b8a9(0x8d)][_0x24b8a9(0xee)](_0x24b8a9(0xc9),new ontology_asset_service_1[(_0x24b8a9(0x9e))](_0x46e7a1)),this[_0x24b8a9(0x8d)][_0x24b8a9(0xee)](_0x24b8a9(0xd5),new ethereum_asset_service_1[(_0x24b8a9(0xa7))](_0x46e7a1)),this[_0x24b8a9(0x8d)][_0x24b8a9(0xee)]('web',new web_asset_service_1[(_0x24b8a9(0xc0))](_0x46e7a1));if(!this[_0x24b8a9(0x8d)]['has'](this[_0x24b8a9(0xd4)]))throw Error(_0x24b8a9(0x96));this[_0x24b8a9(0xfb)]=new asset_helper_service_1[(_0x24b8a9(0xf8))]();}return _0x57e391[_0x594438(0xda)][_0x594438(0xc4)]=function(_0x4d0e6d){var _0x1b361f=_0x594438,_0x170586=this[_0x1b361f(0x8d)][_0x1b361f(0xaa)](_0x4d0e6d);if(_0x170586)return _0x170586;throw new Error('Unsupported\x20did\x20method');},_0x57e391[_0x594438(0xda)][_0x594438(0xad)]=function(_0xd712c){var _0x31a360=_0x594438;if(_0xd712c){var _0x4a515a=_0xd712c[_0x31a360(0xe3)](':');if(_0x4a515a[_0x31a360(0xb2)]>0x1)return _0x4a515a[0x1];}throw new Error('DID\x20method\x20can\x20not\x20be\x20determined\x20for\x20DID\x20'+_0xd712c);},_0x57e391['prototype'][_0x594438(0xcd)]=function(_0x33bf48){var _0x2a8f83=_0x594438;return this[_0x2a8f83(0xc4)](this[_0x2a8f83(0xad)](_0x33bf48));},_0x57e391[_0x594438(0xda)][_0x594438(0xd8)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x466098){var _0x37b929=a43_0x3478;switch(_0x466098[_0x37b929(0xd7)]){case 0x0:this[_0x37b929(0xa0)]['info'](_0x37b929(0xeb)+_0x37b929(0xab)+this['currentAccountDidMethod']);return[0x4,this[_0x37b929(0xc4)](_0x37b929(0xd5))[_0x37b929(0xd8)]()];case 0x1:_0x466098[_0x37b929(0xc2)]();return[0x2];}});});},_0x57e391[_0x594438(0xda)][_0x594438(0xc5)]=function(_0x3b5cb0,_0x6e9228,_0xea7acf,_0x3f9815){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x404383){var _0x4c2791=a43_0x3478;return[0x2,this[_0x4c2791(0xc4)](this[_0x4c2791(0xd4)])['createAsset'](_0x3b5cb0,_0x6e9228,_0xea7acf,_0x3f9815)];});});},_0x57e391[_0x594438(0xda)][_0x594438(0xa6)]=function(_0x4a5f74,_0x338600,_0x30d93c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3a53b7,_0x798149=this;return __generator(this,function(_0x15b9d4){var _0x5a175d=a43_0x3478;return _0x3a53b7=this[_0x5a175d(0xad)](_0x4a5f74),_0x338600[_0x5a175d(0xf5)](function(_0x4ea7a5){var _0x3caa06=_0x5a175d;if(_0x3a53b7!==_0x798149[_0x3caa06(0xad)](_0x4ea7a5))throw Error(_0x3caa06(0x9b));}),[0x2,this[_0x5a175d(0xc4)](_0x3a53b7)['addInvolvedParties'](_0x4a5f74,_0x338600,_0x30d93c)];});});},_0x57e391[_0x594438(0xda)][_0x594438(0xe4)]=function(_0x5ebc0c,_0x2a4c9e){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x537364){var _0x1d1868=a43_0x3478;return[0x2,this[_0x1d1868(0xcd)](_0x5ebc0c)['getInvolvedParties'](_0x5ebc0c,_0x2a4c9e)];});});},_0x57e391[_0x594438(0xda)][_0x594438(0xf3)]=function(_0x1e41c8,_0x42debe,_0x22d375){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x4fa817){var _0x58fe99=a43_0x3478;return[0x2,this[_0x58fe99(0xcd)](_0x1e41c8)[_0x58fe99(0xf3)](_0x1e41c8,_0x42debe,_0x22d375)];});});},_0x57e391[_0x594438(0xda)][_0x594438(0xa1)]=function(_0x32aa9a,_0x370490,_0x2ace52,_0x28f430,_0xa947c5){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x2b9bbe){var _0x57c299=a43_0x3478;return[0x2,this[_0x57c299(0xcd)](_0x32aa9a)[_0x57c299(0xa1)](_0x32aa9a,_0x370490,_0x2ace52,_0x28f430,_0xa947c5)];});});},_0x57e391[_0x594438(0xda)]['getAttestations']=function(_0x533b2b,_0x32143d){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4aca3f,_0x3cd136,_0x2992a8=this;return __generator(this,function(_0x13ccbd){var _0x5a3879=a43_0x3478;switch(_0x13ccbd[_0x5a3879(0xd7)]){case 0x0:return[0x4,this[_0x5a3879(0xcd)](_0x533b2b)['getAttestations'](_0x533b2b,_0x32143d)];case 0x1:_0x4aca3f=_0x13ccbd['sent'](),_0x3cd136=_0x4aca3f[_0x5a3879(0xa4)](function(_0x1c8f02){return __awaiter(_0x2992a8,void 0x0,void 0x0,function(){return __generator(this,function(_0x47a962){return[0x2,_0x1c8f02];});});});return[0x2,Promise[_0x5a3879(0xea)](_0x3cd136)];}});});},_0x57e391[_0x594438(0xda)][_0x594438(0xcb)]=function(_0x3ddc11){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x477695){var _0x37d97c=a43_0x3478;return[0x2,this[_0x37d97c(0xc4)](this['currentAccountDidMethod'])['resolveName'](_0x3ddc11)];});});},_0x57e391[_0x594438(0xda)][_0x594438(0xa2)]=function(_0x3d89a7,_0x22ce12){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x3a7eee){var _0x595566=a43_0x3478;return[0x2,this[_0x595566(0xcd)](_0x22ce12)[_0x595566(0xa2)](_0x3d89a7,_0x22ce12)];});});},_0x57e391['prototype'][_0x594438(0xfa)]=function(_0x45b4c7,_0x175c48,_0x1b7b42){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x437504){var _0x21c9e9=a43_0x3478;return[0x2,this['getAssetServiceForDid'](_0x45b4c7)[_0x21c9e9(0xfa)](_0x45b4c7,_0x175c48,_0x1b7b42)];});});},_0x57e391[_0x594438(0xda)][_0x594438(0x95)]=function(_0x10b68d){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x44bbc7){var _0x18d898=a43_0x3478;return[0x2,this[_0x18d898(0xcd)](_0x10b68d)[_0x18d898(0x95)](_0x10b68d)];});});},_0x57e391[_0x594438(0xda)][_0x594438(0xdd)]=function(_0x13f86c){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x33ebdb){var _0x36c850=a43_0x3478;return[0x2,this[_0x36c850(0xc4)](this[_0x36c850(0xd4)])[_0x36c850(0xdd)](_0x13f86c)];});});},_0x57e391['prototype']['isValidDID']=function(_0x395df6){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x234d06){var _0x4cd08b=a43_0x3478;return[0x2,this[_0x4cd08b(0xcd)](_0x395df6)[_0x4cd08b(0xdf)](_0x395df6)];});});},_0x57e391['prototype'][_0x594438(0xce)]=function(_0x5df4fb){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x4473d6){var _0x3045d7=a43_0x3478;return[0x2,this['getAssetServiceForDid'](_0x5df4fb)[_0x3045d7(0xce)](_0x5df4fb)];});});},_0x57e391[_0x594438(0xda)][_0x594438(0xe2)]=function(_0x13edb1){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x3ecbff){var _0x555d57=a43_0x3478;return[0x2,this[_0x555d57(0xcd)](_0x13edb1['id'])[_0x555d57(0xe2)](_0x13edb1)];});});},_0x57e391['prototype'][_0x594438(0xb4)]=function(_0x5c6419,_0x46dfd6,_0x5e4e88,_0x4d22f1){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x289397){var _0x3f34af=a43_0x3478;return[0x2,this['getAssetServiceForDidMethod'](this[_0x3f34af(0xd4)])[_0x3f34af(0xb4)](_0x5c6419,_0x46dfd6,_0x5e4e88,_0x4d22f1)];});});},_0x57e391[_0x594438(0xda)][_0x594438(0xc6)]=function(_0x245e13,_0x4480f8,_0x182258){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x2d6725){var _0x1f1685=a43_0x3478;return[0x2,this[_0x1f1685(0xc4)](this[_0x1f1685(0xd4)])['createVerifiablePresentation'](_0x245e13,_0x4480f8,_0x182258)];});});},_0x57e391[_0x594438(0xda)][_0x594438(0xe6)]=function(_0x14ffec,_0x1bc2dc,_0xaf7970,_0x10437c){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x51b22a){var _0x4ae5a6=a43_0x3478;return[0x2,this[_0x4ae5a6(0xcd)](_0x14ffec)[_0x4ae5a6(0xe6)](_0x14ffec,_0x1bc2dc,_0xaf7970,_0x10437c)];});});},_0x57e391['prototype'][_0x594438(0x91)]=function(_0x5665ed,_0x26b7a8,_0x3549b3){var _0x477afc,_0x1b73e4;return __awaiter(this,void 0x0,void 0x0,function(){var _0x54ab02,_0x1e0a3b,_0x566676,_0x2e37e4,_0x1403c4,_0x4b7164;return __generator(this,function(_0xa56f13){var _0x56485f=a43_0x3478;switch(_0xa56f13[_0x56485f(0xd7)]){case 0x0:typeof _0x3549b3===_0x56485f(0xcf)?(_0x2e37e4=this['extractPayloadFromJwtVc'](_0x3549b3),_0x54ab02=_0x2e37e4===null||_0x2e37e4===void 0x0?void 0x0:_0x2e37e4[_0x56485f(0xdb)],_0x1e0a3b=_0x2e37e4===null||_0x2e37e4===void 0x0?void 0x0:_0x2e37e4[_0x56485f(0xae)],_0x566676=(_0x1b73e4=(_0x477afc=_0x2e37e4===null||_0x2e37e4===void 0x0?void 0x0:_0x2e37e4['vc'])===null||_0x477afc===void 0x0?void 0x0:_0x477afc[_0x56485f(0xd0)])===null||_0x1b73e4===void 0x0?void 0x0:_0x1b73e4[_0x56485f(0xba)]):(typeof _0x3549b3[_0x56485f(0xd0)]===_0x56485f(0xb8)&&(_0x54ab02=typeof _0x3549b3[_0x56485f(0xb9)]===_0x56485f(0xb8)?_0x3549b3[_0x56485f(0xb9)]['id']:_0x3549b3[_0x56485f(0xb9)],_0x1e0a3b=_0x3549b3[_0x56485f(0xd0)]['id'],_0x566676=_0x3549b3[_0x56485f(0xd0)][_0x56485f(0xba)]),Array['isArray'](_0x3549b3[_0x56485f(0xd0)])&&_0x3549b3[_0x56485f(0xd0)]['forEach'](function(_0x52a96f){var _0x238559=_0x56485f;_0x54ab02=typeof _0x3549b3['issuer']===_0x238559(0xb8)?_0x3549b3[_0x238559(0xb9)]['id']:_0x3549b3[_0x238559(0xb9)],_0x1e0a3b=_0x52a96f['id'],_0x566676=_0x52a96f[_0x238559(0xba)];}));if(_0x54ab02===undefined||_0x1e0a3b===undefined||_0x566676===undefined||_0x1e0a3b!==_0x5665ed||_0x566676!==_0x26b7a8)throw new Error('Incorrect\x20verifiable\x20credential\x20data');return[0x4,this[_0x56485f(0xcd)](_0x54ab02)['validateVerifiableCredential'](_0x3549b3)];case 0x1:_0x1403c4=_0xa56f13['sent']();if(_0x1403c4===undefined)throw new Error(_0x56485f(0xb5));typeof _0x3549b3==='string'?_0x4b7164=_0x3549b3:_0x4b7164=JSON[_0x56485f(0xa8)](_0x3549b3);return[0x4,this[_0x56485f(0xcd)](_0x5665ed)['setAttestation'](_0x5665ed,_0x26b7a8,_0x4b7164)];case 0x2:_0xa56f13[_0x56485f(0xc2)]();return[0x2];}});});},_0x57e391['prototype'][_0x594438(0xe1)]=function(_0x49b4da){var _0x2b35c3;return __awaiter(this,void 0x0,void 0x0,function(){var _0x441a75,_0x216cee,_0x2f041d;return __generator(this,function(_0x45f2a2){var _0x47c252=a43_0x3478;typeof _0x49b4da===_0x47c252(0xcf)?(_0x216cee=(_0x2b35c3=this[_0x47c252(0xb6)](_0x49b4da))===null||_0x2b35c3===void 0x0?void 0x0:_0x2b35c3[_0x47c252(0xdb)],_0x216cee!==undefined&&(_0x441a75=_0x216cee)):(_0x2f041d=_0x49b4da,_0x441a75=typeof _0x2f041d['issuer']===_0x47c252(0xb8)?_0x2f041d[_0x47c252(0xb9)]['id']:_0x2f041d[_0x47c252(0xb9)]);if(!_0x441a75)return[0x2,undefined];return[0x2,this[_0x47c252(0xcd)](_0x441a75)[_0x47c252(0xe1)](_0x49b4da)];});});},_0x57e391[_0x594438(0xda)][_0x594438(0xb6)]=function(_0x517ee5){var _0xc0c79e=_0x594438,_0x5060f4=_0x517ee5['split']('.');if(_0x5060f4[_0xc0c79e(0xb2)]<0x3)return undefined;return JSON[_0xc0c79e(0x9d)](b64[_0xc0c79e(0xe8)](_0x5060f4[0x1]));},_0x57e391[_0x594438(0xda)][_0x594438(0xc3)]=function(_0x4bbda8,_0x5329da){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2d73c4,_0x4abae,_0x246ac5,_0x470ef6,_0x4389e9=this;return __generator(this,function(_0x53e483){var _0x5b5a56=a43_0x3478;switch(_0x53e483[_0x5b5a56(0xd7)]){case 0x0:_0x2d73c4=this['getDidMethod'](_0x4bbda8);if(!(_0x2d73c4==='web'))return[0x3,0x2];return[0x4,this[_0x5b5a56(0xc4)](_0x2d73c4)[_0x5b5a56(0xc3)](_0x4bbda8,_0x5329da)];case 0x1:_0x4abae=_0x53e483[_0x5b5a56(0xc2)]();return[0x3,0x4];case 0x2:return[0x4,this['assetHelperService'][_0x5b5a56(0x9a)](_0x4bbda8,_0x5329da,this[_0x5b5a56(0xc4)](_0x2d73c4)[_0x5b5a56(0xfa)],_0x2d73c4)];case 0x3:_0x246ac5=_0x53e483[_0x5b5a56(0xc2)]();if(!_0x246ac5)return this[_0x5b5a56(0xa0)]['debug']('Verifiable\x20Presentation\x20is\x20invalid.'),[0x2,[]];typeof _0x5329da===_0x5b5a56(0xcf)?_0x4abae=this['assetHelperService'][_0x5b5a56(0xa9)](_0x5329da):_0x4abae=_0x5329da['verifiableCredential'];_0x53e483['label']=0x4;case 0x4:_0x470ef6=_0x4abae[_0x5b5a56(0xa4)](function(_0x4ae940){return __awaiter(_0x4389e9,void 0x0,void 0x0,function(){var _0x281a7c;return __generator(this,function(_0x445c1f){var _0x19e287=a43_0x3478;switch(_0x445c1f['label']){case 0x0:this[_0x19e287(0xa0)][_0x19e287(0xca)]('validate\x20verifiable\x20credential:\x20'+JSON['stringify'](_0x4ae940));return[0x4,this[_0x19e287(0xe1)](_0x4ae940)];case 0x1:_0x281a7c=_0x445c1f[_0x19e287(0xc2)](),this[_0x19e287(0xa0)][_0x19e287(0xca)](_0x19e287(0xe0)+JSON[_0x19e287(0xa8)](_0x281a7c));return[0x2,_0x281a7c];}});});});return[0x4,Promise[_0x5b5a56(0xea)](_0x470ef6)];case 0x5:return[0x2,_0x53e483[_0x5b5a56(0xc2)]()[_0x5b5a56(0x8c)](function(_0x262c7d){return _0x262c7d!==undefined;})];}});});},_0x57e391;}());exports['UniversalAssetService']=UniversalAssetService;